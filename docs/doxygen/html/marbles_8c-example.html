<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RayLibOdeMech: marbles.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RayLibOdeMech<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A physics framework combining RayLib graphics with ODE physics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('marbles_8c-example.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">marbles.c</div></div>
</div><!--header-->
<div class="contents">
<dl class="section user"><dt></dt><dd>Marble run, uses multi pistons to create marble lifts</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Copyright (c) 2021-2026 Chris Camacho (codifies -  http://bedroomcoders.co.uk/)</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Permission is hereby granted, free of charge, to any person obtaining a copy</span></div>
<div class="line"><span class="comment"> * of this software and associated documentation files (the &quot;Software&quot;), to deal</span></div>
<div class="line"><span class="comment"> * in the Software without restriction, including without limitation the rights</span></div>
<div class="line"><span class="comment"> * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span></div>
<div class="line"><span class="comment"> * copies of the Software, and to permit persons to whom the Software is</span></div>
<div class="line"><span class="comment"> * furnished to do so, subject to the following conditions:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * The above copyright notice and this permission notice shall be included in</span></div>
<div class="line"><span class="comment"> * all copies or substantial portions of the Software.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div>
<div class="line"><span class="comment"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div>
<div class="line"><span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span></div>
<div class="line"><span class="comment"> * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></div>
<div class="line"><span class="comment"> * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span></div>
<div class="line"><span class="comment"> * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span></div>
<div class="line"><span class="comment"> * SOFTWARE.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="raylibODE_8h.html">raylibODE.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// instances slops, level sections and corners from an array of coordinates</span></div>
<div class="line"><span class="keywordtype">void</span> <a id="a0" name="a0"></a><a class="code hl_function" href="marbles_8c.html#abac6925a410fdbe4f0bc5bdf2d8f5ff6">LoadLevel</a>(<a id="_a1" name="_a1"></a><a class="code hl_struct" href="structPhysicsContext.html">PhysicsContext</a>* physCtx, <a id="_a2" name="_a2"></a><a class="code hl_struct" href="structGraphicsContext.html">GraphicsContext</a>* graphics);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// creates an array of multipistons, and other support geoms to</span></div>
<div class="line"><span class="comment">// provide a marble lift</span></div>
<div class="line"><a id="_a3" name="_a3"></a><a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>** <a id="a4" name="a4"></a><a class="code hl_function" href="marbles_8c.html#aff4f938c7169a18032e8016ba3a2ede6">CreateLift</a>(<a class="code hl_struct" href="structPhysicsContext.html">PhysicsContext</a>* physCtx,</div>
<div class="line">                         <a class="code hl_struct" href="structGraphicsContext.html">GraphicsContext</a>* graphics,</div>
<div class="line">                         Vector3 position,</div>
<div class="line">                         <span class="keywordtype">float</span> yaw,</div>
<div class="line">                         <span class="keywordtype">float</span> strength);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define screenWidth 1920/1.2</span></div>
<div class="line"><span class="preprocessor">#define screenHeight 1080/1.2</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <a id="_a5" name="_a5"></a><a class="code hl_enumeration" href="surface_8h.html#a24dfdcf13ae4e2b7985a3868a1b5169f">SurfaceType</a> <a id="_a6" name="_a6"></a><a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a> = <a id="_a7" name="_a7"></a><a class="code hl_enumvalue" href="surface_8h.html#a24dfdcf13ae4e2b7985a3868a1b5169fa51e788aafe32eaa17dbd2f8c91312ebe">SURFACE_WOOD</a>;</div>
<div class="line"><span class="preprocessor">#define MAX_PISTON 6</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> { <a id="_a8" name="_a8"></a><a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, <a id="_a9" name="_a9"></a><a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, <a id="_a10" name="_a10"></a><a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a> } <a id="_a11" name="_a11"></a><a class="code hl_enumeration" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ced">MeshType</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span><a id="_a12" name="_a12"></a><a class="code hl_struct" href="structLevelElement.html">LevelElement</a> {</div>
<div class="line">    <a class="code hl_enumeration" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ced">MeshType</a> <a id="a13" name="a13"></a><a class="code hl_variable" href="structLevelElement.html#a46c67baf96e2ae166a66fdc0c4fbc0b0">type</a>;</div>
<div class="line">    <span class="keywordtype">float</span> <a id="a14" name="a14"></a><a class="code hl_variable" href="structLevelElement.html#a67e19f29936b4653f96bd92d7594fdfe">gridX</a>;    <span class="comment">// Will be multiplied by 2.0</span></div>
<div class="line">    <span class="keywordtype">float</span> <a id="a15" name="a15"></a><a class="code hl_variable" href="structLevelElement.html#a3ce9993b2d632fea668910a38133d900">gridY</a>;    <span class="comment">// Will be multiplied by 0.55</span></div>
<div class="line">    <span class="keywordtype">float</span> <a id="a16" name="a16"></a><a class="code hl_variable" href="structLevelElement.html#ac63ed2f7a3634b640da0cdb56dca1b98">gridZ</a>;    <span class="comment">// Will be multiplied by 2.0</span></div>
<div class="line">    <span class="keywordtype">float</span> <a id="a17" name="a17"></a><a class="code hl_variable" href="structLevelElement.html#a6e25bcc9e5e5dba96caa47c85c17d9b0">angle</a>;  <span class="comment">// Rotation in radians (e.g., M_PI, -M_PI/2)</span></div>
<div class="line">} <a class="code hl_struct" href="structLevelElement.html">LevelElement</a>;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define the level layout</span></div>
<div class="line"><a class="code hl_struct" href="structLevelElement.html">LevelElement</a> <a id="_a18" name="_a18"></a><a class="code hl_variable" href="marbles_8c.html#a577686ba60ae8772f0078a474d3aff97">levelData</a>[] = {</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,    0, 9, 0, 0.0f },      </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>,    1, 8, 0, 0.0f },      </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a> ,  2, 7, 0, 0.0f },</div>
<div class="line">          </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,   3, 6, 0, 0.0f },</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   4, 5, 0, M_PI },</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,    4, 5, 1, -M_PI/2 },   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   4, 4, 2, 0.0f },</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, 5, 4, 2, 0.0f },      </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   6, 4, 2, M_PI/2 },</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,    6, 4, 1, M_PI/2 },      </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,    6, 3, 0, M_PI/2 },      </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   6, 2, -1, M_PI },</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   5, 2, -1, -M_PI/2},</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,    5, 2, 0, -M_PI/2 },      </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,    5, 1, 1, -M_PI/2 },</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,   5, 0, 2, -M_PI/2 },        </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,   5, -1, 3, -M_PI/2 },        </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// after 1st lift</span></div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,   5, 6, 9, -M_PI/2 },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   5, 5, 10, M_PI/2},</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, 4, 5, 10, M_PI },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>,     3, 4, 10, M_PI },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, 2, 4, 10, 0.0f },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, 1, 4, 10, 0.0f },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, 0, 4, 10, 0.0f },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -1, 4, 10, 0.0f },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>,   -2, 4, 10, 0},</div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>,   -2, 4, 9, M_PI/2 },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 3, 8, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 3, 7, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 3, 6, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -2, 3, 5, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 2, 4, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 2, 3, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 2, 2, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -2, 2, 1, M_PI/2 },   </div>
<div class="line">    </div>
<div class="line">    <span class="comment">// after second lift</span></div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -2, 9, -5, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -2, 8, -6, M_PI/2 },       </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, -2, 8, -7, -M_PI/2 },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -1, 8, -7, 0},   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, 0, 8, -7, M_PI},   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, 0, 8, -6, -M_PI/2 },   </div>
<div class="line">     </div>
<div class="line">    <span class="comment">// after third lift</span></div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, 0, 15, 0, -M_PI/2},   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, 0, 14, 1, M_PI/2},   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, 0, 14, 2, M_PI/2},   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -1, 14, 2, M_PI },   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, -2, 13, 2, -M_PI/2},   </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, -2, 13, 3, 0}, </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -1, 13, 3, 0 },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, 0, 12, 3, M_PI/2 },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, 0, 12, 2, M_PI },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -1, 12, 2, M_PI },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, -2, 11, 2, 0},  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>, -2, 11, 1, M_PI/2 },  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>, -2, 10, 0, -M_PI/2},  </div>
<div class="line">    { <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>, -1, 10, 0,0},  </div>
<div class="line">    </div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/***********************************************************************</span></div>
<div class="line"><span class="comment"> * main !</span></div>
<div class="line"><span class="comment"> **********************************************************************/</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a id="a19" name="a19"></a><a class="code hl_function" href="arm_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// init</span></div>
<div class="line">    <a class="code hl_struct" href="structPhysicsContext.html">PhysicsContext</a>* physCtx = <a id="a20" name="a20"></a><a class="code hl_function" href="init_8c.html#a57d526245eb2f059fac1e6bb3f64ae42">CreatePhysics</a>();</div>
<div class="line">    <a class="code hl_struct" href="structGraphicsContext.html">GraphicsContext</a>* graphics = <a id="a21" name="a21"></a><a class="code hl_function" href="init_8c.html#a0c011796e9f74e7eb4b5bb26305193f9">CreateGraphics</a>(<a id="_a22" name="_a22"></a><a class="code hl_define" href="arm_8c.html#a76da26d519b3a4158847daa8783a7a5b">screenWidth</a>, <a id="_a23" name="_a23"></a><a class="code hl_define" href="arm_8c.html#a8c472bd07ea66dbb884992785271e1d1">screenHeight</a>, <span class="stringliteral">&quot;Raylib and OpenDE Sandbox&quot;</span>);</div>
<div class="line">    <a id="a24" name="a24"></a><a class="code hl_function" href="exampleCamera_8c.html#af155bf31f5a69e64716e1eb1a010f647">SetupCamera</a>(graphics);</div>
<div class="line">    graphics-&gt;<a id="a25" name="a25"></a><a class="code hl_variable" href="structGraphicsContext.html#a67da4b710a791d954415259ae540976c">camera</a>.position = (Vector3){0.f,5.f,8.f};</div>
<div class="line">    <a id="a26" name="a26"></a><a class="code hl_function" href="exampleCamera_8c.html#aaadc2473185a23c67ec11371dd33d09e">SetCameraYaw</a>(M_PI/4);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> Vector3 dropPoint = (Vector3){0.f,12.f,0.f};</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="marbles_8c.html#abac6925a410fdbe4f0bc5bdf2d8f5ff6">LoadLevel</a>(physCtx,graphics);</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>** lift1 = <a class="code hl_function" href="marbles_8c.html#aff4f938c7169a18032e8016ba3a2ede6">CreateLift</a>(physCtx,</div>
<div class="line">                            graphics,</div>
<div class="line">                            (Vector3){0.f, 0.4f, 0.0f},</div>
<div class="line">                            0,</div>
<div class="line">                            1000.0f);</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>** lift2 = <a class="code hl_function" href="marbles_8c.html#aff4f938c7169a18032e8016ba3a2ede6">CreateLift</a>(physCtx,</div>
<div class="line">                                graphics,</div>
<div class="line">                                (Vector3){6.f, 4.f, 8.f},</div>
<div class="line">                                PI,</div>
<div class="line">                                1000.0f);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>** lift3 = <a class="code hl_function" href="marbles_8c.html#aff4f938c7169a18032e8016ba3a2ede6">CreateLift</a>(physCtx,</div>
<div class="line">                                graphics,</div>
<div class="line">                                (Vector3){-10.f, 11.f, -18.f},</div>
<div class="line">                                0,</div>
<div class="line">                                1000.0f);</div>
<div class="line">                                                                    </div>
<div class="line">    <span class="keywordtype">int</span> <a id="_a27" name="_a27"></a><a class="code hl_variable" href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a> = 0;</div>
<div class="line">    <span class="keywordtype">int</span> released = 0;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> maxRelesed = 16;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">float</span> ballSize = .6f;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (!WindowShouldClose())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i &lt; <a id="_a28" name="_a28"></a><a class="code hl_define" href="marbles_8c.html#a0b8b9c89bad94e57bcb490bb29704e00">MAX_PISTON</a>; i++) {</div>
<div class="line">            <span class="keywordtype">float</span> offset = 0.f;</div>
<div class="line">            <span class="comment">// every other piston is 180 degrees out of phase</span></div>
<div class="line">            <span class="keywordflow">if</span> (i % 2 == 0) offset = M_PI;</div>
<div class="line">            <a id="a29" name="a29"></a><a class="code hl_function" href="raylibODE_8c.html#a801a17c097329ca4d55d35f1c5ae7b5a">SetMultiPistonVelocity</a>(lift1[i], sin(((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a>)/60.0f+offset));</div>
<div class="line">            <a class="code hl_function" href="raylibODE_8c.html#a801a17c097329ca4d55d35f1c5ae7b5a">SetMultiPistonVelocity</a>(lift2[i], sin(((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a>)/60.0f+offset));</div>
<div class="line">            <a class="code hl_function" href="raylibODE_8c.html#a801a17c097329ca4d55d35f1c5ae7b5a">SetMultiPistonVelocity</a>(lift3[i], sin(((<span class="keywordtype">float</span>)<a class="code hl_variable" href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a>)/60.0f+offset));</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (released &lt; maxRelesed) {</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code hl_variable" href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a> % 420 == 0) {</div>
<div class="line">                <a id="_a30" name="_a30"></a><a class="code hl_struct" href="structentity.html">entity</a>* e = <a id="a31" name="a31"></a><a class="code hl_function" href="raylibODE_8c.html#ad03521efcc05b3315d24f47d0eed52a6">CreateSphere</a>(physCtx, graphics, ballSize, dropPoint, Vector3Zero(), 1);</div>
<div class="line">                dBodySetAutoDisableFlag(e-&gt;<a id="a32" name="a32"></a><a class="code hl_variable" href="structentity.html#ada0e6866acb68b3f1e2bff5d70b2b760">body</a>, 0);</div>
<div class="line">                <a id="_a33" name="_a33"></a><a class="code hl_struct" href="structgeomInfo.html">geomInfo</a>* gi = dGeomGetData(dBodyGetFirstGeom(e-&gt;<a class="code hl_variable" href="structentity.html#ada0e6866acb68b3f1e2bff5d70b2b760">body</a>));</div>
<div class="line">                gi-&gt;<a id="a34" name="a34"></a><a class="code hl_variable" href="structgeomInfo.html#a8e530854793906e8d625e058ac7b616c">surface</a> = &amp;<a id="_a35" name="_a35"></a><a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a id="_a36" name="_a36"></a><a class="code hl_enumvalue" href="surface_8h.html#a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d">SURFACE_METAL</a>];</div>
<div class="line">                released++;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_variable" href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a>++;</div>
<div class="line"> </div>
<div class="line">        <a id="a37" name="a37"></a><a class="code hl_function" href="exampleCamera_8c.html#a577102dfa73642e5465f7d33ba01465e">UpdateCameraControl</a>(graphics);</div>
<div class="line">        <a id="a38" name="a38"></a><a class="code hl_function" href="raylibODE_8c.html#ad087bfe56f8c97e250f6dd5054fdf76e">StepPhysics</a>(physCtx);</div>
<div class="line">        </div>
<div class="line">        <a id="_a39" name="_a39"></a><a class="code hl_typedef" href="clist_8h.html#a9957c4c04b6e17b9b8fa99e68b94aa9a">cnode_t</a>* node = physCtx-&gt;<a id="a40" name="a40"></a><a class="code hl_variable" href="structPhysicsContext.html#a9b8d81159eec734cb1b95c95203b7f50">objList</a>-&gt;<a id="a41" name="a41"></a><a class="code hl_variable" href="struct____clist.html#a87719175a9395449ee1db0221b39688a">head</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (node != NULL) {</div>
<div class="line">            <a class="code hl_struct" href="structentity.html">entity</a>* ent = node-&gt;<a id="a42" name="a42"></a><a class="code hl_variable" href="struct____cnode.html#ae59520f57274323a159b336ee81f565b">data</a>;</div>
<div class="line">            dBodyID bdy = ent-&gt;<a class="code hl_variable" href="structentity.html#ada0e6866acb68b3f1e2bff5d70b2b760">body</a>;</div>
<div class="line">            <a class="code hl_typedef" href="clist_8h.html#a9957c4c04b6e17b9b8fa99e68b94aa9a">cnode_t</a>* next = node-&gt;<a id="a43" name="a43"></a><a class="code hl_variable" href="struct____cnode.html#aabe3d86831d46a328c4a8764acf66ac4">next</a>; <span class="comment">// get the next node now in case we delete this one</span></div>
<div class="line">            <span class="keyword">const</span> dReal* pos = dBodyGetPosition(bdy);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span>(pos[1]&lt;-10) {</div>
<div class="line">                <a id="a44" name="a44"></a><a class="code hl_function" href="raylibODE_8c.html#aa86cbb92909da330ef988d813fb7baed">FreeEntity</a>(physCtx, ent); <span class="comment">// warning deletes global entity list entry, get your next node before doing this!</span></div>
<div class="line">                <span class="comment">//entity* e = CreateSphere(physCtx, graphics, 0.55, dropPoint, Vector3Zero(), 1);</span></div>
<div class="line">                <span class="comment">//dBodySetAutoDisableFlag(e-&gt;body, 0);</span></div>
<div class="line">                <span class="comment">//geomInfo* gi = dGeomGetData(dBodyGetFirstGeom(e-&gt;body));</span></div>
<div class="line">                <span class="comment">//gi-&gt;surface = &amp;gSurfaces[SURFACE_RUBBER];</span></div>
<div class="line">                released--;</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            node = next;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// drawing</span></div>
<div class="line">        BeginDrawing();</div>
<div class="line">            ClearBackground(BLACK);</div>
<div class="line">            BeginMode3D(graphics-&gt;<a class="code hl_variable" href="structGraphicsContext.html#a67da4b710a791d954415259ae540976c">camera</a>);</div>
<div class="line">                <a id="a45" name="a45"></a><a class="code hl_function" href="raylibODE_8c.html#aa01114b518b93c528e9e85382ce46b4b">DrawBodies</a>(graphics, physCtx);</div>
<div class="line">                <a id="a46" name="a46"></a><a class="code hl_function" href="raylibODE_8c.html#a1232d8000138fdc6d2f9741548a263aa">DrawStatics</a>(graphics, physCtx);</div>
<div class="line">            EndMode3D();</div>
<div class="line"> </div>
<div class="line">            DrawText(<span class="stringliteral">&quot;Marbles!&quot;</span>, 10, 40, 20, RAYWHITE);</div>
<div class="line"> </div>
<div class="line">        EndDrawing();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a id="a47" name="a47"></a><a class="code hl_function" href="init_8c.html#aadcc246e22ab4be2dd926a25c5bc9bad">FreePhysics</a>(physCtx);</div>
<div class="line">    <a id="a48" name="a48"></a><a class="code hl_function" href="init_8c.html#a6569bf61ca03001b6fabedc21aff855a">FreeGraphics</a>(graphics);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// TODO make this easier !</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="marbles_8c.html#a0b8b9c89bad94e57bcb490bb29704e00">MAX_PISTON</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        <a id="a49" name="a49"></a><a class="code hl_function" href="raylibODE_8c.html#a710981c5db9781e25b27318e8d56dfbb">FreeMultiPiston</a>(lift1[i]);</div>
<div class="line">        <a class="code hl_function" href="raylibODE_8c.html#a710981c5db9781e25b27318e8d56dfbb">FreeMultiPiston</a>(lift2[i]);</div>
<div class="line">        <a class="code hl_function" href="raylibODE_8c.html#a710981c5db9781e25b27318e8d56dfbb">FreeMultiPiston</a>(lift3[i]);</div>
<div class="line">    }</div>
<div class="line">    free(lift1);</div>
<div class="line">    free(lift2);</div>
<div class="line">    free(lift3);</div>
<div class="line">    </div>
<div class="line">    CloseWindow();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="marbles_8c.html#abac6925a410fdbe4f0bc5bdf2d8f5ff6">LoadLevel</a>(<a class="code hl_struct" href="structPhysicsContext.html">PhysicsContext</a>* physCtx, <a class="code hl_struct" href="structGraphicsContext.html">GraphicsContext</a>* graphics) {</div>
<div class="line">    <span class="keywordtype">int</span> numElements = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="marbles_8c.html#a577686ba60ae8772f0078a474d3aff97">levelData</a>) / <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structLevelElement.html">LevelElement</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">float</span> layerHeight = 1.17;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numElements; i++) {</div>
<div class="line">        <a class="code hl_struct" href="structLevelElement.html">LevelElement</a> e = <a class="code hl_variable" href="marbles_8c.html#a577686ba60ae8772f0078a474d3aff97">levelData</a>[i];</div>
<div class="line">        <span class="keywordtype">float</span> ea = e.<a class="code hl_variable" href="structLevelElement.html#a6e25bcc9e5e5dba96caa47c85c17d9b0">angle</a> + M_PI_2;</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">switch</span>(e.<a class="code hl_variable" href="structLevelElement.html#a46c67baf96e2ae166a66fdc0c4fbc0b0">type</a>) </div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a>:</div>
<div class="line">                (void)e; <span class="comment">// workaround for c99 decl after label</span></div>
<div class="line">                <span class="keywordtype">float</span> pAngle = 30.0f * (M_PI / 180.0f); </div>
<div class="line">                </div>
<div class="line">                <span class="keywordflow">if</span> (ea &gt; M_PI * 2.0f) ea -= M_PI * 2.0f;</div>
<div class="line">                dQuaternion q,q2,q3;</div>
<div class="line">                dQFromAxisAndAngle (q3, 1, 0, 0, pAngle);</div>
<div class="line">                dQFromAxisAndAngle (q2, 0, 1, 0, ea);</div>
<div class="line">                dQMultiply0 (q, q2, q3);</div>
<div class="line">                dMatrix4 R;</div>
<div class="line">                dQtoR(q, R);</div>
<div class="line">                </div>
<div class="line">                <span class="keywordtype">float</span> offX = 0.5f * cosf(ea);</div>
<div class="line">                <span class="keywordtype">float</span> offZ = 0.5f * sinf(ea);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Rail 1</span></div>
<div class="line">                Vector3 pos = (Vector3) {</div>
<div class="line">                    (float)e.<a class="code hl_variable" href="structLevelElement.html#a67e19f29936b4653f96bd92d7594fdfe">gridX</a> * 2.0f + offX,</div>
<div class="line">                    (<span class="keywordtype">float</span>)e.<a class="code hl_variable" href="structLevelElement.html#a3ce9993b2d632fea668910a38133d900">gridY</a> * layerHeight -.2f,</div>
<div class="line">                    (float)e.<a class="code hl_variable" href="structLevelElement.html#ac63ed2f7a3634b640da0cdb56dca1b98">gridZ</a> * 2.0f - offZ};</div>
<div class="line">                dGeomID dg = <a id="a50" name="a50"></a><a class="code hl_function" href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a>(physCtx, graphics, 0.1f, 2.4f, pos);</div>
<div class="line">                <a class="code hl_struct" href="structgeomInfo.html">geomInfo</a>* gi = dGeomGetData(dg);</div>
<div class="line">                gi-&gt;<a class="code hl_variable" href="structgeomInfo.html#a8e530854793906e8d625e058ac7b616c">surface</a> = &amp;<a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a>];</div>
<div class="line">                dGeomSetRotation(dg, R);</div>
<div class="line">        </div>
<div class="line">                <span class="comment">// Rail 2</span></div>
<div class="line">                pos.x = (float)e.<a class="code hl_variable" href="structLevelElement.html#a67e19f29936b4653f96bd92d7594fdfe">gridX</a> * 2.0f - offX;</div>
<div class="line">                pos.z = (float)e.<a class="code hl_variable" href="structLevelElement.html#ac63ed2f7a3634b640da0cdb56dca1b98">gridZ</a> * 2.0f + offZ;</div>
<div class="line">                dGeomID dg2 = <a class="code hl_function" href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a>(physCtx, graphics, 0.1f, 2.4f, pos);</div>
<div class="line">                gi = dGeomGetData(dg2);</div>
<div class="line">                gi-&gt;surface = &amp;<a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a>];</div>
<div class="line">                dGeomSetRotation(dg2, R);</div>
<div class="line"> </div>
<div class="line">                <a id="a51" name="a51"></a><a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a id="a52" name="a52"></a><a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, dg);</div>
<div class="line">                <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, dg2);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a>: </div>
<div class="line">            </div>
<div class="line">                offX = 0.5f * cosf(ea);</div>
<div class="line">                offZ = 0.5f * sinf(ea);</div>
<div class="line">                </div>
<div class="line">                pos = (Vector3) {</div>
<div class="line">                    (float)e.<a class="code hl_variable" href="structLevelElement.html#a67e19f29936b4653f96bd92d7594fdfe">gridX</a> * 2.0f + offX,</div>
<div class="line">                    (<span class="keywordtype">float</span>)e.<a class="code hl_variable" href="structLevelElement.html#a3ce9993b2d632fea668910a38133d900">gridY</a> * layerHeight +0.4f,</div>
<div class="line">                    (float)e.<a class="code hl_variable" href="structLevelElement.html#ac63ed2f7a3634b640da0cdb56dca1b98">gridZ</a> * 2.0f - offZ};</div>
<div class="line">            </div>
<div class="line">                dg = <a class="code hl_function" href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a>(physCtx, graphics, 0.1f, 2, pos);</div>
<div class="line">                gi = dGeomGetData(dg);</div>
<div class="line">                gi-&gt;surface = &amp;<a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a>];</div>
<div class="line"> </div>
<div class="line">                pos.x = (float)e.<a class="code hl_variable" href="structLevelElement.html#a67e19f29936b4653f96bd92d7594fdfe">gridX</a> * 2.0f - offX;</div>
<div class="line">                pos.z = (float)e.<a class="code hl_variable" href="structLevelElement.html#ac63ed2f7a3634b640da0cdb56dca1b98">gridZ</a> * 2.0f + offZ;</div>
<div class="line">                </div>
<div class="line">                dg2 = <a class="code hl_function" href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a>(physCtx, graphics, 0.1f, 2, pos);</div>
<div class="line">                gi = dGeomGetData(dg2);</div>
<div class="line">                gi-&gt;surface = &amp;<a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a>];</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// always rotate as Z axis cylinders need extra half pi rotation</span></div>
<div class="line">                dQFromAxisAndAngle(q, 0, 1, 0, e.angle+M_PI_2);</div>
<div class="line">                dGeomSetQuaternion(dg, q);</div>
<div class="line">                dGeomSetQuaternion(dg2, q);</div>
<div class="line">                </div>
<div class="line">                <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, dg);</div>
<div class="line">                <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, dg2);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a>: </div>
<div class="line">                <span class="comment">// this was just a brain melt !</span></div>
<div class="line">                offX = (float)e.gridX * 2.0f;</div>
<div class="line">                offZ = (float)e.gridZ * 2.0f;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Stick with the rot + M_PI_2 that gave us consistency</span></div>
<div class="line">                <span class="keywordtype">float</span> rot = e.angle + M_PI_2;</div>
<div class="line">                <span class="keywordtype">float</span> s = sinf(rot);</div>
<div class="line">                <span class="keywordtype">float</span> c = cosf(rot);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++) {</div>
<div class="line">                    <span class="keywordtype">float</span> pAngle = (j * (M_PI_2 / 3.0f)) + (M_PI_2 / 6.0f);</div>
<div class="line">                    </div>
<div class="line">                    <span class="keywordtype">float</span> lx1 = -1.0f + 0.5f * cosf(pAngle);</div>
<div class="line">                    <span class="keywordtype">float</span> lz1 = -1.0f + 0.5f * sinf(pAngle);</div>
<div class="line">                    <span class="keywordtype">float</span> lx2 = -1.0f + 1.6f * cosf(pAngle);</div>
<div class="line">                    <span class="keywordtype">float</span> lz2 = -1.0f + 1.6f * sinf(pAngle);</div>
<div class="line"> </div>
<div class="line">                    pos.x = offX - (lx1 * c + lz1 * s); </div>
<div class="line">                    pos.y = (float)e.gridY * layerHeight + 0.4f;</div>
<div class="line">                    pos.z = offZ - (lz1 * c - lx1 * s); </div>
<div class="line"> </div>
<div class="line">                    dQFromAxisAndAngle(q, 0, 1, 0, rot - pAngle);</div>
<div class="line">                    dQtoR(q, R);</div>
<div class="line"> </div>
<div class="line">                    <span class="comment">// Inner Rail</span></div>
<div class="line">                    dg = <a class="code hl_function" href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a>(physCtx, graphics, 0.1f, 0.261f, pos);</div>
<div class="line">                    gi = dGeomGetData(dg);</div>
<div class="line">                    gi-&gt;surface = &amp;<a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a>];</div>
<div class="line">                    dGeomSetRotation(dg, R);</div>
<div class="line">                    <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, dg);</div>
<div class="line"> </div>
<div class="line">                    pos.x = offX - (lx2 * c + lz2 * s);</div>
<div class="line">                    pos.y += 0.5f;</div>
<div class="line">                    pos.z = offZ - (lz2 * c - lx2 * s);</div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Outer Rail</span></div>
<div class="line">                    dg2 = <a class="code hl_function" href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a>(physCtx, graphics, 0.1f, 1.f, pos);</div>
<div class="line">                    gi = dGeomGetData(dg2);</div>
<div class="line">                    gi-&gt;surface = &amp;<a class="code hl_variable" href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a>[<a class="code hl_variable" href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a>];</div>
<div class="line">                    dGeomSetRotation(dg2, R);</div>
<div class="line">                    <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, dg2);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>** <a class="code hl_function" href="marbles_8c.html#aff4f938c7169a18032e8016ba3a2ede6">CreateLift</a>(<a class="code hl_struct" href="structPhysicsContext.html">PhysicsContext</a>* physCtx,</div>
<div class="line">                         <a class="code hl_struct" href="structGraphicsContext.html">GraphicsContext</a>* graphics,</div>
<div class="line">                         Vector3 position,</div>
<div class="line">                         <span class="keywordtype">float</span> yaw,</div>
<div class="line">                         <span class="keywordtype">float</span> strength)</div>
<div class="line">{</div>
<div class="line">    Vector3 upAxis = (Vector3){0.f, 1.f, 0.f};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Allocate multipiston array using raylib allocator</span></div>
<div class="line">    <a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>** mp = (<a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>**)MemAlloc(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structMultiPiston.html">MultiPiston</a>*) * <a class="code hl_define" href="marbles_8c.html#a0b8b9c89bad94e57bcb490bb29704e00">MAX_PISTON</a>);</div>
<div class="line"> </div>
<div class="line">    dMatrix3 R_yaw;</div>
<div class="line">    dRFromAxisAndAngle(R_yaw, 0, 1, 0, yaw);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Pistons </span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="marbles_8c.html#a0b8b9c89bad94e57bcb490bb29704e00">MAX_PISTON</a>; i++)</div>
<div class="line">    {</div>
<div class="line">        Vector3 localPos = (Vector3){10.f, -3.8f + i*1.4f, 7.6f + i*1.6f};</div>
<div class="line"> </div>
<div class="line">        Vector3 worldPos = Vector3Add(</div>
<div class="line">            position,</div>
<div class="line">            Vector3RotateByAxisAngle(localPos, upAxis, yaw)</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        Vector3 axis = Vector3RotateByAxisAngle(</div>
<div class="line">            (Vector3){1.f,0.f,0.f},</div>
<div class="line">            upAxis,</div>
<div class="line">            yaw</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        mp[i] = <a id="a53" name="a53"></a><a class="code hl_function" href="raylibODE_8c.html#a8d2339918b2d47fcaea5c861ccfbc3d8">CreateMultiPiston</a>(physCtx, graphics,</div>
<div class="line">                                  worldPos,</div>
<div class="line">                                  axis,</div>
<div class="line">                                  3,</div>
<div class="line">                                  2.0f,</div>
<div class="line">                                  1.2f,</div>
<div class="line">                                  strength);</div>
<div class="line"> </div>
<div class="line">        dMatrix3 R_local;</div>
<div class="line">        dMatrix3 R_final;</div>
<div class="line"> </div>
<div class="line">        dRFromEulerAngles(R_local,</div>
<div class="line">                          0,</div>
<div class="line">                          M_PI_2,</div>
<div class="line">                          (-M_PI/16.f) * 7.f);</div>
<div class="line"> </div>
<div class="line">        dMultiply0(R_final, R_yaw, R_local, 3, 3, 3);</div>
<div class="line">        dBodySetRotation(mp[i]-&gt;sections[0]-&gt;body, R_final);</div>
<div class="line">        <a id="a54" name="a54"></a><a class="code hl_function" href="raylibODE_8c.html#a57b8ac137f7e79fc8deb53b7ba410166">PinEntityToWorld</a>(physCtx, mp[i]-&gt;sections[0]);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// -------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Lift End</span></div>
<div class="line">    <span class="comment">// -------------------------------------------------</span></div>
<div class="line">    {</div>
<div class="line">        Vector3 localPos = (Vector3){10.f, 5.f, 16.7f};</div>
<div class="line"> </div>
<div class="line">        Vector3 worldPos = Vector3Add(</div>
<div class="line">            position,</div>
<div class="line">            Vector3RotateByAxisAngle(localPos, upAxis, yaw)</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        dGeomID liftEnd = <a id="a55" name="a55"></a><a class="code hl_function" href="raylibODE_8c.html#a37e31d3074a98d5f5a40096dc9b342f7">CreateBoxGeom</a>(</div>
<div class="line">            physCtx,</div>
<div class="line">            graphics,</div>
<div class="line">            (Vector3){2.f,.1f,4.f},</div>
<div class="line">            worldPos</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        dMatrix3 R_tilt;</div>
<div class="line">        dMatrix3 R_final;</div>
<div class="line"> </div>
<div class="line">        dRFromAxisAndAngle(R_tilt, 1, 0, 0, -(M_PI/16.f) * 7.f);</div>
<div class="line">        dMultiply0(R_final, R_yaw, R_tilt, 3, 3, 3);</div>
<div class="line">        dGeomSetRotation(liftEnd, R_final);</div>
<div class="line">        <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, liftEnd);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// -------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Rail 1</span></div>
<div class="line">    <span class="comment">// -------------------------------------------------</span></div>
<div class="line">    {</div>
<div class="line">        Vector3 localPos = (Vector3){9.2f, 2.f, 12.f};</div>
<div class="line">        Vector3 worldPos = Vector3Add(</div>
<div class="line">            position,</div>
<div class="line">            Vector3RotateByAxisAngle(localPos, upAxis, yaw)</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        dGeomID liftRail1 = <a class="code hl_function" href="raylibODE_8c.html#a37e31d3074a98d5f5a40096dc9b342f7">CreateBoxGeom</a>(</div>
<div class="line">            physCtx,</div>
<div class="line">            graphics,</div>
<div class="line">            (Vector3){.1f,.8f,13.f},</div>
<div class="line">            worldPos</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        dMatrix3 R_tilt;</div>
<div class="line">        dMatrix3 R_final;</div>
<div class="line"> </div>
<div class="line">        dRFromAxisAndAngle(R_tilt, 1, 0, 0, -(M_PI/16.f) * 3.5f);</div>
<div class="line">        dMultiply0(R_final, R_yaw, R_tilt, 3, 3, 3);</div>
<div class="line">        dGeomSetRotation(liftRail1, R_final);</div>
<div class="line">        <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, liftRail1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// -------------------------------------------------</span></div>
<div class="line">    <span class="comment">// Rail 2</span></div>
<div class="line">    <span class="comment">// -------------------------------------------------</span></div>
<div class="line">    {</div>
<div class="line">        Vector3 localPos = (Vector3){10.8f, 2.f, 12.f};</div>
<div class="line"> </div>
<div class="line">        Vector3 worldPos = Vector3Add(</div>
<div class="line">            position,</div>
<div class="line">            Vector3RotateByAxisAngle(localPos, upAxis, yaw)</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        dGeomID liftRail2 = <a class="code hl_function" href="raylibODE_8c.html#a37e31d3074a98d5f5a40096dc9b342f7">CreateBoxGeom</a>(</div>
<div class="line">            physCtx,</div>
<div class="line">            graphics,</div>
<div class="line">            (Vector3){.1f,.8f,13.f},</div>
<div class="line">            worldPos</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        dMatrix3 R_tilt;</div>
<div class="line">        dMatrix3 R_final;</div>
<div class="line"> </div>
<div class="line">        dRFromAxisAndAngle(R_tilt, 1, 0, 0, -(M_PI/16.f) * 3.5f);</div>
<div class="line"> </div>
<div class="line">        dMultiply0(R_final, R_yaw, R_tilt, 3, 3, 3);</div>
<div class="line"> </div>
<div class="line">        dGeomSetRotation(liftRail2, R_final);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a>(physCtx-&gt;<a class="code hl_variable" href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">statics</a>, liftRail2);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> mp;</div>
<div class="line">}</div>
<div class="ttc" id="aarm_8c_html_a76da26d519b3a4158847daa8783a7a5b"><div class="ttname"><a href="arm_8c.html#a76da26d519b3a4158847daa8783a7a5b">screenWidth</a></div><div class="ttdeci">#define screenWidth</div><div class="ttdef"><b>Definition</b> <a href="arm_8c_source.html#l00027">arm.c:27</a></div></div>
<div class="ttc" id="aarm_8c_html_a840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="arm_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdef"><b>Definition</b> <a href="arm_8c_source.html#l00064">arm.c:64</a></div></div>
<div class="ttc" id="aarm_8c_html_a8c472bd07ea66dbb884992785271e1d1"><div class="ttname"><a href="arm_8c.html#a8c472bd07ea66dbb884992785271e1d1">screenHeight</a></div><div class="ttdeci">#define screenHeight</div><div class="ttdef"><b>Definition</b> <a href="arm_8c_source.html#l00028">arm.c:28</a></div></div>
<div class="ttc" id="aclist_8c_html_a264922774fdf767e31797fe81f2231be"><div class="ttname"><a href="clist_8c.html#a264922774fdf767e31797fe81f2231be">clistAddNode</a></div><div class="ttdeci">cnode_t * clistAddNode(clist_t *list, void *data)</div><div class="ttdoc">adds a node to a list</div><div class="ttdef"><b>Definition</b> <a href="clist_8c_source.html#l00047">clist.c:47</a></div></div>
<div class="ttc" id="aclist_8h_html_a9957c4c04b6e17b9b8fa99e68b94aa9a"><div class="ttname"><a href="clist_8h.html#a9957c4c04b6e17b9b8fa99e68b94aa9a">cnode_t</a></div><div class="ttdeci">struct __cnode cnode_t</div><div class="ttdef"><b>Definition</b> <a href="clist_8h_source.html#l00007">clist.h:7</a></div></div>
<div class="ttc" id="aexampleCamera_8c_html_a577102dfa73642e5465f7d33ba01465e"><div class="ttname"><a href="exampleCamera_8c.html#a577102dfa73642e5465f7d33ba01465e">UpdateCameraControl</a></div><div class="ttdeci">void UpdateCameraControl(struct GraphicsContext *ctx)</div><div class="ttdoc">update the camera</div><div class="ttdef"><b>Definition</b> <a href="exampleCamera_8c_source.html#l00169">exampleCamera.c:169</a></div></div>
<div class="ttc" id="aexampleCamera_8c_html_aaadc2473185a23c67ec11371dd33d09e"><div class="ttname"><a href="exampleCamera_8c.html#aaadc2473185a23c67ec11371dd33d09e">SetCameraYaw</a></div><div class="ttdeci">void SetCameraYaw(float y)</div><div class="ttdef"><b>Definition</b> <a href="exampleCamera_8c_source.html#l00062">exampleCamera.c:62</a></div></div>
<div class="ttc" id="aexampleCamera_8c_html_af155bf31f5a69e64716e1eb1a010f647"><div class="ttname"><a href="exampleCamera_8c.html#af155bf31f5a69e64716e1eb1a010f647">SetupCamera</a></div><div class="ttdeci">void SetupCamera(struct GraphicsContext *ctx)</div><div class="ttdoc">Initialize the camera.</div><div class="ttdef"><b>Definition</b> <a href="exampleCamera_8c_source.html#l00082">exampleCamera.c:82</a></div></div>
<div class="ttc" id="agravity_8c_html_abaf7d77bd2fc7eb6125fa605bd645b67"><div class="ttname"><a href="gravity_8c.html#abaf7d77bd2fc7eb6125fa605bd645b67">frameCount</a></div><div class="ttdeci">int frameCount</div><div class="ttdef"><b>Definition</b> <a href="gravity_8c_source.html#l00090">gravity.c:90</a></div></div>
<div class="ttc" id="ainit_8c_html_a0c011796e9f74e7eb4b5bb26305193f9"><div class="ttname"><a href="init_8c.html#a0c011796e9f74e7eb4b5bb26305193f9">CreateGraphics</a></div><div class="ttdeci">GraphicsContext * CreateGraphics(int width, int height, const char *title)</div><div class="ttdoc">Initialize graphics context and window.</div><div class="ttdef"><b>Definition</b> <a href="init_8c_source.html#l00077">init.c:77</a></div></div>
<div class="ttc" id="ainit_8c_html_a57d526245eb2f059fac1e6bb3f64ae42"><div class="ttname"><a href="init_8c.html#a57d526245eb2f059fac1e6bb3f64ae42">CreatePhysics</a></div><div class="ttdeci">PhysicsContext * CreatePhysics()</div><div class="ttdoc">Initialize physics world and context.</div><div class="ttdef"><b>Definition</b> <a href="init_8c_source.html#l00158">init.c:158</a></div></div>
<div class="ttc" id="ainit_8c_html_a6569bf61ca03001b6fabedc21aff855a"><div class="ttname"><a href="init_8c.html#a6569bf61ca03001b6fabedc21aff855a">FreeGraphics</a></div><div class="ttdeci">void FreeGraphics(GraphicsContext *ctx)</div><div class="ttdef"><b>Definition</b> <a href="init_8c_source.html#l00246">init.c:246</a></div></div>
<div class="ttc" id="ainit_8c_html_aadcc246e22ab4be2dd926a25c5bc9bad"><div class="ttname"><a href="init_8c.html#aadcc246e22ab4be2dd926a25c5bc9bad">FreePhysics</a></div><div class="ttdeci">void FreePhysics(PhysicsContext *ctx)</div><div class="ttdef"><b>Definition</b> <a href="init_8c_source.html#l00195">init.c:195</a></div></div>
<div class="ttc" id="amarbles_8c_html_a0b8b9c89bad94e57bcb490bb29704e00"><div class="ttname"><a href="marbles_8c.html#a0b8b9c89bad94e57bcb490bb29704e00">MAX_PISTON</a></div><div class="ttdeci">#define MAX_PISTON</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00045">marbles.c:45</a></div></div>
<div class="ttc" id="amarbles_8c_html_a24f376ccef7a39450a2fcdbf5ba97ced"><div class="ttname"><a href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ced">MeshType</a></div><div class="ttdeci">MeshType</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00047">marbles.c:47</a></div></div>
<div class="ttc" id="amarbles_8c_html_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05"><div class="ttname"><a href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05">STRAIGHT</a></div><div class="ttdeci">@ STRAIGHT</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00047">marbles.c:47</a></div></div>
<div class="ttc" id="amarbles_8c_html_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea"><div class="ttname"><a href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea">CORNER</a></div><div class="ttdeci">@ CORNER</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00047">marbles.c:47</a></div></div>
<div class="ttc" id="amarbles_8c_html_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194"><div class="ttname"><a href="marbles_8c.html#a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194">SLOPE</a></div><div class="ttdeci">@ SLOPE</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00047">marbles.c:47</a></div></div>
<div class="ttc" id="amarbles_8c_html_a577686ba60ae8772f0078a474d3aff97"><div class="ttname"><a href="marbles_8c.html#a577686ba60ae8772f0078a474d3aff97">levelData</a></div><div class="ttdeci">LevelElement levelData[]</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00059">marbles.c:59</a></div></div>
<div class="ttc" id="amarbles_8c_html_abac6925a410fdbe4f0bc5bdf2d8f5ff6"><div class="ttname"><a href="marbles_8c.html#abac6925a410fdbe4f0bc5bdf2d8f5ff6">LoadLevel</a></div><div class="ttdeci">void LoadLevel(PhysicsContext *physCtx, GraphicsContext *graphics)</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00249">marbles.c:249</a></div></div>
<div class="ttc" id="amarbles_8c_html_aff0dc55dc38a2313b97620b8856f701a"><div class="ttname"><a href="marbles_8c.html#aff0dc55dc38a2313b97620b8856f701a">levelSurface</a></div><div class="ttdeci">const SurfaceType levelSurface</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00044">marbles.c:44</a></div></div>
<div class="ttc" id="amarbles_8c_html_aff4f938c7169a18032e8016ba3a2ede6"><div class="ttname"><a href="marbles_8c.html#aff4f938c7169a18032e8016ba3a2ede6">CreateLift</a></div><div class="ttdeci">MultiPiston ** CreateLift(PhysicsContext *physCtx, GraphicsContext *graphics, Vector3 position, float yaw, float strength)</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00378">marbles.c:378</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a1232d8000138fdc6d2f9741548a263aa"><div class="ttname"><a href="raylibODE_8c.html#a1232d8000138fdc6d2f9741548a263aa">DrawStatics</a></div><div class="ttdeci">void DrawStatics(struct GraphicsContext *ctx, PhysicsContext *pctx)</div><div class="ttdoc">draws the static geometries</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01161">raylibODE.c:1161</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a37e31d3074a98d5f5a40096dc9b342f7"><div class="ttname"><a href="raylibODE_8c.html#a37e31d3074a98d5f5a40096dc9b342f7">CreateBoxGeom</a></div><div class="ttdeci">dGeomID CreateBoxGeom(PhysicsContext *ctx, GraphicsContext *gfxCtx, Vector3 size, Vector3 pos)</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l00383">raylibODE.c:383</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a57b8ac137f7e79fc8deb53b7ba410166"><div class="ttname"><a href="raylibODE_8c.html#a57b8ac137f7e79fc8deb53b7ba410166">PinEntityToWorld</a></div><div class="ttdeci">dJointID PinEntityToWorld(PhysicsContext *physCtx, entity *ent)</div><div class="ttdoc">pins an entity to the world</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01386">raylibODE.c:1386</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a710981c5db9781e25b27318e8d56dfbb"><div class="ttname"><a href="raylibODE_8c.html#a710981c5db9781e25b27318e8d56dfbb">FreeMultiPiston</a></div><div class="ttdeci">void FreeMultiPiston(MultiPiston *mp)</div><div class="ttdoc">frees all the internal resources of a multipiston</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01262">raylibODE.c:1262</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a801a17c097329ca4d55d35f1c5ae7b5a"><div class="ttname"><a href="raylibODE_8c.html#a801a17c097329ca4d55d35f1c5ae7b5a">SetMultiPistonVelocity</a></div><div class="ttdeci">void SetMultiPistonVelocity(MultiPiston *mp, float velocity)</div><div class="ttdoc">set a MultiPiston&#39;s velocity</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01331">raylibODE.c:1331</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a8928fb910d045f15136fd02999b7ffa6"><div class="ttname"><a href="raylibODE_8c.html#a8928fb910d045f15136fd02999b7ffa6">CreateCylinderGeom</a></div><div class="ttdeci">dGeomID CreateCylinderGeom(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, float length, Vector3 pos)</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l00356">raylibODE.c:356</a></div></div>
<div class="ttc" id="araylibODE_8c_html_a8d2339918b2d47fcaea5c861ccfbc3d8"><div class="ttname"><a href="raylibODE_8c.html#a8d2339918b2d47fcaea5c861ccfbc3d8">CreateMultiPiston</a></div><div class="ttdeci">MultiPiston * CreateMultiPiston(PhysicsContext *physCtx, GraphicsContext *graphics, Vector3 pos, Vector3 direction, int count, float sectionLen, float baseWidth, float strength)</div><div class="ttdoc">add a multi section piston</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01283">raylibODE.c:1283</a></div></div>
<div class="ttc" id="araylibODE_8c_html_aa01114b518b93c528e9e85382ce46b4b"><div class="ttname"><a href="raylibODE_8c.html#aa01114b518b93c528e9e85382ce46b4b">DrawBodies</a></div><div class="ttdeci">void DrawBodies(struct GraphicsContext *ctx, PhysicsContext *pctx)</div><div class="ttdoc">Draws all the dynamic bodies the framework is tracking.</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01125">raylibODE.c:1125</a></div></div>
<div class="ttc" id="araylibODE_8c_html_aa86cbb92909da330ef988d813fb7baed"><div class="ttname"><a href="raylibODE_8c.html#aa86cbb92909da330ef988d813fb7baed">FreeEntity</a></div><div class="ttdeci">void FreeEntity(PhysicsContext *physCtx, entity *ent)</div><div class="ttdoc">frees an entity</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l01182">raylibODE.c:1182</a></div></div>
<div class="ttc" id="araylibODE_8c_html_ad03521efcc05b3315d24f47d0eed52a6"><div class="ttname"><a href="raylibODE_8c.html#ad03521efcc05b3315d24f47d0eed52a6">CreateSphere</a></div><div class="ttdeci">entity * CreateSphere(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, Vector3 pos, Vector3 rot, float mass)</div><div class="ttdoc">Add a sphere-shaped physics body to the world.</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l00460">raylibODE.c:460</a></div></div>
<div class="ttc" id="araylibODE_8c_html_ad087bfe56f8c97e250f6dd5054fdf76e"><div class="ttname"><a href="raylibODE_8c.html#ad087bfe56f8c97e250f6dd5054fdf76e">StepPhysics</a></div><div class="ttdeci">int StepPhysics(PhysicsContext *physCtx)</div><div class="ttdoc">Step the physics simulation forward.</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8c_source.html#l00260">raylibODE.c:260</a></div></div>
<div class="ttc" id="araylibODE_8h_html"><div class="ttname"><a href="raylibODE_8h.html">raylibODE.h</a></div></div>
<div class="ttc" id="astructGraphicsContext_html"><div class="ttname"><a href="structGraphicsContext.html">GraphicsContext</a></div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00146">raylibODE.h:146</a></div></div>
<div class="ttc" id="astructGraphicsContext_html_a67da4b710a791d954415259ae540976c"><div class="ttname"><a href="structGraphicsContext.html#a67da4b710a791d954415259ae540976c">GraphicsContext::camera</a></div><div class="ttdeci">Camera camera</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00159">raylibODE.h:159</a></div></div>
<div class="ttc" id="astructLevelElement_html"><div class="ttname"><a href="structLevelElement.html">LevelElement</a></div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00049">marbles.c:49</a></div></div>
<div class="ttc" id="astructLevelElement_html_a3ce9993b2d632fea668910a38133d900"><div class="ttname"><a href="structLevelElement.html#a3ce9993b2d632fea668910a38133d900">LevelElement::gridY</a></div><div class="ttdeci">float gridY</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00052">marbles.c:52</a></div></div>
<div class="ttc" id="astructLevelElement_html_a46c67baf96e2ae166a66fdc0c4fbc0b0"><div class="ttname"><a href="structLevelElement.html#a46c67baf96e2ae166a66fdc0c4fbc0b0">LevelElement::type</a></div><div class="ttdeci">MeshType type</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00050">marbles.c:50</a></div></div>
<div class="ttc" id="astructLevelElement_html_a67e19f29936b4653f96bd92d7594fdfe"><div class="ttname"><a href="structLevelElement.html#a67e19f29936b4653f96bd92d7594fdfe">LevelElement::gridX</a></div><div class="ttdeci">float gridX</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00051">marbles.c:51</a></div></div>
<div class="ttc" id="astructLevelElement_html_a6e25bcc9e5e5dba96caa47c85c17d9b0"><div class="ttname"><a href="structLevelElement.html#a6e25bcc9e5e5dba96caa47c85c17d9b0">LevelElement::angle</a></div><div class="ttdeci">float angle</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00054">marbles.c:54</a></div></div>
<div class="ttc" id="astructLevelElement_html_ac63ed2f7a3634b640da0cdb56dca1b98"><div class="ttname"><a href="structLevelElement.html#ac63ed2f7a3634b640da0cdb56dca1b98">LevelElement::gridZ</a></div><div class="ttdeci">float gridZ</div><div class="ttdef"><b>Definition</b> <a href="marbles_8c_source.html#l00053">marbles.c:53</a></div></div>
<div class="ttc" id="astructMultiPiston_html"><div class="ttname"><a href="structMultiPiston.html">MultiPiston</a></div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00166">raylibODE.h:166</a></div></div>
<div class="ttc" id="astructPhysicsContext_html"><div class="ttname"><a href="structPhysicsContext.html">PhysicsContext</a></div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00065">raylibODE.h:65</a></div></div>
<div class="ttc" id="astructPhysicsContext_html_a9b8d81159eec734cb1b95c95203b7f50"><div class="ttname"><a href="structPhysicsContext.html#a9b8d81159eec734cb1b95c95203b7f50">PhysicsContext::objList</a></div><div class="ttdeci">clist_t * objList</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00070">raylibODE.h:70</a></div></div>
<div class="ttc" id="astructPhysicsContext_html_aa88cec7da4225aa5c1f2bbdabe55b35d"><div class="ttname"><a href="structPhysicsContext.html#aa88cec7da4225aa5c1f2bbdabe55b35d">PhysicsContext::statics</a></div><div class="ttdeci">clist_t * statics</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00071">raylibODE.h:71</a></div></div>
<div class="ttc" id="astruct____clist_html_a87719175a9395449ee1db0221b39688a"><div class="ttname"><a href="struct____clist.html#a87719175a9395449ee1db0221b39688a">__clist::head</a></div><div class="ttdeci">cnode_t * head</div><div class="ttdef"><b>Definition</b> <a href="clist_8h_source.html#l00027">clist.h:27</a></div></div>
<div class="ttc" id="astruct____cnode_html_aabe3d86831d46a328c4a8764acf66ac4"><div class="ttname"><a href="struct____cnode.html#aabe3d86831d46a328c4a8764acf66ac4">__cnode::next</a></div><div class="ttdeci">struct __cnode * next</div><div class="ttdef"><b>Definition</b> <a href="clist_8h_source.html#l00013">clist.h:13</a></div></div>
<div class="ttc" id="astruct____cnode_html_ae59520f57274323a159b336ee81f565b"><div class="ttname"><a href="struct____cnode.html#ae59520f57274323a159b336ee81f565b">__cnode::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition</b> <a href="clist_8h_source.html#l00014">clist.h:14</a></div></div>
<div class="ttc" id="astructentity_html"><div class="ttname"><a href="structentity.html">entity</a></div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00058">raylibODE.h:58</a></div></div>
<div class="ttc" id="astructentity_html_ada0e6866acb68b3f1e2bff5d70b2b760"><div class="ttname"><a href="structentity.html#ada0e6866acb68b3f1e2bff5d70b2b760">entity::body</a></div><div class="ttdeci">dBodyID body</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00059">raylibODE.h:59</a></div></div>
<div class="ttc" id="astructgeomInfo_html"><div class="ttname"><a href="structgeomInfo.html">geomInfo</a></div><div class="ttdoc">Stores geometry metadata for collision, texturing, and trimesh data.</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00098">raylibODE.h:98</a></div></div>
<div class="ttc" id="astructgeomInfo_html_a8e530854793906e8d625e058ac7b616c"><div class="ttname"><a href="structgeomInfo.html#a8e530854793906e8d625e058ac7b616c">geomInfo::surface</a></div><div class="ttdeci">SurfaceMaterial * surface</div><div class="ttdef"><b>Definition</b> <a href="raylibODE_8h_source.html#l00105">raylibODE.h:105</a></div></div>
<div class="ttc" id="asurface_8c_html_aa26755a73be46b483bf7098bcbf679dd"><div class="ttname"><a href="surface_8c.html#aa26755a73be46b483bf7098bcbf679dd">gSurfaces</a></div><div class="ttdeci">SurfaceMaterial gSurfaces[SURFACE_COUNT]</div><div class="ttdoc">Global lookup table for surface properties. This array is indexed by SurfaceType. and contains defaul...</div><div class="ttdef"><b>Definition</b> <a href="surface_8c_source.html#l00026">surface.c:26</a></div></div>
<div class="ttc" id="asurface_8h_html_a24dfdcf13ae4e2b7985a3868a1b5169f"><div class="ttname"><a href="surface_8h.html#a24dfdcf13ae4e2b7985a3868a1b5169f">SurfaceType</a></div><div class="ttdeci">SurfaceType</div><div class="ttdoc">Unique identifiers for different physical materials.</div><div class="ttdef"><b>Definition</b> <a href="surface_8h_source.html#l00039">surface.h:40</a></div></div>
<div class="ttc" id="asurface_8h_html_a24dfdcf13ae4e2b7985a3868a1b5169fa51e788aafe32eaa17dbd2f8c91312ebe"><div class="ttname"><a href="surface_8h.html#a24dfdcf13ae4e2b7985a3868a1b5169fa51e788aafe32eaa17dbd2f8c91312ebe">SURFACE_WOOD</a></div><div class="ttdeci">@ SURFACE_WOOD</div><div class="ttdef"><b>Definition</b> <a href="surface_8h_source.html#l00041">surface.h:41</a></div></div>
<div class="ttc" id="asurface_8h_html_a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d"><div class="ttname"><a href="surface_8h.html#a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d">SURFACE_METAL</a></div><div class="ttdeci">@ SURFACE_METAL</div><div class="ttdef"><b>Definition</b> <a href="surface_8h_source.html#l00042">surface.h:42</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
