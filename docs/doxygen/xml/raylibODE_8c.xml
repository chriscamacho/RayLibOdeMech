<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.14.0" xml:lang="en-US">
  <compounddef id="raylibODE_8c" kind="file" language="C++">
    <compoundname>raylibODE.c</compoundname>
    <includes local="no">stdlib.h</includes>
    <includes local="no">math.h</includes>
    <includes local="no">string.h</includes>
    <includes refid="raylibODE_8h" local="yes">raylibODE.h</includes>
    <includes refid="collision_8h" local="yes">collision.h</includes>
    <includes refid="surface_8h" local="yes">surface.h</includes>
    <incdepgraph>
      <node id="10">
        <label>clist.h</label>
        <link refid="clist_8h"/>
      </node>
      <node id="12">
        <label>collision.h</label>
        <link refid="collision_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>raylibODE.h</label>
        <link refid="raylibODE_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>rlights.h</label>
        <link refid="rlights_8h"/>
      </node>
      <node id="11">
        <label>surface.h</label>
        <link refid="surface_8h"/>
      </node>
      <node id="1">
        <label>raylibODE.c</label>
        <link refid="raylibODE_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>math.h</label>
      </node>
      <node id="9">
        <label>ode/ode.h</label>
      </node>
      <node id="6">
        <label>raylib.h</label>
      </node>
      <node id="7">
        <label>raymath.h</label>
      </node>
      <node id="2">
        <label>stdlib.h</label>
      </node>
      <node id="4">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="var">
      <memberdef kind="variable" id="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" prot="public" static="no" mutable="no">
        <type>const float</type>
        <definition>const float physSlice</definition>
        <argsstring></argsstring>
        <name>physSlice</name>
        <initializer>= 1.0 / 240.0</initializer>
        <briefdescription>
<para>Physics simulation time slice. </para>
        </briefdescription>
        <detaileddescription>
<para>The fixed time step used for physics simulation. ODE recommends using fixed time steps for consistent results. 1/240 = ~240 Hz update rate. the framework will step as many times as it needs to to keep up with realtime in this sized steps </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="208" column="13" bodyfile="raylibODE.c" bodystart="208" bodyend="-1"/>
        <referencedby refid="raylibODE_8c_1ad087bfe56f8c97e250f6dd5054fdf76e" compoundref="raylibODE_8c" startline="241" endline="264">StepPhysics</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>float</type>
        <definition>float rndf</definition>
        <argsstring>(float min, float max)</argsstring>
        <name>rndf</name>
        <param>
          <type>float</type>
          <declname>min</declname>
        </param>
        <param>
          <type>float</type>
          <declname>max</declname>
        </param>
        <briefdescription>
<para>Generate a random float in the specified range. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>min</parametername>
</parameternamelist>
<parameterdescription>
<para>Minimum value (inclusive) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max</parametername>
</parameternamelist>
<parameterdescription>
<para>Maximum value (inclusive) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Random float between min and max</para>
</simplesect>
<simplesect kind="note"><para>Uses rand() from stdlib - consider seeding with srand() for better randomness </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="219" column="7" bodyfile="raylibODE.c" bodystart="219" bodyend="222"/>
        <referencedby refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" compoundref="raylibODE_8c" startline="398" endline="418">CreateBox</referencedby>
        <referencedby refid="raylibODE_8c_1a37e31d3074a98d5f5a40096dc9b342f7" compoundref="raylibODE_8c" startline="364" endline="374">CreateBoxGeom</referencedby>
        <referencedby refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" compoundref="raylibODE_8c" startline="529" endline="548">CreateCapsule</referencedby>
        <referencedby refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" compoundref="raylibODE_8c" startline="485" endline="506">CreateCylinder</referencedby>
        <referencedby refid="raylibODE_8c_1a8928fb910d045f15136fd02999b7ffa6" compoundref="raylibODE_8c" startline="337" endline="348">CreateCylinderGeom</referencedby>
        <referencedby refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" compoundref="raylibODE_8c" startline="575" endline="610">CreateDumbbell</referencedby>
        <referencedby refid="gravity_8c_1ab6639462e293ab35eda53aea3c029a23" compoundref="gravity_8c" startline="56" endline="88">CreateOrbiter</referencedby>
        <referencedby refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" compoundref="raylibODE_8c" startline="630" endline="671">CreateRandomEntity</referencedby>
        <referencedby refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" compoundref="raylibODE_8c" startline="441" endline="461">CreateSphere</referencedby>
        <referencedby refid="raylibODE_8c_1a0201472030d3c51d3b13c7f807b59b01" compoundref="raylibODE_8c" startline="310" endline="320">CreateSphereGeom</referencedby>
        <referencedby refid="ragdoll_8c_1ae5044c65f2f6758624a2182347b6d945" compoundref="ragdoll_8c" startline="81" endline="88">GetRagdollSpawnPosition</referencedby>
        <referencedby refid="gravity_8c_1a060fbd74071544413b43fd6aca32f2c7" compoundref="gravity_8c" startline="41" endline="54">GetSpawnOnSphereBorder</referencedby>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ad087bfe56f8c97e250f6dd5054fdf76e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int StepPhysics</definition>
        <argsstring>(PhysicsContext *physCtx)</argsstring>
        <name>StepPhysics</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <briefdescription>
<para>Step the physics simulation forward. </para>
        </briefdescription>
        <detaileddescription>
<para>This function advances the physics simulation by stepping the world forward using fixed time steps. It handles the frame time accumulation and performs multiple physics steps if necessary to maintain simulation stability and accuracy.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context containing the world and state </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Number of physics steps performed this frame</para>
</simplesect>
<simplesect kind="note"><para>Uses dWorldQuickStep for faster but less accurate simulation </para>
</simplesect>
<simplesect kind="note"><para>Maximum number of steps is limited by maxPsteps to prevent spiral of death</para>
</simplesect>
<simplesect kind="see"><para><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> </para>
</simplesect>
<simplesect kind="see"><para>dWorldQuickStep </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="241" column="5" bodyfile="raylibODE.c" bodystart="241" bodyend="264"/>
        <references refid="structPhysicsContext_1a7127872c521cd13698a53ceba9113a0e" compoundref="raylibODE_8h" startline="66">PhysicsContext::contactgroup</references>
        <references refid="structPhysicsContext_1a9d9d8a36dbf5ada397c97512528ee62b" compoundref="raylibODE_8h" startline="67">PhysicsContext::frameTime</references>
        <references refid="raylibODE_8h_1afeff8fa28bbbf9c2ddbc85a38993d92e" compoundref="raylibODE_8h" startline="45">maxPsteps</references>
        <references refid="collision_8c_1ad6680ae487b581622710e22bdfdb3146" compoundref="collision_8c" startline="43" endline="107">nearCallback</references>
        <references refid="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" compoundref="raylibODE_8c" startline="208">physSlice</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <references refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" compoundref="raylibODE_8h" startline="64">PhysicsContext::world</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
        <referencedby refid="gravity_8c_1a335d70770f61bc5f2de93dac31fbfa52" compoundref="gravity_8c" startline="167" endline="229">updateGravity</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateBaseEntity</definition>
        <argsstring>(PhysicsContext *ctx)</argsstring>
        <name>CreateBaseEntity</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <briefdescription>
<para>Create a base entity with physics body. </para>
        </briefdescription>
        <detaileddescription>
<para>Internal helper function that creates a new entity with an ODE body and adds it to the physics world&apos;s object list. This reduces code duplication across all shape creation functions.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to newly created entity</para>
</simplesect>
<simplesect kind="note"><para>Internal function - but might be useful for manual creation it creates an &quot;empty&quot; body without geoms </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="284" column="8" bodyfile="raylibODE.c" bodystart="284" bodyend="291"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="clist_8c_1a264922774fdf767e31797fe81f2231be" compoundref="clist_8c" startline="47" endline="66">clistAddNode</references>
        <references refid="structentity_1a4ba0008223828f414cf5303ca935bcd8" compoundref="raylibODE_8h" startline="58">entity::node</references>
        <references refid="structPhysicsContext_1a9b8d81159eec734cb1b95c95203b7f50" compoundref="raylibODE_8h" startline="68">PhysicsContext::objList</references>
        <references refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" compoundref="raylibODE_8h" startline="64">PhysicsContext::world</references>
        <referencedby refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" compoundref="raylibODE_8c" startline="398" endline="418">CreateBox</referencedby>
        <referencedby refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" compoundref="raylibODE_8c" startline="529" endline="548">CreateCapsule</referencedby>
        <referencedby refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" compoundref="raylibODE_8c" startline="485" endline="506">CreateCylinder</referencedby>
        <referencedby refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" compoundref="raylibODE_8c" startline="575" endline="610">CreateDumbbell</referencedby>
        <referencedby refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" compoundref="raylibODE_8c" startline="441" endline="461">CreateSphere</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a0201472030d3c51d3b13c7f807b59b01" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dGeomID</type>
        <definition>dGeomID CreateSphereGeom</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, Vector3 pos)</argsstring>
        <name>CreateSphereGeom</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>float</type>
          <declname>radius</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a sphere geom</para>
<para>This creates just the geometry, useful for building composite shapes</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>radius</parametername>
</parameternamelist>
<parameterdescription>
<para>radius of the sphere </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>where you want the geom positioned</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>if you want to use this as a static collider in the world you will need to add it to the world and the physics context statics list </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="310" column="9" bodyfile="raylibODE.c" bodystart="310" bodyend="320"/>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <references refid="structGraphicsContext_1a0f22083c4b2ff44151d92d717137a8c4" compoundref="raylibODE_8h" startline="139">GraphicsContext::sphereTextures</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a8928fb910d045f15136fd02999b7ffa6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dGeomID</type>
        <definition>dGeomID CreateCylinderGeom</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, float length, Vector3 pos)</argsstring>
        <name>CreateCylinderGeom</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>float</type>
          <declname>radius</declname>
        </param>
        <param>
          <type>float</type>
          <declname>length</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a cylinder geom</para>
<para>This creates just the geometry, useful for building composite shapes</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>radius</parametername>
</parameternamelist>
<parameterdescription>
<para>radius of the cylinder </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>length</parametername>
</parameternamelist>
<parameterdescription>
<para>length of the cylinder </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>where you want the geom positioned</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>if you want to use this as a static collider in the world you will need to add it to the world and the physics context statics list </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="337" column="9" bodyfile="raylibODE.c" bodystart="337" bodyend="348"/>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" compoundref="raylibODE_8h" startline="141">GraphicsContext::cylinderTextures</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="marbles_8c_1abac6925a410fdbe4f0bc5bdf2d8f5ff6" compoundref="marbles_8c" startline="249" endline="374">LoadLevel</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a37e31d3074a98d5f5a40096dc9b342f7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dGeomID</type>
        <definition>dGeomID CreateBoxGeom</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, Vector3 size, Vector3 pos)</argsstring>
        <name>CreateBoxGeom</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>size</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Create a box geom</para>
<para>This creates just the geometry, useful for building composite shapes</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>size</parametername>
</parameternamelist>
<parameterdescription>
<para>the size of the sphere </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>where you want the geom positioned</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>if you want to use this as a static collider in the world you will need to add it to the world and the physics context statics list </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="364" column="9" bodyfile="raylibODE.c" bodystart="364" bodyend="374"/>
        <references refid="structGraphicsContext_1acef5b7178754c6babfd8e4745f7b3612" compoundref="raylibODE_8h" startline="140">GraphicsContext::boxTextures</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="marbles_8c_1aff4f938c7169a18032e8016ba3a2ede6" compoundref="marbles_8c" startline="378" endline="513">CreateLift</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateBox</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, Vector3 size, Vector3 pos, Vector3 rot, float mass)</argsstring>
        <name>CreateBox</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>size</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>rot</declname>
        </param>
        <param>
          <type>float</type>
          <declname>mass</declname>
        </param>
        <briefdescription>
<para>Add a box-shaped physics body to the world. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a new dynamic box in the physics simulation with the specified dimensions, position, rotation, and mass. The box is automatically added to the rendering list and collision detection system.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context for texture assignment </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>size</parametername>
</parameternamelist>
<parameterdescription>
<para>Dimensions of the box (width, height, depth) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial position of the box center </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rot</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial rotation (Euler angles: pitch, yaw, roll) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mass</parametername>
</parameternamelist>
<parameterdescription>
<para>Mass of the box (0 for static object) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the newly created entity</para>
</simplesect>
<simplesect kind="note"><para>Box is assigned a random texture from the available box textures </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structentity" kindref="compound">entity</ref> </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="398" column="8" bodyfile="raylibODE.c" bodystart="398" bodyend="418"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structGraphicsContext_1acef5b7178754c6babfd8e4745f7b3612" compoundref="raylibODE_8h" startline="140">GraphicsContext::boxTextures</references>
        <references refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" compoundref="raylibODE_8c" startline="284" endline="291">CreateBaseEntity</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" compoundref="raylibODE_8c" startline="1208" endline="1245">CreateMultiPiston</referencedby>
        <referencedby refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" compoundref="raylibODE_8c" startline="630" endline="671">CreateRandomEntity</referencedby>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateSphere</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, Vector3 pos, Vector3 rot, float mass)</argsstring>
        <name>CreateSphere</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>float</type>
          <declname>radius</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>rot</declname>
        </param>
        <param>
          <type>float</type>
          <declname>mass</declname>
        </param>
        <briefdescription>
<para>Add a sphere-shaped physics body to the world. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a new dynamic sphere in the physics simulation with the specified radius, position, rotation, and mass. Spheres are efficient for collision detection and are commonly used for balls and round objects.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context for texture assignment </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>radius</parametername>
</parameternamelist>
<parameterdescription>
<para>Radius of the sphere </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial position of the sphere center </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rot</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial rotation (Euler angles) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mass</parametername>
</parameternamelist>
<parameterdescription>
<para>Mass of the sphere (0 for static object) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the newly created entity</para>
</simplesect>
<simplesect kind="note"><para>Sphere is assigned a random texture from the available sphere textures </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structentity" kindref="compound">entity</ref> </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="441" column="8" bodyfile="raylibODE.c" bodystart="441" bodyend="461"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" compoundref="raylibODE_8c" startline="284" endline="291">CreateBaseEntity</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <references refid="structGraphicsContext_1a0f22083c4b2ff44151d92d717137a8c4" compoundref="raylibODE_8h" startline="139">GraphicsContext::sphereTextures</references>
        <referencedby refid="gravity_8c_1ab6639462e293ab35eda53aea3c029a23" compoundref="gravity_8c" startline="56" endline="88">CreateOrbiter</referencedby>
        <referencedby refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" compoundref="raylibODE_8c" startline="630" endline="671">CreateRandomEntity</referencedby>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateCylinder</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, float length, Vector3 pos, Vector3 rot, float mass)</argsstring>
        <name>CreateCylinder</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>float</type>
          <declname>radius</declname>
        </param>
        <param>
          <type>float</type>
          <declname>length</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>rot</declname>
        </param>
        <param>
          <type>float</type>
          <declname>mass</declname>
        </param>
        <briefdescription>
<para>Add a cylinder-shaped physics body to the world. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a new dynamic cylinder in the physics simulation with the specified radius, length, position, rotation, and mass. ODE cylinders are aligned along the Z-axis by default.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context for texture assignment </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>radius</parametername>
</parameternamelist>
<parameterdescription>
<para>Radius of the cylinder </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>length</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the cylinder (along Z-axis) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial position of the cylinder center </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rot</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial rotation (Euler angles) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mass</parametername>
</parameternamelist>
<parameterdescription>
<para>Mass of the cylinder (0 for static object) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the newly created entity</para>
</simplesect>
<simplesect kind="note"><para>Cylinder is aligned along Z-axis as per ODE convention </para>
</simplesect>
<simplesect kind="note"><para>Cylinder is assigned a random texture from the available cylinder textures </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structentity" kindref="compound">entity</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="485" column="8" bodyfile="raylibODE.c" bodystart="485" bodyend="506"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" compoundref="raylibODE_8c" startline="284" endline="291">CreateBaseEntity</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" compoundref="raylibODE_8h" startline="141">GraphicsContext::cylinderTextures</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" compoundref="raylibODE_8c" startline="630" endline="671">CreateRandomEntity</referencedby>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateCapsule</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, float radius, float length, Vector3 pos, Vector3 rot, float mass)</argsstring>
        <name>CreateCapsule</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>float</type>
          <declname>radius</declname>
        </param>
        <param>
          <type>float</type>
          <declname>length</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>rot</declname>
        </param>
        <param>
          <type>float</type>
          <declname>mass</declname>
        </param>
        <briefdescription>
<para>Add a capsule-shaped physics body to the world. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a new dynamic capsule in the physics simulation. Capsules are useful for character controllers and objects that need smooth collision with the ground.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context for texture assignment </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>radius</parametername>
</parameternamelist>
<parameterdescription>
<para>Radius of the capsule caps </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>length</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the cylindrical portion </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial position of the capsule center </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rot</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial rotation (Euler angles) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mass</parametername>
</parameternamelist>
<parameterdescription>
<para>Mass of the capsule (0 for static object) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the newly created entity</para>
</simplesect>
<simplesect kind="note"><para>Capsule combines a cylinder with two hemispherical ends </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structentity" kindref="compound">entity</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="529" column="8" bodyfile="raylibODE.c" bodystart="529" bodyend="548"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" compoundref="raylibODE_8c" startline="284" endline="291">CreateBaseEntity</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" compoundref="raylibODE_8h" startline="141">GraphicsContext::cylinderTextures</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" compoundref="raylibODE_8c" startline="630" endline="671">CreateRandomEntity</referencedby>
        <referencedby refid="placer_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="placer_8c" startline="32" endline="133">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateDumbbell</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, float shaftRad, float shaftLen, float endRad, Vector3 pos, Vector3 rot, float mass)</argsstring>
        <name>CreateDumbbell</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>float</type>
          <declname>shaftRad</declname>
        </param>
        <param>
          <type>float</type>
          <declname>shaftLen</declname>
        </param>
        <param>
          <type>float</type>
          <declname>endRad</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>rot</declname>
        </param>
        <param>
          <type>float</type>
          <declname>mass</declname>
        </param>
        <briefdescription>
<para>Add a dumbbell-shaped composite physics body. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a composite physics body consisting of a cylindrical shaft with two spherical ends. This demonstrates how to create custom composite shapes by combining multiple geometries.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context for texture assignment </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>shaftRad</parametername>
</parameternamelist>
<parameterdescription>
<para>Radius of the cylindrical shaft </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>shaftLen</parametername>
</parameternamelist>
<parameterdescription>
<para>Length of the cylindrical shaft </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>endRad</parametername>
</parameternamelist>
<parameterdescription>
<para>Radius of the end spheres </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial position of the dumbbell center </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>rot</parametername>
</parameternamelist>
<parameterdescription>
<para>Initial rotation (Euler angles) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mass</parametername>
</parameternamelist>
<parameterdescription>
<para>Total mass of the dumbbell </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the newly created entity</para>
</simplesect>
<simplesect kind="note"><para>This is an example of creating composite shapes </para>
</simplesect>
<simplesect kind="note"><para>Mass is distributed: 50% shaft, 25% each end </para>
</simplesect>
<simplesect kind="see"><para><ref refid="structentity" kindref="compound">entity</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="575" column="8" bodyfile="raylibODE.c" bodystart="575" bodyend="610"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" compoundref="raylibODE_8c" startline="284" endline="291">CreateBaseEntity</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" compoundref="raylibODE_8h" startline="141">GraphicsContext::cylinderTextures</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" compoundref="raylibODE_8c" startline="630" endline="671">CreateRandomEntity</referencedby>
        <referencedby refid="placer_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="placer_8c" startline="32" endline="133">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * CreateRandomEntity</definition>
        <argsstring>(PhysicsContext *ctx, GraphicsContext *gfxCtx, Vector3 pos, unsigned char mask)</argsstring>
        <name>CreateRandomEntity</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>unsigned char</type>
          <declname>mask</declname>
        </param>
        <briefdescription>
<para>Add a random physics object at the specified position. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a random physics body (box, sphere, cylinder, capsule, or dumbbell) at the given position. Useful for testing and creating dynamic scenes without manually specifying each object.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>Position where the random object should be created </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mask</parametername>
</parameternamelist>
<parameterdescription>
<para>which shapes to choose from SHAPE_ALL for all of them SHAPE &amp; ~SHAPE_CAPSULE for all but capsule etc </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the newly created entity</para>
</simplesect>
<simplesect kind="note"><para>Distribution: 20% boxes, 20% spheres, 20% cylinders, 20% capsules, 20% dumbbells </para>
</simplesect>
<simplesect kind="note"><para>Mass is fixed at 10.0f for all random objects </para>
</simplesect>
<simplesect kind="note"><para>Each type has randomized dimensions within reasonable ranges </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="630" column="8" bodyfile="raylibODE.c" bodystart="630" bodyend="671"/>
        <references refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" compoundref="raylibODE_8c" startline="398" endline="418">CreateBox</references>
        <references refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" compoundref="raylibODE_8c" startline="529" endline="548">CreateCapsule</references>
        <references refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" compoundref="raylibODE_8c" startline="485" endline="506">CreateCylinder</references>
        <references refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" compoundref="raylibODE_8c" startline="575" endline="610">CreateDumbbell</references>
        <references refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" compoundref="raylibODE_8c" startline="441" endline="461">CreateSphere</references>
        <references refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" compoundref="raylibODE_8c" startline="219" endline="222">rndf</references>
        <references refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391bacd064d47d06a6cf0cb539ae3335d26b5" compoundref="raylibODE_8h" startline="48">SHAPE_BOX</references>
        <references refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391badccfd8c5874464bfd348e8cd8d7bd879" compoundref="raylibODE_8h" startline="51">SHAPE_CAPSULE</references>
        <references refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391ba62eea2af0cd8bf0530c0799ce72b93cf" compoundref="raylibODE_8h" startline="50">SHAPE_CYLINDER</references>
        <references refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391ba31cc776a8f4dc3f70df15d1417f75ccc" compoundref="raylibODE_8h" startline="52">SHAPE_DUMBBELL</references>
        <references refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391bac7a9839306104e6733f1adc2bb66274b" compoundref="raylibODE_8h" startline="49">SHAPE_SPHERE</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ae8b06665a78b486c57e6795da4b3e265" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="clist_8h_1a9957c4c04b6e17b9b8fa99e68b94aa9a" kindref="member">cnode_t</ref> *</type>
        <definition>cnode_t * CreateStaticTrimesh</definition>
        <argsstring>(PhysicsContext *physCtx, GraphicsContext *gfxCtx, Model model, Texture *tex, float uvScale)</argsstring>
        <name>CreateStaticTrimesh</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>Model</type>
          <declname>model</declname>
        </param>
        <param>
          <type>Texture *</type>
          <declname>tex</declname>
        </param>
        <param>
          <type>float</type>
          <declname>uvScale</declname>
        </param>
        <briefdescription>
<para>Create a static trimesh collision geometry from a model. </para>
        </briefdescription>
        <detaileddescription>
<para>Creates a static trimesh (triangle mesh) collision geometry from a RayLib model. This allows arbitrary 3D models to be used as static collision objects in the physics simulation. The mesh is optimized for collision detection but does not move or respond to physics.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>Pointer to the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>model</parametername>
</parameternamelist>
<parameterdescription>
<para>RayLib model to create collision geometry from </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>tex</parametername>
</parameternamelist>
<parameterdescription>
<para>Optional texture to apply to the mesh (can be NULL) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>uvScale</parametername>
</parameternamelist>
<parameterdescription>
<para>UV scaling factor for texture tiling </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Pointer to the created node in the statics list</para>
</simplesect>
<simplesect kind="note"><para>The mesh is static and cannot be moved after creation </para>
</simplesect>
<simplesect kind="note"><para>Supports custom textures and UV scaling for visual appearance </para>
</simplesect>
<simplesect kind="note"><para>Stores model data for rendering with custom shaders</para>
</simplesect>
<simplesect kind="see"><para><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> </para>
</simplesect>
<simplesect kind="see"><para>Model </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="695" column="9" bodyfile="raylibODE.c" bodystart="695" bodyend="720"/>
        <references refid="clist_8c_1a264922774fdf767e31797fe81f2231be" compoundref="clist_8c" startline="47" endline="66">clistAddNode</references>
        <references refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" compoundref="raylibODE_8c" startline="732" endline="744">CreateGeomInfo</references>
        <references refid="structgeomInfo_1abb6babda7d8a31c2ea76ed4654d9b55e" compoundref="raylibODE_8h" startline="105">geomInfo::indices</references>
        <references refid="structGraphicsContext_1a2fa19905aad6c696c90a4ba1286c2b70" compoundref="raylibODE_8h" startline="145">GraphicsContext::shader</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <references refid="structPhysicsContext_1aa88cec7da4225aa5c1f2bbdabe55b35d" compoundref="raylibODE_8h" startline="69">PhysicsContext::statics</references>
        <references refid="structgeomInfo_1a0cdf37aab555ef5003f8d3be2b553fa8" compoundref="raylibODE_8h" startline="106">geomInfo::triData</references>
        <references refid="structgeomInfo_1aac9cece1fdb9d0079901008842994523" compoundref="raylibODE_8h" startline="98">geomInfo::visual</references>
        <referencedby refid="car_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="car_8c" startline="34" endline="168">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a79db70091e3c86494f485979529984c8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structgeomInfo" kindref="compound">geomInfo</ref> *</type>
        <definition>geomInfo * CreateGeomInfo</definition>
        <argsstring>(bool collidable, Texture *texture, float uvScaleU, float uvScaleV)</argsstring>
        <name>CreateGeomInfo</name>
        <param>
          <type>bool</type>
          <declname>collidable</declname>
        </param>
        <param>
          <type>Texture *</type>
          <declname>texture</declname>
        </param>
        <param>
          <type>float</type>
          <declname>uvScaleU</declname>
        </param>
        <param>
          <type>float</type>
          <declname>uvScaleV</declname>
        </param>
        <briefdescription>
<para>Helper to allocate <ref refid="structgeomInfo" kindref="compound">geomInfo</ref> with collision flag, optional texture, and UV scale this is useful when greating your own custom bodies for special purposes If this is attached to a geom on a body that is in the global entity list then this allocation will be automagically cleaned up. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>collidable</parametername>
</parameternamelist>
<parameterdescription>
<para>should this geom cause collisions </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>texture</parametername>
</parameternamelist>
<parameterdescription>
<para>which texture to use for the geom </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>uvScaleU</parametername>
</parameternamelist>
<parameterdescription>
<para>texture scaling </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>uvScaleV</parametername>
</parameternamelist>
<parameterdescription>
<para>texture scaling </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="732" column="10" bodyfile="raylibODE.c" bodystart="732" bodyend="744"/>
        <references refid="structgeomInfo_1ad2ac5594ef66f909538bc4af4252d387" compoundref="raylibODE_8h" startline="94">geomInfo::collidable</references>
        <references refid="surface_8c_1aa26755a73be46b483bf7098bcbf679dd" compoundref="surface_8c" startline="26" endline="72">gSurfaces</references>
        <references refid="structgeomInfo_1a97039a3fbf7a1f1c905762a6f4adb0c3" compoundref="raylibODE_8h" startline="99">geomInfo::hew</references>
        <references refid="structgeomInfo_1a8e530854793906e8d625e058ac7b616c" compoundref="raylibODE_8h" startline="100">geomInfo::surface</references>
        <references refid="surface_8h_1a24dfdcf13ae4e2b7985a3868a1b5169fa51e788aafe32eaa17dbd2f8c91312ebe" compoundref="surface_8h" startline="41">SURFACE_WOOD</references>
        <references refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" compoundref="raylibODE_8h" startline="95">geomInfo::texture</references>
        <references refid="structgeomInfo_1ab566e6f3debd1b3092ec83aa09e961b9" compoundref="raylibODE_8h" startline="96">geomInfo::uvScaleU</references>
        <references refid="structgeomInfo_1a0670722f17ac3020238ee399bd93f32e" compoundref="raylibODE_8h" startline="97">geomInfo::uvScaleV</references>
        <referencedby refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" compoundref="raylibODE_8c" startline="398" endline="418">CreateBox</referencedby>
        <referencedby refid="raylibODE_8c_1a37e31d3074a98d5f5a40096dc9b342f7" compoundref="raylibODE_8c" startline="364" endline="374">CreateBoxGeom</referencedby>
        <referencedby refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" compoundref="raylibODE_8c" startline="529" endline="548">CreateCapsule</referencedby>
        <referencedby refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" compoundref="raylibODE_8c" startline="485" endline="506">CreateCylinder</referencedby>
        <referencedby refid="raylibODE_8c_1a8928fb910d045f15136fd02999b7ffa6" compoundref="raylibODE_8c" startline="337" endline="348">CreateCylinderGeom</referencedby>
        <referencedby refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" compoundref="raylibODE_8c" startline="575" endline="610">CreateDumbbell</referencedby>
        <referencedby refid="ragdoll_8c_1a280e6f0bf4084257707b2e69342bfa61" compoundref="ragdoll_8c" startline="117" endline="395">CreateRagdoll</referencedby>
        <referencedby refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" compoundref="raylibODE_8c" startline="441" endline="461">CreateSphere</referencedby>
        <referencedby refid="raylibODE_8c_1a0201472030d3c51d3b13c7f807b59b01" compoundref="raylibODE_8c" startline="310" endline="320">CreateSphereGeom</referencedby>
        <referencedby refid="raylibODE_8c_1ae8b06665a78b486c57e6795da4b3e265" compoundref="raylibODE_8c" startline="695" endline="720">CreateStaticTrimesh</referencedby>
        <referencedby refid="vehicle_8c_1af0740a75defe24708df5577107ed9ba7" compoundref="vehicle_8c" startline="56" endline="175">CreateVehicle</referencedby>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a3c34ddfaf3a71bac062e99f033d28030" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void rayCallback</definition>
        <argsstring>(void *data, dGeomID o1, dGeomID o2)</argsstring>
        <name>rayCallback</name>
        <param>
          <type>void *</type>
          <declname>data</declname>
        </param>
        <param>
          <type>dGeomID</type>
          <declname>o1</declname>
        </param>
        <param>
          <type>dGeomID</type>
          <declname>o2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="748" column="13" bodyfile="raylibODE.c" bodystart="748" bodyend="761"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a6038bcb143e6ca12696aa65bf164f488" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
        <definition>entity * PickEntity</definition>
        <argsstring>(PhysicsContext *physCtx, GraphicsContext *gfxCtx, Vector3 *hitPoint)</argsstring>
        <name>PickEntity</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>gfxCtx</declname>
        </param>
        <param>
          <type>Vector3 *</type>
          <declname>hitPoint</declname>
        </param>
        <briefdescription>
<para>this will return the first entity that the camera is directly pointed at while useful in the examples and likely for other things, it also serves as an example of how you can do this yourself for other things </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context (global physics info) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>gfxCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphics context (global info usful for graphics) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>hitPoint</parametername>
</parameternamelist>
<parameterdescription>
<para>pass a pointer to a Vector3 this will be set with the location of the intersecton</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a pointer to the entity that was found. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="774" column="8" bodyfile="raylibODE.c" bodystart="774" bodyend="807"/>
        <references refid="structGraphicsContext_1a67da4b710a791d954415259ae540976c" compoundref="raylibODE_8h" startline="144">GraphicsContext::camera</references>
        <references refid="structRayHit_1adbc494bc1bad81d80a620b42d71f29b4" compoundref="raylibODE_8h" startline="126">RayHit::depth</references>
        <references refid="structRayHit_1a86f485fd67387a8c18d90b717d891015" compoundref="raylibODE_8h" startline="125">RayHit::geom</references>
        <references refid="structRayHit_1adcef8883ac52e6d421436e08b1b6201e" compoundref="raylibODE_8h" startline="127">RayHit::pos</references>
        <references refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" compoundref="raylibODE_8h" startline="65">PhysicsContext::space</references>
        <referencedby refid="placer_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="placer_8c" startline="32" endline="133">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a8f1b86adbb51b8bd80405329b31c87d1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FreeBodyAndGeoms</definition>
        <argsstring>(dBodyID bdy)</argsstring>
        <name>FreeBodyAndGeoms</name>
        <param>
          <type>dBodyID</type>
          <declname>bdy</declname>
        </param>
        <briefdescription>
<para>given a body it will remove it and its geoms from ODE&apos;s world </para>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>this is intended to be an internal function that might have use externally you would normally use FreeEntity</para>
</simplesect>
As well as freeing all associated metadata it will also remove the body and its geoms from the physics world</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bdy</parametername>
</parameternamelist>
<parameterdescription>
<para>the dBodyID you want to free the attached meta data for </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="820" column="6" bodyfile="raylibODE.c" bodystart="820" bodyend="833"/>
        <referencedby refid="raylibODE_8c_1aa86cbb92909da330ef988d813fb7baed" compoundref="raylibODE_8c" startline="1107" endline="1112">FreeEntity</referencedby>
        <referencedby refid="init_8c_1aadcc246e22ab4be2dd926a25c5bc9bad" compoundref="init_8c" startline="195" endline="244">FreePhysics</referencedby>
        <referencedby refid="ragdoll_8c_1ab17f6d5cfecd7a8573b900f78460c816" compoundref="ragdoll_8c" startline="482" endline="522">FreeRagdoll</referencedby>
        <referencedby refid="vehicle_8c_1ab0b188b6b47157b4f3c4aae241a933c8" compoundref="vehicle_8c" startline="233" endline="249">FreeVehicle</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a3b61e431f9b3c349b3e55888b9b93a4e" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void DrawModelTinted</definition>
        <argsstring>(Model model, Color tint)</argsstring>
        <name>DrawModelTinted</name>
        <param>
          <type>Model</type>
          <declname>model</declname>
        </param>
        <param>
          <type>Color</type>
          <declname>tint</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="837" column="13" bodyfile="raylibODE.c" bodystart="837" bodyend="853"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a261ecb0743898782ddf0e56b07f32f2b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void RayToOdeMat</definition>
        <argsstring>(Matrix *m, dReal *R)</argsstring>
        <name>RayToOdeMat</name>
        <param>
          <type>Matrix *</type>
          <declname>m</declname>
        </param>
        <param>
          <type>dReal *</type>
          <declname>R</declname>
        </param>
        <briefdescription>
<para>set an ODE matrix to the same as a Raylib Matrix </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>m</parametername>
</parameternamelist>
<parameterdescription>
<para>a pointer to the Raylib matrix </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>R</parametername>
</parameternamelist>
<parameterdescription>
<para>a pointer to an ODE matrix </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="862" column="6" bodyfile="raylibODE.c" bodystart="862" bodyend="867"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1aeaef389f404abef038f38518fc1a0421" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void OdeToRayMat</definition>
        <argsstring>(const dReal *R, Matrix *m)</argsstring>
        <name>OdeToRayMat</name>
        <param>
          <type>const dReal *</type>
          <declname>R</declname>
        </param>
        <param>
          <type>Matrix *</type>
          <declname>m</declname>
        </param>
        <briefdescription>
<para>sets a raylib matrix from an ODE rotation matrix </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>R</parametername>
</parameternamelist>
<parameterdescription>
<para>a pointer to the ODE matrix </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>m</parametername>
</parameternamelist>
<parameterdescription>
<para>a pointer to a Raylib Matrix </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="874" column="6" bodyfile="raylibODE.c" bodystart="874" bodyend="880"/>
        <referencedby refid="derby_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="derby_8c" startline="58" endline="278">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ab9e180dd7d59f892f27826b15cb99ef1" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void DrawGeom</definition>
        <argsstring>(dGeomID geom, struct GraphicsContext *ctx)</argsstring>
        <name>DrawGeom</name>
        <param>
          <type>dGeomID</type>
          <declname>geom</declname>
        </param>
        <param>
          <type>struct <ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="883" column="13" bodyfile="raylibODE.c" bodystart="883" bodyend="965"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a70760bcdbb95dca2cd9cbb1a640485d2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dJointID</type>
        <definition>dJointID CreateRotor</definition>
        <argsstring>(PhysicsContext *physCtx, entity *from, entity *to, Vector3 axis)</argsstring>
        <name>CreateRotor</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>from</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>to</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>axis</declname>
        </param>
        <briefdescription>
<para>crates a rotor joint the joint is created with the anchor at the from enties location </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>physics context holds all the physics globals </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>from</parametername>
</parameternamelist>
<parameterdescription>
<para>the anchor entity for the joint </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>to</parametername>
</parameternamelist>
<parameterdescription>
<para>if this is null the joint attaches to the world and is static </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>axis</parametername>
</parameternamelist>
<parameterdescription>
<para>this determines the direction of rotation for the rotor you can think of it as the direction of the axle</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>joints will get tidied up during world destruction, do destroy them if you no longer require them, in the arm example a joint is created and destroyed every time an object is caught and released </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="981" column="10" bodyfile="raylibODE.c" bodystart="981" bodyend="1001"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" compoundref="raylibODE_8h" startline="64">PhysicsContext::world</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a227dded5dce29a7e3b71e9589e2b4c22" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetEntityHew</definition>
        <argsstring>(entity *ent, Color c)</argsstring>
        <name>SetEntityHew</name>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>ent</declname>
        </param>
        <param>
          <type>Color</type>
          <declname>c</declname>
        </param>
        <briefdescription>
<para>changes the hew (tint) of all anentities geoms </para>
        </briefdescription>
        <detaileddescription>
<para>go through each geom attached to the entities body and change their hew or tint</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ent</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to the entity </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>c</parametername>
</parameternamelist>
<parameterdescription>
<para>new colour to use </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1014" column="6" bodyfile="raylibODE.c" bodystart="1014" bodyend="1022"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structgeomInfo_1a97039a3fbf7a1f1c905762a6f4adb0c3" compoundref="raylibODE_8h" startline="99">geomInfo::hew</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1aa8656255a05c3f38ce0b13825642acdf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetEntitySurfaces</definition>
        <argsstring>(entity *ent, SurfaceMaterial *mat)</argsstring>
        <name>SetEntitySurfaces</name>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>ent</declname>
        </param>
        <param>
          <type><ref refid="structSurfaceMaterial" kindref="compound">SurfaceMaterial</ref> *</type>
          <declname>mat</declname>
        </param>
        <briefdescription>
<para>changes the surface material of all an entities geoms </para>
        </briefdescription>
        <detaileddescription>
<para>go through each geom attached to the entities body and change their surface properties</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ent</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to the entity </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>mat</parametername>
</parameternamelist>
<parameterdescription>
<para>new surface material to use </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1034" column="6" bodyfile="raylibODE.c" bodystart="1034" bodyend="1042"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structgeomInfo_1a8e530854793906e8d625e058ac7b616c" compoundref="raylibODE_8h" startline="100">geomInfo::surface</references>
        <referencedby refid="surfaces_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="surfaces_8c" startline="32" endline="165">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1aa01114b518b93c528e9e85382ce46b4b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void DrawBodies</definition>
        <argsstring>(struct GraphicsContext *ctx, PhysicsContext *pctx)</argsstring>
        <name>DrawBodies</name>
        <param>
          <type>struct <ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>pctx</declname>
        </param>
        <briefdescription>
<para>Draws all the dynamic bodies the framework is tracking. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1050" column="6" bodyfile="raylibODE.c" bodystart="1050" bodyend="1061"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="struct____cnode_1ae59520f57274323a159b336ee81f565b" compoundref="clist_8h" startline="14">__cnode::data</references>
        <references refid="struct____clist_1a87719175a9395449ee1db0221b39688a" compoundref="clist_8h" startline="27">__clist::head</references>
        <references refid="struct____cnode_1aabe3d86831d46a328c4a8764acf66ac4" compoundref="clist_8h" startline="13">__cnode::next</references>
        <references refid="structPhysicsContext_1a9b8d81159eec734cb1b95c95203b7f50" compoundref="raylibODE_8h" startline="68">PhysicsContext::objList</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1ab68ea2864e3ad930f35c4dbad16b6f73" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void DrawBodyGeoms</definition>
        <argsstring>(dBodyID bdy, struct GraphicsContext *ctx)</argsstring>
        <name>DrawBodyGeoms</name>
        <param>
          <type>dBodyID</type>
          <declname>bdy</declname>
        </param>
        <param>
          <type>struct <ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1063" column="13" bodyfile="raylibODE.c" bodystart="1063" bodyend="1073"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a1232d8000138fdc6d2f9741548a263aa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void DrawStatics</definition>
        <argsstring>(struct GraphicsContext *ctx, PhysicsContext *pctx)</argsstring>
        <name>DrawStatics</name>
        <param>
          <type>struct <ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>ctx</declname>
        </param>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>pctx</declname>
        </param>
        <briefdescription>
<para>draws the static geometries </para>
        </briefdescription>
        <detaileddescription>
<para>As static geometries have no bodies they are handled a little different this will draw all the dGeomID&apos;s that are registed on the physics context static lists <simplesect kind="note"><para>all geoms on the statics list must have attached <ref refid="structgeomInfo" kindref="compound">geomInfo</ref></para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pctx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1086" column="6" bodyfile="raylibODE.c" bodystart="1086" bodyend="1095"/>
        <references refid="struct____cnode_1ae59520f57274323a159b336ee81f565b" compoundref="clist_8h" startline="14">__cnode::data</references>
        <references refid="struct____clist_1a87719175a9395449ee1db0221b39688a" compoundref="clist_8h" startline="27">__clist::head</references>
        <references refid="struct____cnode_1aabe3d86831d46a328c4a8764acf66ac4" compoundref="clist_8h" startline="13">__cnode::next</references>
        <references refid="structPhysicsContext_1aa88cec7da4225aa5c1f2bbdabe55b35d" compoundref="raylibODE_8h" startline="69">PhysicsContext::statics</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1aa86cbb92909da330ef988d813fb7baed" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FreeEntity</definition>
        <argsstring>(PhysicsContext *physCtx, entity *ent)</argsstring>
        <name>FreeEntity</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>ent</declname>
        </param>
        <briefdescription>
<para>frees an entity </para>
        </briefdescription>
        <detaileddescription>
<para>this is essentially destroying the entity it is no longer part of the world <simplesect kind="note"><para>if iterrating through the global entity list while calling this, ensure you have stored the next node in the chain, for use at the end of the while loop as obviously node-&gt;next won&apos;t work</para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ent</parametername>
</parameternamelist>
<parameterdescription>
<para>the entity to destroy </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1107" column="6" bodyfile="raylibODE.c" bodystart="1107" bodyend="1112"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="clist_8c_1a15dab01e10aa1d60e2d66c5cbfa3a738" compoundref="clist_8c" startline="146" endline="164">clistDeleteNode</references>
        <references refid="raylibODE_8c_1a8f1b86adbb51b8bd80405329b31c87d1" compoundref="raylibODE_8c" startline="820" endline="833">FreeBodyAndGeoms</references>
        <references refid="structentity_1a4ba0008223828f414cf5303ca935bcd8" compoundref="raylibODE_8h" startline="58">entity::node</references>
        <references refid="structPhysicsContext_1a9b8d81159eec734cb1b95c95203b7f50" compoundref="raylibODE_8h" startline="68">PhysicsContext::objList</references>
        <referencedby refid="arm_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="arm_8c" startline="66" endline="296">main</referencedby>
        <referencedby refid="gravity_8c_1a335d70770f61bc5f2de93dac31fbfa52" compoundref="gravity_8c" startline="167" endline="229">updateGravity</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1aa35dd966752d4afeffcb8f39e474594c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dJointID</type>
        <definition>dJointID CreatePiston</definition>
        <argsstring>(PhysicsContext *physCtx, entity *entA, entity *entB, float strength)</argsstring>
        <name>CreatePiston</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>entA</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>entB</declname>
        </param>
        <param>
          <type>float</type>
          <declname>strength</declname>
        </param>
        <briefdescription>
<para>creates a piston using two entities as its base on extending sections </para>
        </briefdescription>
        <detaileddescription>
<para>both entities should be positioned and oriented before calling this, they MUST NOT be in exactly the same position, as the vector between them is used as the axis for the piston</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>entA</parametername>
</parameternamelist>
<parameterdescription>
<para>the base entity </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>entB</parametername>
</parameternamelist>
<parameterdescription>
<para>the extending entity </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>strength</parametername>
</parameternamelist>
<parameterdescription>
<para>the maximum force the piston can use </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1126" column="10" bodyfile="raylibODE.c" bodystart="1126" bodyend="1160"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="surface_8c_1aa26755a73be46b483bf7098bcbf679dd" compoundref="surface_8c" startline="26" endline="72">gSurfaces</references>
        <references refid="surface_8h_1a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d" compoundref="surface_8h" startline="42">SURFACE_METAL</references>
        <references refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" compoundref="raylibODE_8h" startline="64">PhysicsContext::world</references>
        <referencedby refid="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" compoundref="raylibODE_8c" startline="1208" endline="1245">CreateMultiPiston</referencedby>
        <referencedby refid="piston_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="piston_8c" startline="32" endline="178">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a878892d1015e3c9349f667325d129d43" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetPistonLimits</definition>
        <argsstring>(dJointID joint, float min, float max)</argsstring>
        <name>SetPistonLimits</name>
        <param>
          <type>dJointID</type>
          <declname>joint</declname>
        </param>
        <param>
          <type>float</type>
          <declname>min</declname>
        </param>
        <param>
          <type>float</type>
          <declname>max</declname>
        </param>
        <briefdescription>
<para>sets the limits of travel for a piston </para>
        </briefdescription>
        <detaileddescription>
<para>min must be smaller than max values can be negative</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>joint</parametername>
</parameternamelist>
<parameterdescription>
<para>the ODE joint id of the joint you want to change </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>min</parametername>
</parameternamelist>
<parameterdescription>
<para>the low end stop point </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>max</parametername>
</parameternamelist>
<parameterdescription>
<para>the high end stop point </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1172" column="6" bodyfile="raylibODE.c" bodystart="1172" bodyend="1176"/>
        <referencedby refid="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" compoundref="raylibODE_8c" startline="1208" endline="1245">CreateMultiPiston</referencedby>
        <referencedby refid="piston_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="piston_8c" startline="32" endline="178">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a710981c5db9781e25b27318e8d56dfbb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void FreeMultiPiston</definition>
        <argsstring>(MultiPiston *mp)</argsstring>
        <name>FreeMultiPiston</name>
        <param>
          <type><ref refid="structMultiPiston" kindref="compound">MultiPiston</ref> *</type>
          <declname>mp</declname>
        </param>
        <briefdescription>
<para>frees all the internal resources of a multipiston </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>mp</parametername>
</parameternamelist>
<parameterdescription>
<para>the multipiston to free</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>this is not done automagically (like dynamic bodies for example) when you create a multipiston add a call to this function in your exit path </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1187" column="6" bodyfile="raylibODE.c" bodystart="1187" bodyend="1192"/>
        <references refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" compoundref="raylibODE_8h" startline="153">MultiPiston::joints</references>
        <references refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" compoundref="raylibODE_8h" startline="152">MultiPiston::sections</references>
        <referencedby refid="marbles_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="marbles_8c" startline="132" endline="246">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structMultiPiston" kindref="compound">MultiPiston</ref> *</type>
        <definition>MultiPiston * CreateMultiPiston</definition>
        <argsstring>(PhysicsContext *physCtx, GraphicsContext *graphics, Vector3 pos, Vector3 direction, int count, float sectionLen, float baseWidth, float strength)</argsstring>
        <name>CreateMultiPiston</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref> *</type>
          <declname>graphics</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>pos</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>direction</declname>
        </param>
        <param>
          <type>int</type>
          <declname>count</declname>
        </param>
        <param>
          <type>float</type>
          <declname>sectionLen</declname>
        </param>
        <param>
          <type>float</type>
          <declname>baseWidth</declname>
        </param>
        <param>
          <type>float</type>
          <declname>strength</declname>
        </param>
        <briefdescription>
<para>add a multi section piston </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>graphics</parametername>
</parameternamelist>
<parameterdescription>
<para>the graphical context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pos</parametername>
</parameternamelist>
<parameterdescription>
<para>where the base of the piston should be positioned </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>direction</parametername>
</parameternamelist>
<parameterdescription>
<para>a vector pointing from the base towards the end of the piston </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>count</parametername>
</parameternamelist>
<parameterdescription>
<para>the number of sections for the piston </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>sectionLen</parametername>
</parameternamelist>
<parameterdescription>
<para>How far each section extends fully retracted it will be a little longer than this as each section doesn&apos;t go into its parent 100% </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>baseWidth</parametername>
</parameternamelist>
<parameterdescription>
<para>the width of the base </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>strength</parametername>
</parameternamelist>
<parameterdescription>
<para>the maximum force the piston can use to extend or retract </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1208" column="13" bodyfile="raylibODE.c" bodystart="1208" bodyend="1245"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structMultiPiston_1a96962d42f96ba90adb333956b1c3ddd4" compoundref="raylibODE_8h" startline="154">MultiPiston::count</references>
        <references refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" compoundref="raylibODE_8c" startline="398" endline="418">CreateBox</references>
        <references refid="raylibODE_8c_1aa35dd966752d4afeffcb8f39e474594c" compoundref="raylibODE_8c" startline="1126" endline="1160">CreatePiston</references>
        <references refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" compoundref="raylibODE_8h" startline="153">MultiPiston::joints</references>
        <references refid="raylibODE_8h_1ad7a3394d1169a116327a236fc91cad61" compoundref="raylibODE_8h" startline="36">PISTON_GROUP</references>
        <references refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" compoundref="raylibODE_8h" startline="152">MultiPiston::sections</references>
        <references refid="raylibODE_8c_1aea5e471f2ffcadf7bcce5b25993d1d0f" compoundref="raylibODE_8c" startline="1271" endline="1298">SetBodyOrientation</references>
        <references refid="raylibODE_8c_1a878892d1015e3c9349f667325d129d43" compoundref="raylibODE_8c" startline="1172" endline="1176">SetPistonLimits</references>
        <references refid="raylibODE_8h_1a7641bec378d3900deed756ce9ce5369f" compoundref="raylibODE_8h" startline="35">WORLD_GROUP</references>
        <referencedby refid="marbles_8c_1aff4f938c7169a18032e8016ba3a2ede6" compoundref="marbles_8c" startline="378" endline="513">CreateLift</referencedby>
        <referencedby refid="pidJoint_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="pidJoint_8c" startline="34" endline="199">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a801a17c097329ca4d55d35f1c5ae7b5a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetMultiPistonVelocity</definition>
        <argsstring>(MultiPiston *mp, float velocity)</argsstring>
        <name>SetMultiPistonVelocity</name>
        <param>
          <type><ref refid="structMultiPiston" kindref="compound">MultiPiston</ref> *</type>
          <declname>mp</declname>
        </param>
        <param>
          <type>float</type>
          <declname>velocity</declname>
        </param>
        <briefdescription>
<para>set a <ref refid="structMultiPiston" kindref="compound">MultiPiston</ref>&apos;s velocity </para>
        </briefdescription>
        <detaileddescription>
<para>While setting all the join velocities in the piston it also ensures all the bodies are active</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>mp</parametername>
</parameternamelist>
<parameterdescription>
<para>the multipiston you want to change the speed of </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>velocity</parametername>
</parameternamelist>
<parameterdescription>
<para>the speed you want the piston set to </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1256" column="6" bodyfile="raylibODE.c" bodystart="1256" bodyend="1262"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structMultiPiston_1a96962d42f96ba90adb333956b1c3ddd4" compoundref="raylibODE_8h" startline="154">MultiPiston::count</references>
        <references refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" compoundref="raylibODE_8h" startline="153">MultiPiston::joints</references>
        <references refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" compoundref="raylibODE_8h" startline="152">MultiPiston::sections</references>
        <referencedby refid="marbles_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="marbles_8c" startline="132" endline="246">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1aea5e471f2ffcadf7bcce5b25993d1d0f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetBodyOrientation</definition>
        <argsstring>(dBodyID body, Vector3 direction)</argsstring>
        <name>SetBodyOrientation</name>
        <param>
          <type>dBodyID</type>
          <declname>body</declname>
        </param>
        <param>
          <type>Vector3</type>
          <declname>direction</declname>
        </param>
        <briefdescription>
<para>sets to bodies orientation to align with a vector </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>body</parametername>
</parameternamelist>
<parameterdescription>
<para>the ODE body id you want to orient </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>direction</parametername>
</parameternamelist>
<parameterdescription>
<para>the vector you want the body oriented along </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1271" column="6" bodyfile="raylibODE.c" bodystart="1271" bodyend="1298"/>
        <referencedby refid="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" compoundref="raylibODE_8c" startline="1208" endline="1245">CreateMultiPiston</referencedby>
        <referencedby refid="piston_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="piston_8c" startline="32" endline="178">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a57b8ac137f7e79fc8deb53b7ba410166" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dJointID</type>
        <definition>dJointID PinEntityToWorld</definition>
        <argsstring>(PhysicsContext *physCtx, entity *ent)</argsstring>
        <name>PinEntityToWorld</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>ent</declname>
        </param>
        <briefdescription>
<para>pins an entity to the world </para>
        </briefdescription>
        <detaileddescription>
<para>This joint will attempt to keep the position and orientation of the body static, position and rotate the body as needed before calling this</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ent</parametername>
</parameternamelist>
<parameterdescription>
<para>The entity to pin to the world</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the joint id of the constraint </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1311" column="10" bodyfile="raylibODE.c" bodystart="1311" bodyend="1317"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" compoundref="raylibODE_8h" startline="64">PhysicsContext::world</references>
        <referencedby refid="marbles_8c_1aff4f938c7169a18032e8016ba3a2ede6" compoundref="marbles_8c" startline="378" endline="513">CreateLift</referencedby>
        <referencedby refid="piston_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="piston_8c" startline="32" endline="178">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a4fdbdf714b807f26feab3176718e274c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>dJointID</type>
        <definition>dJointID PinEntities</definition>
        <argsstring>(PhysicsContext *physCtx, entity *entA, entity *entB)</argsstring>
        <name>PinEntities</name>
        <param>
          <type><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref> *</type>
          <declname>physCtx</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>entA</declname>
        </param>
        <param>
          <type><ref refid="structentity" kindref="compound">entity</ref> *</type>
          <declname>entB</declname>
        </param>
        <briefdescription>
<para>pin two entities together </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>physCtx</parametername>
</parameternamelist>
<parameterdescription>
<para>the physics context </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>entA</parametername>
</parameternamelist>
<parameterdescription>
<para>the first entity </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>entB</parametername>
</parameternamelist>
<parameterdescription>
<para>the second entity</para>
</parameterdescription>
</parameteritem>
</parameterlist>
The constraint will attempt to keep the relative position and orientation of the two entities as it was when this is called. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1329" column="10" bodyfile="raylibODE.c" bodystart="1329" bodyend="1335"/>
        <references refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" compoundref="raylibODE_8h" startline="57">entity::body</references>
        <references refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" compoundref="raylibODE_8h" startline="64">PhysicsContext::world</references>
        <referencedby refid="pidJoint_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="pidJoint_8c" startline="34" endline="199">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a3ae92d4efc27587000b0f3ca889d19e7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetBodyOrientationEuler</definition>
        <argsstring>(dBodyID bdy, float p, float y, float r)</argsstring>
        <name>SetBodyOrientationEuler</name>
        <param>
          <type>dBodyID</type>
          <declname>bdy</declname>
        </param>
        <param>
          <type>float</type>
          <declname>p</declname>
        </param>
        <param>
          <type>float</type>
          <declname>y</declname>
        </param>
        <param>
          <type>float</type>
          <declname>r</declname>
        </param>
        <briefdescription>
<para>sets a bodies orientation </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>bdy</parametername>
</parameternamelist>
<parameterdescription>
<para>the body id </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>p</parametername>
</parameternamelist>
<parameterdescription>
<para>the pitch </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y</parametername>
</parameternamelist>
<parameterdescription>
<para>the yaw </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>r</parametername>
</parameternamelist>
<parameterdescription>
<para>the roll</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>you shouldn&apos;t be doing this every frame rather use forces (torque) </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1347" column="6" bodyfile="raylibODE.c" bodystart="1347" bodyend="1352"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a5b5b0b12adc7119a13eaacef8d097499" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SetGeomOrientationEuler</definition>
        <argsstring>(dGeomID g, float p, float y, float r)</argsstring>
        <name>SetGeomOrientationEuler</name>
        <param>
          <type>dGeomID</type>
          <declname>g</declname>
        </param>
        <param>
          <type>float</type>
          <declname>p</declname>
        </param>
        <param>
          <type>float</type>
          <declname>y</declname>
        </param>
        <param>
          <type>float</type>
          <declname>r</declname>
        </param>
        <briefdescription>
<para>sets a geoms orientation </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>g</parametername>
</parameternamelist>
<parameterdescription>
<para>the geom id </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>p</parametername>
</parameternamelist>
<parameterdescription>
<para>the pitch </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>y</parametername>
</parameternamelist>
<parameterdescription>
<para>the yaw </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>r</parametername>
</parameternamelist>
<parameterdescription>
<para>the roll</para>
</parameterdescription>
</parameteritem>
</parameterlist>
This is most useful when you are creating bodies with composite geoms or for use with a static geom </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1365" column="6" bodyfile="raylibODE.c" bodystart="1365" bodyend="1370"/>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a51c7fa5bc9007621b52ed19bceadc142" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="structRotorPID" kindref="compound">RotorPID</ref></type>
        <definition>RotorPID CreateRotorPID</definition>
        <argsstring>(float p, float i, float d, float lo, float hi)</argsstring>
        <name>CreateRotorPID</name>
        <param>
          <type>float</type>
          <declname>p</declname>
        </param>
        <param>
          <type>float</type>
          <declname>i</declname>
        </param>
        <param>
          <type>float</type>
          <declname>d</declname>
        </param>
        <param>
          <type>float</type>
          <declname>lo</declname>
        </param>
        <param>
          <type>float</type>
          <declname>hi</declname>
        </param>
        <briefdescription>
<para>create a rotor PID helper </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>p</parametername>
</parameternamelist>
<parameterdescription>
<para>proportional value for the PID </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>i</parametername>
</parameternamelist>
<parameterdescription>
<para>integral value </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>d</parametername>
</parameternamelist>
<parameterdescription>
<para>derivative </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>lo</parametername>
</parameternamelist>
<parameterdescription>
<para>the low stop </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>hi</parametername>
</parameternamelist>
<parameterdescription>
<para>the high stop</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="note"><para>a rotorPID contains a targetAngle, set this for your desired rotor angle</para>
</simplesect>
<simplesect kind="note"><para>tuning a PID can be a bit of a dark art! I recommend looking at <ulink url="https://pidexplained.com/how-to-tune-a-pid-controller/">https://pidexplained.com/how-to-tune-a-pid-controller/</ulink> and the example <ulink url="pidJoint_8c_source.html">pidJoint.c</ulink> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1390" column="10" bodyfile="raylibODE.c" bodystart="1390" bodyend="1401"/>
        <references refid="structRotorPID_1ab110cb5e184bcd5145e6ed3b89e2cf82" compoundref="raylibODE_8h" startline="116">RotorPID::antiWindup</references>
        <references refid="structRotorPID_1abb76a89765c6b44add67c2a0bc21ef96" compoundref="raylibODE_8h" startline="117">RotorPID::hi</references>
        <references refid="structRotorPID_1ada89e789ba855cf729f920fc1c1bb929" compoundref="raylibODE_8h" startline="115">RotorPID::Kd</references>
        <references refid="structRotorPID_1a2d5ed52841172c4d8b866a298d664414" compoundref="raylibODE_8h" startline="115">RotorPID::Ki</references>
        <references refid="structRotorPID_1acfaa26f8f2115c47a4db93781231e406" compoundref="raylibODE_8h" startline="115">RotorPID::Kp</references>
        <references refid="structRotorPID_1af2941ac4e0f3caf388abbf8c6a3fdba8" compoundref="raylibODE_8h" startline="117">RotorPID::lo</references>
        <referencedby refid="pidJoint_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="pidJoint_8c" startline="34" endline="199">main</referencedby>
      </memberdef>
      <memberdef kind="function" id="raylibODE_8c_1a3c235bbe76330e3669fb881394ab8767" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void UpdateRotorPID</definition>
        <argsstring>(RotorPID *pid, dJointID joint)</argsstring>
        <name>UpdateRotorPID</name>
        <param>
          <type><ref refid="structRotorPID" kindref="compound">RotorPID</ref> *</type>
          <declname>pid</declname>
        </param>
        <param>
          <type>dJointID</type>
          <declname>joint</declname>
        </param>
        <briefdescription>
<para>update rotor PID </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>pid</parametername>
</parameternamelist>
<parameterdescription>
<para>the <ref refid="structRotorPID" kindref="compound">RotorPID</ref> to update </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>joint</parametername>
</parameternamelist>
<parameterdescription>
<para>the rotor joint to align with the targetAngle of the <ref refid="structRotorPID" kindref="compound">RotorPID</ref> </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="raylibODE.c" line="1410" column="6" bodyfile="raylibODE.c" bodystart="1410" bodyend="1434"/>
        <references refid="structRotorPID_1abb76a89765c6b44add67c2a0bc21ef96" compoundref="raylibODE_8h" startline="117">RotorPID::hi</references>
        <references refid="structRotorPID_1acb043fd74456df5ff732c47777e734a8" compoundref="raylibODE_8h" startline="119">RotorPID::integral</references>
        <references refid="structRotorPID_1ada89e789ba855cf729f920fc1c1bb929" compoundref="raylibODE_8h" startline="115">RotorPID::Kd</references>
        <references refid="structRotorPID_1a2d5ed52841172c4d8b866a298d664414" compoundref="raylibODE_8h" startline="115">RotorPID::Ki</references>
        <references refid="structRotorPID_1acfaa26f8f2115c47a4db93781231e406" compoundref="raylibODE_8h" startline="115">RotorPID::Kp</references>
        <references refid="structRotorPID_1afdb6e3aebf5da57db2d769fc8a74a05b" compoundref="raylibODE_8h" startline="120">RotorPID::lastError</references>
        <references refid="structRotorPID_1af2941ac4e0f3caf388abbf8c6a3fdba8" compoundref="raylibODE_8h" startline="117">RotorPID::lo</references>
        <references refid="structRotorPID_1a7ea2978fd04b56af0f7adc741b9bd69a" compoundref="raylibODE_8h" startline="118">RotorPID::targetAngle</references>
        <referencedby refid="pidJoint_8c_1a840291bc02cba5474a4cb46a9b9566fe" compoundref="pidJoint_8c" startline="34" endline="199">main</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Core physics and rendering integration for RayLib-ODE framework. </para>
    </briefdescription>
    <detaileddescription>
<para>This file contains the main framework functions for creating physics bodies, handling collisions, and rendering geometric primitives. It serves as the bridge between RayLib&apos;s rendering system and ODE&apos;s physics engine.</para>
<para><simplesect kind="author"><para>Chris Camacho (codifies - <ulink url="http://bedroomcoders.co.uk/">http://bedroomcoders.co.uk/</ulink>) </para>
</simplesect>
<simplesect kind="date"><para>2021-2026 </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2021-2026<sp/>Chris<sp/>Camacho<sp/>(codifies<sp/>-<sp/><sp/>http://bedroomcoders.co.uk/)</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Permission<sp/>is<sp/>hereby<sp/>granted,<sp/>free<sp/>of<sp/>charge,<sp/>to<sp/>any<sp/>person<sp/>obtaining<sp/>a<sp/>copy</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>of<sp/>this<sp/>software<sp/>and<sp/>associated<sp/>documentation<sp/>files<sp/>(the<sp/>&quot;Software&quot;),<sp/>to<sp/>deal</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>in<sp/>the<sp/>Software<sp/>without<sp/>restriction,<sp/>including<sp/>without<sp/>limitation<sp/>the<sp/>rights</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>merge,<sp/>publish,<sp/>distribute,<sp/>sublicense,<sp/>and/or<sp/>sell</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>copies<sp/>of<sp/>the<sp/>Software,<sp/>and<sp/>to<sp/>permit<sp/>persons<sp/>to<sp/>whom<sp/>the<sp/>Software<sp/>is</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>furnished<sp/>to<sp/>do<sp/>so,<sp/>subject<sp/>to<sp/>the<sp/>following<sp/>conditions:</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>The<sp/>above<sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>shall<sp/>be<sp/>included<sp/>in</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/>all<sp/>copies<sp/>or<sp/>substantial<sp/>portions<sp/>of<sp/>the<sp/>Software.</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;,<sp/>WITHOUT<sp/>WARRANTY<sp/>OF<sp/>ANY<sp/>KIND,<sp/>EXPRESS<sp/>OR</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>IMPLIED,<sp/>INCLUDING<sp/>BUT<sp/>NOT<sp/>LIMITED<sp/>TO<sp/>THE<sp/>WARRANTIES<sp/>OF<sp/>MERCHANTABILITY,</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE<sp/>AND<sp/>NONINFRINGEMENT.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>AUTHORS<sp/>OR<sp/>COPYRIGHT<sp/>HOLDERS<sp/>BE<sp/>LIABLE<sp/>FOR<sp/>ANY<sp/>CLAIM,<sp/>DAMAGES<sp/>OR<sp/>OTHER</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>LIABILITY,<sp/>WHETHER<sp/>IN<sp/>AN<sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>TORT<sp/>OR<sp/>OTHERWISE,<sp/>ARISING<sp/>FROM,</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>OUT<sp/>OF<sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>SOFTWARE<sp/>OR<sp/>THE<sp/>USE<sp/>OR<sp/>OTHER<sp/>DEALINGS<sp/>IN<sp/>THE</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="24"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/>@file<sp/>raylibODE.c</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Core<sp/>physics<sp/>and<sp/>rendering<sp/>integration<sp/>for<sp/>RayLib-ODE<sp/>framework</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*<sp/>This<sp/>file<sp/>contains<sp/>the<sp/>main<sp/>framework<sp/>functions<sp/>for<sp/>creating<sp/>physics<sp/>bodies,</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*<sp/>handling<sp/>collisions,<sp/>and<sp/>rendering<sp/>geometric<sp/>primitives.<sp/>It<sp/>serves<sp/>as<sp/>the</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>*<sp/>bridge<sp/>between<sp/>RayLib&apos;s<sp/>rendering<sp/>system<sp/>and<sp/>ODE&apos;s<sp/>physics<sp/>engine.</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>*<sp/>@author<sp/>Chris<sp/>Camacho<sp/>(codifies<sp/>-<sp/>http://bedroomcoders.co.uk/)</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*<sp/>@date<sp/>2021-2026</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/>@mainpage<sp/>RayLibOdeMech<sp/>Framework</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*<sp/>@section<sp/>overview<sp/>Overview</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="39"><highlight class="comment"><sp/>*<sp/>RayLibOdeMech<sp/>is<sp/>a<sp/>physics<sp/>framework<sp/>that<sp/>combines<sp/>RayLib<sp/>for<sp/>graphics</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>*<sp/>rendering<sp/>with<sp/>ODE<sp/>(Open<sp/>Dynamics<sp/>Engine)<sp/>for<sp/>physics<sp/>simulation.<sp/>It</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>*<sp/>provides<sp/>an<sp/>easy-to-use<sp/>API<sp/>for<sp/>creating<sp/>3D<sp/>physics<sp/>simulations<sp/>with</highlight></codeline>
<codeline lineno="42"><highlight class="comment"><sp/>*<sp/>various<sp/>primitive<sp/>shapes<sp/>and<sp/>complex<sp/>composite<sp/>objects.</highlight></codeline>
<codeline lineno="43"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="44"><highlight class="comment"><sp/>*<sp/>The<sp/>main<sp/>functionality<sp/>is<sp/>documented<sp/>here<sp/>@ref<sp/>raylibODE.c</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>*<sp/>@section<sp/>preperation<sp/>Compiling<sp/>ODE<sp/>for<sp/>the<sp/>framework</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/>*<sp/>ODE<sp/>is<sp/>linked<sp/>in<sp/>statically<sp/>for<sp/>convienience.</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/>get<sp/>ODE<sp/>from<sp/>https://bitbucket.org/odedevs/ode/downloads/</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>*<sp/>extract<sp/>ode<sp/>0.16.6<sp/>into<sp/>a<sp/>directory<sp/>at<sp/>the<sp/>same<sp/>level<sp/>as<sp/>this<sp/>project<sp/>(see<sp/>below)</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>*<sp/>ln<sp/>-s<sp/>ode-0.16.6<sp/>ode&lt;br&gt;</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>*<sp/>cd<sp/>ode</highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/>*<sp/>I&apos;d<sp/>suggest<sp/>building<sp/>it<sp/>with<sp/>this<sp/>configuration&lt;br&gt;</highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>*<sp/>./configure<sp/>--enable-ou<sp/>--enable-libccd<sp/>--with-box-cylinder=libccd<sp/>--with-drawstuff=none<sp/>--disable-demos<sp/>--with-libccd=internal</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>*<sp/>and<sp/>run<sp/>make,<sp/>you<sp/>should<sp/>then<sp/>be<sp/>set<sp/>to<sp/>compile<sp/>this<sp/>project</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="62"><highlight class="comment"><sp/>*<sp/>Your<sp/>file<sp/>structure<sp/>should<sp/>look<sp/>like<sp/>this</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/>*<sp/>ode&lt;br&gt;</highlight></codeline>
<codeline lineno="65"><highlight class="comment"><sp/>*<sp/>raylib&lt;br&gt;</highlight></codeline>
<codeline lineno="66"><highlight class="comment"><sp/>*<sp/>RayLibOdeMech</highlight></codeline>
<codeline lineno="67"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="68"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="69"><highlight class="comment"><sp/>*<sp/>@section<sp/>features<sp/>Features</highlight></codeline>
<codeline lineno="70"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="71"><highlight class="comment"><sp/>*<sp/>-<sp/>Physics<sp/>body<sp/>creation<sp/>(boxes,<sp/>spheres,<sp/>cylinders,<sp/>capsules)</highlight></codeline>
<codeline lineno="72"><highlight class="comment"><sp/>*<sp/>-<sp/>Composite<sp/>shapes<sp/>(dumbbell<sp/>example<sp/>shape)</highlight></codeline>
<codeline lineno="73"><highlight class="comment"><sp/>*<sp/>-<sp/>Static<sp/>trimesh<sp/>support<sp/>for<sp/>arbitrary<sp/>geometry</highlight></codeline>
<codeline lineno="74"><highlight class="comment"><sp/>*<sp/>-<sp/>Ray<sp/>picking<sp/>for<sp/>mouse<sp/>interaction</highlight></codeline>
<codeline lineno="75"><highlight class="comment"><sp/>*<sp/>-<sp/>Automatic<sp/>collision<sp/>detection<sp/>and<sp/>response</highlight></codeline>
<codeline lineno="76"><highlight class="comment"><sp/>*<sp/>-<sp/>rotor<sp/>and<sp/>piston<sp/>joint<sp/>examples</highlight></codeline>
<codeline lineno="77"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="78"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="79"><highlight class="comment"><sp/>*<sp/>@section<sp/>usage<sp/>Basic<sp/>Usage</highlight></codeline>
<codeline lineno="80"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="81"><highlight class="comment"><sp/>*<sp/>@subsection<sp/>initialization<sp/>Initialization</highlight></codeline>
<codeline lineno="82"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="83"><highlight class="comment"><sp/>*<sp/>@code</highlight></codeline>
<codeline lineno="84"><highlight class="comment"><sp/>*<sp/>//<sp/>Initialize<sp/>graphics<sp/>and<sp/>physics</highlight></codeline>
<codeline lineno="85"><highlight class="comment"><sp/>*<sp/><sp/>PhysicsContext*<sp/>physCtx<sp/>=<sp/>CreatePhysics();</highlight></codeline>
<codeline lineno="86"><highlight class="comment"><sp/>*<sp/><sp/>GraphicsContext*<sp/>graphics<sp/>=<sp/>CreateGraphics(screenWidth,<sp/>screenHeight,<sp/>&quot;Raylib<sp/>and<sp/>OpenDE<sp/>Sandbox&quot;);</highlight></codeline>
<codeline lineno="87"><highlight class="comment"><sp/>*<sp/><sp/>SetupCamera(graphics);</highlight></codeline>
<codeline lineno="88"><highlight class="comment"><sp/>*<sp/>@endcode</highlight></codeline>
<codeline lineno="89"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="90"><highlight class="comment"><sp/>*<sp/>@subsection<sp/>creating_objects<sp/>Creating<sp/>Objects</highlight></codeline>
<codeline lineno="91"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="92"><highlight class="comment"><sp/>*<sp/>@code</highlight></codeline>
<codeline lineno="93"><highlight class="comment"><sp/>*<sp/>//<sp/>Add<sp/>a<sp/>box<sp/>to<sp/>the<sp/>physics<sp/>world</highlight></codeline>
<codeline lineno="94"><highlight class="comment"><sp/>*<sp/>Vector3<sp/>size<sp/>=<sp/>{1.0f,<sp/>1.0f,<sp/>1.0f};</highlight></codeline>
<codeline lineno="95"><highlight class="comment"><sp/>*<sp/>Vector3<sp/>pos<sp/>=<sp/>{0.0f,<sp/>5.0f,<sp/>0.0f};</highlight></codeline>
<codeline lineno="96"><highlight class="comment"><sp/>*<sp/>Vector3<sp/>rot<sp/>=<sp/>{0.0f,<sp/>0.0f,<sp/>0.0f};</highlight></codeline>
<codeline lineno="97"><highlight class="comment"><sp/>*<sp/>entity*<sp/>box<sp/>=<sp/>CreateBox(physCtx,<sp/>&amp;gfxCtx,<sp/>size,<sp/>pos,<sp/>rot,<sp/>10.0f);</highlight></codeline>
<codeline lineno="98"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="99"><highlight class="comment"><sp/>*<sp/>//<sp/>Create<sp/>a<sp/>static<sp/>ground<sp/>box</highlight></codeline>
<codeline lineno="100"><highlight class="comment"><sp/>*<sp/>dGeomID<sp/>planeGeom<sp/>=<sp/>dCreateBox(physCtx-&gt;space,<sp/>PLANE_SIZE,<sp/>PLANE_THICKNESS,<sp/>PLANE_SIZE);</highlight></codeline>
<codeline lineno="101"><highlight class="comment"><sp/>*<sp/>dGeomSetPosition(planeGeom,<sp/>0,<sp/>-PLANE_THICKNESS<sp/>/<sp/>2.0,<sp/>0);</highlight></codeline>
<codeline lineno="102"><highlight class="comment"><sp/>*<sp/>dGeomSetData(planeGeom,<sp/>CreateGeomInfo(true,<sp/>graphics-&gt;groundTexture,<sp/>25.0f,<sp/>25.0f));</highlight></codeline>
<codeline lineno="103"><highlight class="comment"><sp/>*<sp/>clistAddNode(physCtx-&gt;statics,<sp/>planeGeom);</highlight></codeline>
<codeline lineno="104"><highlight class="comment"><sp/>*<sp/>@endcode</highlight></codeline>
<codeline lineno="105"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="106"><highlight class="comment"><sp/>*<sp/>@subsection<sp/>simulation<sp/>Simulation<sp/>Loop</highlight></codeline>
<codeline lineno="107"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="108"><highlight class="comment"><sp/>*<sp/>@code</highlight></codeline>
<codeline lineno="109"><highlight class="comment"><sp/>*<sp/>//<sp/>In<sp/>your<sp/>main<sp/>loop</highlight></codeline>
<codeline lineno="110"><highlight class="comment"><sp/>*<sp/>while<sp/>(!WindowShouldClose())<sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>//<sp/>Step<sp/>physics</highlight></codeline>
<codeline lineno="112"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>StepPhysics(physCtx);</highlight></codeline>
<codeline lineno="113"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>UpdateExampleCamera(graphics);</highlight></codeline>
<codeline lineno="114"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="115"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>//<sp/>Render</highlight></codeline>
<codeline lineno="116"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>BeginDrawing();</highlight></codeline>
<codeline lineno="117"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ClearBackground(RAYWHITE);</highlight></codeline>
<codeline lineno="118"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BeginMode3D(graphics-&gt;camera);</highlight></codeline>
<codeline lineno="119"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>drawBodies(graphics,<sp/>physCtx);</highlight></codeline>
<codeline lineno="120"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>drawStatics(graphics,<sp/>physCtx);</highlight></codeline>
<codeline lineno="121"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EndMode3D();</highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/>EndDrawing();</highlight></codeline>
<codeline lineno="123"><highlight class="comment"><sp/>*<sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/>*<sp/>@endcode</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="126"><highlight class="comment"><sp/>*<sp/>@subsection<sp/>cleanup<sp/>Cleanup</highlight></codeline>
<codeline lineno="127"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="128"><highlight class="comment"><sp/>*<sp/>@code</highlight></codeline>
<codeline lineno="129"><highlight class="comment"><sp/>*<sp/>//<sp/>Clean<sp/>up<sp/>resources</highlight></codeline>
<codeline lineno="130"><highlight class="comment"><sp/>*<sp/>FreePhysics(physCtx);</highlight></codeline>
<codeline lineno="131"><highlight class="comment"><sp/>*<sp/>FreeGraphics(graphics);</highlight></codeline>
<codeline lineno="132"><highlight class="comment"><sp/>*<sp/>CloseWindow();</highlight></codeline>
<codeline lineno="133"><highlight class="comment"><sp/>*<sp/>@endcode</highlight></codeline>
<codeline lineno="134"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="135"><highlight class="comment"><sp/>*<sp/>@section<sp/>dependencies<sp/>Dependencies</highlight></codeline>
<codeline lineno="136"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="137"><highlight class="comment"><sp/>*<sp/>-<sp/>RayLib<sp/>5.0+</highlight></codeline>
<codeline lineno="138"><highlight class="comment"><sp/>*<sp/>-<sp/>ODE<sp/>(Open<sp/>Dynamics<sp/>Engine)<sp/>0.16+</highlight></codeline>
<codeline lineno="139"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="140"><highlight class="comment"><sp/>*<sp/>@section<sp/>license<sp/>License</highlight></codeline>
<codeline lineno="141"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="142"><highlight class="comment"><sp/>*<sp/>MIT<sp/>License<sp/>-<sp/>See<sp/>LICENSE<sp/>file<sp/>for<sp/>details</highlight></codeline>
<codeline lineno="143"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="145"><highlight class="comment"><sp/>/**</highlight></codeline>
<codeline lineno="146"><highlight class="comment"><sp/>*<sp/>@example<sp/>arm.c</highlight></codeline>
<codeline lineno="147"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="148"><highlight class="comment"><sp/>*<sp/>control<sp/>a<sp/>robot<sp/>arm<sp/>with<sp/>IO,<sp/>KL,<sp/>,.<sp/>keys<sp/>and<sp/>G<sp/>to<sp/>release<sp/>grabber</highlight></codeline>
<codeline lineno="149"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="150"><highlight class="comment"><sp/>*<sp/>@example<sp/>car.c</highlight></codeline>
<codeline lineno="151"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="152"><highlight class="comment"><sp/>*<sp/>use<sp/>the<sp/>cursor<sp/>keys<sp/>to<sp/>control<sp/>a<sp/>simple<sp/>vehicle<sp/>over<sp/>a<sp/>trimesh</highlight></codeline>
<codeline lineno="153"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="154"><highlight class="comment"><sp/>*<sp/>@example<sp/>derby.c</highlight></codeline>
<codeline lineno="155"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="156"><highlight class="comment"><sp/>*<sp/>a<sp/>whole<sp/>bunch<sp/>of<sp/>cars,<sp/>following<sp/>a<sp/>figure<sp/>of<sp/>8<sp/>path<sp/>and<sp/>making</highlight></codeline>
<codeline lineno="157"><highlight class="comment"><sp/>*<sp/>no<sp/>attempt<sp/>to<sp/>avoid<sp/>collisions<sp/>!</highlight></codeline>
<codeline lineno="158"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="159"><highlight class="comment"><sp/>*<sp/>@example<sp/>fountain.c</highlight></codeline>
<codeline lineno="160"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="161"><highlight class="comment"><sp/>*<sp/>many<sp/>shapes<sp/>being<sp/>created<sp/>and<sp/>destroyed,<sp/>show<sp/>using<sp/>a<sp/>sphere</highlight></codeline>
<codeline lineno="162"><highlight class="comment"><sp/>*<sp/>as<sp/>a<sp/>trigger<sp/>area</highlight></codeline>
<codeline lineno="163"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="164"><highlight class="comment"><sp/>*<sp/>@example<sp/>piston.c</highlight></codeline>
<codeline lineno="165"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="166"><highlight class="comment"><sp/>*<sp/>A<sp/>simple<sp/>piston,<sp/>press<sp/>O<sp/>and<sp/>P<sp/>to<sp/>move<sp/>the<sp/>pistons,<sp/>the<sp/>main<sp/>body</highlight></codeline>
<codeline lineno="167"><highlight class="comment"><sp/>*<sp/>of<sp/>the<sp/>piston<sp/>is<sp/>achored<sp/>to<sp/>the<sp/>world<sp/>so<sp/>it<sp/>doesn&apos;t<sp/>move</highlight></codeline>
<codeline lineno="168"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="169"><highlight class="comment"><sp/>*<sp/>@example<sp/>placer.c</highlight></codeline>
<codeline lineno="170"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="171"><highlight class="comment"><sp/>*<sp/>place<sp/>new<sp/>shapes<sp/>in<sp/>the<sp/>world,<sp/>and<sp/>push<sp/>them<sp/>about<sp/>&lt;br&gt;</highlight></codeline>
<codeline lineno="172"><highlight class="comment"><sp/>*<sp/>shows<sp/>how<sp/>to<sp/>do<sp/>ray<sp/>cast<sp/>detection</highlight></codeline>
<codeline lineno="173"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="174"><highlight class="comment"><sp/>*<sp/>@example<sp/>ragdolls.c</highlight></codeline>
<codeline lineno="175"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="176"><highlight class="comment"><sp/>*<sp/>press<sp/>space<sp/>to<sp/>move<sp/>them<sp/>around<sp/>(random<sp/>upwards<sp/>and<sp/>sideways</highlight></codeline>
<codeline lineno="177"><highlight class="comment"><sp/>*<sp/>force<sp/>applied<sp/>to<sp/>head)</highlight></codeline>
<codeline lineno="178"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="179"><highlight class="comment"><sp/>*<sp/>@example<sp/>rotor.c</highlight></codeline>
<codeline lineno="180"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="181"><highlight class="comment"><sp/>*<sp/>shows<sp/>the<sp/>rotor<sp/>convenience<sp/>function</highlight></codeline>
<codeline lineno="182"><highlight class="comment"><sp/>*<sp/><sp/></highlight></codeline>
<codeline lineno="183"><highlight class="comment"><sp/>*<sp/>@example<sp/>template.c</highlight></codeline>
<codeline lineno="184"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="185"><highlight class="comment"><sp/>*<sp/>This<sp/>example<sp/>does<sp/>nothing!<sp/>it<sp/>has<sp/>a<sp/>static<sp/>ground<sp/>box<sp/>and<sp/>camera</highlight></codeline>
<codeline lineno="186"><highlight class="comment"><sp/>*<sp/>it<sp/>is<sp/>intended<sp/>to<sp/>be<sp/>copied<sp/>and<sp/>used<sp/>for<sp/>your<sp/>own<sp/>experiments</highlight></codeline>
<codeline lineno="187"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="188"><highlight class="comment"><sp/>*<sp/>@example<sp/>terrain.c</highlight></codeline>
<codeline lineno="189"><highlight class="comment"><sp/>*<sp/>@par</highlight></codeline>
<codeline lineno="190"><highlight class="comment"><sp/>*<sp/>shows<sp/>shapes<sp/>colliding<sp/>and<sp/>coming<sp/>to<sp/>rest<sp/>on<sp/>a<sp/>static<sp/>trimesh</highlight></codeline>
<codeline lineno="191"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>memset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="raylibODE_8h" kindref="compound">raylibODE.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="collision_8h" kindref="compound">collision.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="surface_8h" kindref="compound">surface.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="199"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="200"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Physics<sp/>simulation<sp/>time<sp/>slice</highlight></codeline>
<codeline lineno="201"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="202"><highlight class="comment"><sp/>*<sp/>The<sp/>fixed<sp/>time<sp/>step<sp/>used<sp/>for<sp/>physics<sp/>simulation.</highlight></codeline>
<codeline lineno="203"><highlight class="comment"><sp/>*<sp/>ODE<sp/>recommends<sp/>using<sp/>fixed<sp/>time<sp/>steps<sp/>for<sp/>consistent<sp/>results.</highlight></codeline>
<codeline lineno="204"><highlight class="comment"><sp/>*<sp/>1/240<sp/>=<sp/>~240<sp/>Hz<sp/>update<sp/>rate.</highlight></codeline>
<codeline lineno="205"><highlight class="comment"><sp/>*<sp/>the<sp/>framework<sp/>will<sp/>step<sp/>as<sp/>many<sp/>times<sp/>as<sp/>it<sp/>needs<sp/>to<sp/>to</highlight></codeline>
<codeline lineno="206"><highlight class="comment"><sp/>*<sp/>keep<sp/>up<sp/>with<sp/>realtime<sp/>in<sp/>this<sp/>sized<sp/>steps</highlight></codeline>
<codeline lineno="207"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208" refid="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" kindref="member">physSlice</ref><sp/>=<sp/>1.0<sp/>/<sp/>240.0;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="210"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="211"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Generate<sp/>a<sp/>random<sp/>float<sp/>in<sp/>the<sp/>specified<sp/>range</highlight></codeline>
<codeline lineno="212"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="213"><highlight class="comment"><sp/>*<sp/>@param<sp/>min<sp/>Minimum<sp/>value<sp/>(inclusive)</highlight></codeline>
<codeline lineno="214"><highlight class="comment"><sp/>*<sp/>@param<sp/>max<sp/>Maximum<sp/>value<sp/>(inclusive)</highlight></codeline>
<codeline lineno="215"><highlight class="comment"><sp/>*<sp/>@return<sp/>Random<sp/>float<sp/>between<sp/>min<sp/>and<sp/>max</highlight></codeline>
<codeline lineno="216"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="217"><highlight class="comment"><sp/>*<sp/>@note<sp/>Uses<sp/>rand()<sp/>from<sp/>stdlib<sp/>-<sp/>consider<sp/>seeding<sp/>with<sp/>srand()<sp/>for<sp/>better<sp/>randomness</highlight></codeline>
<codeline lineno="218"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219" refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>min,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>max)</highlight></codeline>
<codeline lineno="220"><highlight class="normal">{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)rand()<sp/>/<sp/>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)(RAND_MAX))<sp/>*<sp/>(max<sp/>-<sp/>min)<sp/>+<sp/>min;</highlight></codeline>
<codeline lineno="222"><highlight class="normal">}</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="224"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="225"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Step<sp/>the<sp/>physics<sp/>simulation<sp/>forward</highlight></codeline>
<codeline lineno="226"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="227"><highlight class="comment"><sp/>*<sp/>This<sp/>function<sp/>advances<sp/>the<sp/>physics<sp/>simulation<sp/>by<sp/>stepping<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="228"><highlight class="comment"><sp/>*<sp/>forward<sp/>using<sp/>fixed<sp/>time<sp/>steps.<sp/>It<sp/>handles<sp/>the<sp/>frame<sp/>time<sp/>accumulation</highlight></codeline>
<codeline lineno="229"><highlight class="comment"><sp/>*<sp/>and<sp/>performs<sp/>multiple<sp/>physics<sp/>steps<sp/>if<sp/>necessary<sp/>to<sp/>maintain<sp/>simulation</highlight></codeline>
<codeline lineno="230"><highlight class="comment"><sp/>*<sp/>stability<sp/>and<sp/>accuracy.</highlight></codeline>
<codeline lineno="231"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="232"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context<sp/>containing<sp/>the<sp/>world<sp/>and<sp/>state</highlight></codeline>
<codeline lineno="233"><highlight class="comment"><sp/>*<sp/>@return<sp/>Number<sp/>of<sp/>physics<sp/>steps<sp/>performed<sp/>this<sp/>frame</highlight></codeline>
<codeline lineno="234"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="235"><highlight class="comment"><sp/>*<sp/>@note<sp/>Uses<sp/>dWorldQuickStep<sp/>for<sp/>faster<sp/>but<sp/>less<sp/>accurate<sp/>simulation</highlight></codeline>
<codeline lineno="236"><highlight class="comment"><sp/>*<sp/>@note<sp/>Maximum<sp/>number<sp/>of<sp/>steps<sp/>is<sp/>limited<sp/>by<sp/>maxPsteps<sp/>to<sp/>prevent<sp/>spiral<sp/>of<sp/>death</highlight></codeline>
<codeline lineno="237"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="238"><highlight class="comment"><sp/>*<sp/>@see<sp/>PhysicsContext</highlight></codeline>
<codeline lineno="239"><highlight class="comment"><sp/>*<sp/>@see<sp/>dWorldQuickStep</highlight></codeline>
<codeline lineno="240"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="raylibODE_8c_1ad087bfe56f8c97e250f6dd5054fdf76e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1ad087bfe56f8c97e250f6dd5054fdf76e" kindref="member">StepPhysics</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx)</highlight></codeline>
<codeline lineno="242"><highlight class="normal">{</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pSteps<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>physCtx-&gt;<ref refid="structPhysicsContext_1a9d9d8a36dbf5ada397c97512528ee62b" kindref="member">frameTime</ref><sp/>+=<sp/>GetFrameTime();</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(physCtx-&gt;<ref refid="structPhysicsContext_1a9d9d8a36dbf5ada397c97512528ee62b" kindref="member">frameTime</ref><sp/>&gt;<sp/><ref refid="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" kindref="member">physSlice</ref>)<sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>for<sp/>collisions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dSpaceCollide(physCtx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>physCtx,<sp/>&amp;<ref refid="collision_8c_1ad6680ae487b581622710e22bdfdb3146" kindref="member">nearCallback</ref>);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>step<sp/>the<sp/>world</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>although<sp/>this<sp/>does<sp/>steps<sp/>itself,<sp/>doing<sp/>it<sp/>multiple<sp/>times</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>allows<sp/>for<sp/>smoother<sp/>physics<sp/>and<sp/>gives<sp/>us<sp/>a<sp/>way<sp/>to<sp/>sync</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>physics<sp/>time<sp/>to<sp/>everything<sp/>else.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dWorldQuickStep(physCtx-&gt;<ref refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" kindref="member">world</ref>,<sp/><ref refid="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" kindref="member">physSlice</ref>);<sp/><sp/></highlight><highlight class="comment">//<sp/>NB<sp/>fixed<sp/>time<sp/>step<sp/>is<sp/>important</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dJointGroupEmpty(physCtx-&gt;<ref refid="structPhysicsContext_1a7127872c521cd13698a53ceba9113a0e" kindref="member">contactgroup</ref>);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>physCtx-&gt;<ref refid="structPhysicsContext_1a9d9d8a36dbf5ada397c97512528ee62b" kindref="member">frameTime</ref><sp/>-=<sp/><ref refid="raylibODE_8c_1ad4efdb006e87d1e0709eb9a32edb2f2d" kindref="member">physSlice</ref>;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSteps++;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSteps<sp/>&gt;<sp/><ref refid="raylibODE_8h_1afeff8fa28bbbf9c2ddbc85a38993d92e" kindref="member">maxPsteps</ref>)<sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>physCtx-&gt;<ref refid="structPhysicsContext_1a9d9d8a36dbf5ada397c97512528ee62b" kindref="member">frameTime</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pSteps;</highlight></codeline>
<codeline lineno="264"><highlight class="normal">}</highlight></codeline>
<codeline lineno="265"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight><highlight class="comment">//<sp/>---<sp/>HELPER:<sp/>Common<sp/>Entity<sp/>Initialization<sp/>---</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Internal<sp/>helper<sp/>to<sp/>reduce<sp/>boilerplate<sp/>for<sp/>all<sp/>shape<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="271"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="272"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Create<sp/>a<sp/>base<sp/>entity<sp/>with<sp/>physics<sp/>body</highlight></codeline>
<codeline lineno="273"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="274"><highlight class="comment"><sp/>*<sp/>Internal<sp/>helper<sp/>function<sp/>that<sp/>creates<sp/>a<sp/>new<sp/>entity<sp/>with<sp/>an<sp/>ODE<sp/>body</highlight></codeline>
<codeline lineno="275"><highlight class="comment"><sp/>*<sp/>and<sp/>adds<sp/>it<sp/>to<sp/>the<sp/>physics<sp/>world&apos;s<sp/>object<sp/>list.<sp/>This<sp/>reduces<sp/>code</highlight></codeline>
<codeline lineno="276"><highlight class="comment"><sp/>*<sp/>duplication<sp/>across<sp/>all<sp/>shape<sp/>creation<sp/>functions.</highlight></codeline>
<codeline lineno="277"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="278"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="279"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="280"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="281"><highlight class="comment"><sp/>*<sp/>@note<sp/>Internal<sp/>function<sp/>-<sp/>but<sp/>might<sp/>be<sp/>useful<sp/>for<sp/>manual<sp/>creation</highlight></codeline>
<codeline lineno="282"><highlight class="comment"><sp/>*<sp/>it<sp/>creates<sp/>an<sp/>&quot;empty&quot;<sp/>body<sp/>without<sp/>geoms</highlight></codeline>
<codeline lineno="283"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284" refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" kindref="member">CreateBaseEntity</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx)<sp/>{</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodyID<sp/>bdy<sp/>=<sp/>dBodyCreate(ctx-&gt;<ref refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" kindref="member">world</ref>);</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent<sp/>=<sp/>RL_MALLOC(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structentity" kindref="compound">entity</ref>));</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref><sp/>=<sp/>bdy;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetData(bdy,<sp/>ent);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/>ent-&gt;<ref refid="structentity_1a4ba0008223828f414cf5303ca935bcd8" kindref="member">node</ref><sp/>=<sp/><ref refid="clist_8c_1a264922774fdf767e31797fe81f2231be" kindref="member">clistAddNode</ref>(ctx-&gt;<ref refid="structPhysicsContext_1a9b8d81159eec734cb1b95c95203b7f50" kindref="member">objList</ref>,<sp/>ent);</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ent;</highlight></codeline>
<codeline lineno="291"><highlight class="normal">}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight><highlight class="comment">//<sp/>TODO<sp/>the<sp/>geom<sp/>only<sp/>creation<sp/>functions<sp/>should<sp/>be<sp/>used<sp/>by<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight><highlight class="comment">//<sp/>create<sp/>entity<sp/>function<sp/>CreateBall<sp/>CreateBox<sp/>etc</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"></highlight><highlight class="comment">//<sp/>just<sp/>an<sp/>isolated<sp/>geom,<sp/>most<sp/>useful<sp/>to<sp/>add<sp/>to<sp/>existing<sp/>bodies</highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="297"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="298"><highlight class="comment"><sp/>*<sp/>Create<sp/>a<sp/>sphere<sp/>geom</highlight></codeline>
<codeline lineno="299"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="300"><highlight class="comment"><sp/>*<sp/>This<sp/>creates<sp/>just<sp/>the<sp/>geometry,<sp/>useful<sp/>for<sp/>building<sp/>composite<sp/>shapes</highlight></codeline>
<codeline lineno="301"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="302"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="303"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="304"><highlight class="comment"><sp/>*<sp/>@param<sp/>radius<sp/>radius<sp/>of<sp/>the<sp/>sphere</highlight></codeline>
<codeline lineno="305"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>where<sp/>you<sp/>want<sp/>the<sp/>geom<sp/>positioned</highlight></codeline>
<codeline lineno="306"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="307"><highlight class="comment"><sp/>*<sp/>@note<sp/>if<sp/>you<sp/>want<sp/>to<sp/>use<sp/>this<sp/>as<sp/>a<sp/>static<sp/>collider<sp/>in<sp/>the<sp/>world<sp/>you<sp/>will</highlight></codeline>
<codeline lineno="308"><highlight class="comment"><sp/>*<sp/>need<sp/>to<sp/>add<sp/>it<sp/>to<sp/>the<sp/>world<sp/>and<sp/>the<sp/>physics<sp/>context<sp/>statics<sp/>list</highlight></codeline>
<codeline lineno="309"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310" refid="raylibODE_8c_1a0201472030d3c51d3b13c7f807b59b01" refkind="member"><highlight class="normal">dGeomID<sp/><ref refid="raylibODE_8c_1a0201472030d3c51d3b13c7f807b59b01" kindref="member">CreateSphereGeom</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius,<sp/>Vector3<sp/>pos)</highlight></codeline>
<codeline lineno="311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateSphere(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>radius);</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetPosition(geom,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1a0f22083c4b2ff44151d92d717137a8c4" kindref="member">sphereTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>3)];</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f);</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/>gi);</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geom;</highlight></codeline>
<codeline lineno="320"><highlight class="normal">}</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"></highlight><highlight class="comment">//<sp/>isolated<sp/>cylinder<sp/>geom</highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="323"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="324"><highlight class="comment"><sp/>*<sp/>Create<sp/>a<sp/>cylinder<sp/>geom</highlight></codeline>
<codeline lineno="325"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="326"><highlight class="comment"><sp/>*<sp/>This<sp/>creates<sp/>just<sp/>the<sp/>geometry,<sp/>useful<sp/>for<sp/>building<sp/>composite<sp/>shapes</highlight></codeline>
<codeline lineno="327"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="328"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="329"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="330"><highlight class="comment"><sp/>*<sp/>@param<sp/>radius<sp/>radius<sp/>of<sp/>the<sp/>cylinder</highlight></codeline>
<codeline lineno="331"><highlight class="comment"><sp/>*<sp/>@param<sp/>length<sp/>length<sp/>of<sp/>the<sp/>cylinder</highlight></codeline>
<codeline lineno="332"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>where<sp/>you<sp/>want<sp/>the<sp/>geom<sp/>positioned</highlight></codeline>
<codeline lineno="333"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="334"><highlight class="comment"><sp/>*<sp/>@note<sp/>if<sp/>you<sp/>want<sp/>to<sp/>use<sp/>this<sp/>as<sp/>a<sp/>static<sp/>collider<sp/>in<sp/>the<sp/>world<sp/>you<sp/>will</highlight></codeline>
<codeline lineno="335"><highlight class="comment"><sp/>*<sp/>need<sp/>to<sp/>add<sp/>it<sp/>to<sp/>the<sp/>world<sp/>and<sp/>the<sp/>physics<sp/>context<sp/>statics<sp/>list</highlight></codeline>
<codeline lineno="336"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337" refid="raylibODE_8c_1a8928fb910d045f15136fd02999b7ffa6" refkind="member"><highlight class="normal">dGeomID<sp/><ref refid="raylibODE_8c_1a8928fb910d045f15136fd02999b7ffa6" kindref="member">CreateCylinderGeom</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>length,<sp/>Vector3<sp/>pos)</highlight></codeline>
<codeline lineno="338"><highlight class="normal">{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ODE<sp/>Cylinders<sp/>are<sp/>aligned<sp/>along<sp/>the<sp/>Z-axis<sp/>by<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateCylinder(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>radius,<sp/>length);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetPosition(geom,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" kindref="member">cylinderTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>2)];</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f);</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/>gi);</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geom;</highlight></codeline>
<codeline lineno="348"><highlight class="normal">}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="350"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="351"><highlight class="comment"><sp/>*<sp/>Create<sp/>a<sp/>box<sp/>geom</highlight></codeline>
<codeline lineno="352"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="353"><highlight class="comment"><sp/>*<sp/>This<sp/>creates<sp/>just<sp/>the<sp/>geometry,<sp/>useful<sp/>for<sp/>building<sp/>composite<sp/>shapes</highlight></codeline>
<codeline lineno="354"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="355"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="356"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="357"><highlight class="comment"><sp/>*<sp/>@param<sp/>size<sp/>the<sp/>size<sp/>of<sp/>the<sp/>sphere</highlight></codeline>
<codeline lineno="358"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>where<sp/>you<sp/>want<sp/>the<sp/>geom<sp/>positioned</highlight></codeline>
<codeline lineno="359"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="360"><highlight class="comment"><sp/>*<sp/>@note<sp/>if<sp/>you<sp/>want<sp/>to<sp/>use<sp/>this<sp/>as<sp/>a<sp/>static<sp/>collider<sp/>in<sp/>the<sp/>world<sp/>you<sp/>will</highlight></codeline>
<codeline lineno="361"><highlight class="comment"><sp/>*<sp/>need<sp/>to<sp/>add<sp/>it<sp/>to<sp/>the<sp/>world<sp/>and<sp/>the<sp/>physics<sp/>context<sp/>statics<sp/>list</highlight></codeline>
<codeline lineno="362"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="363"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364" refid="raylibODE_8c_1a37e31d3074a98d5f5a40096dc9b342f7" refkind="member"><highlight class="normal">dGeomID<sp/><ref refid="raylibODE_8c_1a37e31d3074a98d5f5a40096dc9b342f7" kindref="member">CreateBoxGeom</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/>Vector3<sp/>size,<sp/>Vector3<sp/>pos)</highlight></codeline>
<codeline lineno="365"><highlight class="normal">{</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateBox(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>size.x,<sp/>size.y,<sp/>size.z);</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetPosition(geom,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1acef5b7178754c6babfd8e4745f7b3612" kindref="member">boxTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>2)];</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f);</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/>gi);</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geom;</highlight></codeline>
<codeline lineno="374"><highlight class="normal">}</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight><highlight class="comment">//<sp/>---<sp/>BOX<sp/>---</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="378"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="379"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Add<sp/>a<sp/>box-shaped<sp/>physics<sp/>body<sp/>to<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="380"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="381"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>new<sp/>dynamic<sp/>box<sp/>in<sp/>the<sp/>physics<sp/>simulation<sp/>with<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="382"><highlight class="comment"><sp/>*<sp/>dimensions,<sp/>position,<sp/>rotation,<sp/>and<sp/>mass.<sp/>The<sp/>box<sp/>is<sp/>automatically</highlight></codeline>
<codeline lineno="383"><highlight class="comment"><sp/>*<sp/>added<sp/>to<sp/>the<sp/>rendering<sp/>list<sp/>and<sp/>collision<sp/>detection<sp/>system.</highlight></codeline>
<codeline lineno="384"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="385"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="386"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context<sp/>for<sp/>texture<sp/>assignment</highlight></codeline>
<codeline lineno="387"><highlight class="comment"><sp/>*<sp/>@param<sp/>size<sp/>Dimensions<sp/>of<sp/>the<sp/>box<sp/>(width,<sp/>height,<sp/>depth)</highlight></codeline>
<codeline lineno="388"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>Initial<sp/>position<sp/>of<sp/>the<sp/>box<sp/>center</highlight></codeline>
<codeline lineno="389"><highlight class="comment"><sp/>*<sp/>@param<sp/>rot<sp/>Initial<sp/>rotation<sp/>(Euler<sp/>angles:<sp/>pitch,<sp/>yaw,<sp/>roll)</highlight></codeline>
<codeline lineno="390"><highlight class="comment"><sp/>*<sp/>@param<sp/>mass<sp/>Mass<sp/>of<sp/>the<sp/>box<sp/>(0<sp/>for<sp/>static<sp/>object)</highlight></codeline>
<codeline lineno="391"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="392"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="393"><highlight class="comment"><sp/>*<sp/>@note<sp/>Box<sp/>is<sp/>assigned<sp/>a<sp/>random<sp/>texture<sp/>from<sp/>the<sp/>available<sp/>box<sp/>textures</highlight></codeline>
<codeline lineno="394"><highlight class="comment"><sp/>*<sp/>@see<sp/>entity</highlight></codeline>
<codeline lineno="395"><highlight class="comment"><sp/>*<sp/>@see<sp/>PhysicsContext</highlight></codeline>
<codeline lineno="396"><highlight class="comment"><sp/>*<sp/>@see<sp/>GraphicsContext</highlight></codeline>
<codeline lineno="397"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398" refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" kindref="member">CreateBox</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/>Vector3<sp/>size,<sp/>Vector3<sp/>pos,<sp/>Vector3<sp/>rot,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mass)</highlight></codeline>
<codeline lineno="399"><highlight class="normal">{</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent<sp/>=<sp/><ref refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" kindref="member">CreateBaseEntity</ref>(ctx);</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>dMass<sp/>m;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateBox(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>size.x,<sp/>size.y,<sp/>size.z);</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>dMassSetBox(&amp;m,<sp/>mass,<sp/>size.x,<sp/>size.y,<sp/>size.z);</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetPosition(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>rot.x,<sp/>rot.y,<sp/>rot.z);</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetRotation(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>R);</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(geom,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetMass(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>&amp;m);</highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1acef5b7178754c6babfd8e4745f7b3612" kindref="member">boxTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>2)];</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ent;</highlight></codeline>
<codeline lineno="418"><highlight class="normal">}</highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight><highlight class="comment">//<sp/>---<sp/>SPHERE<sp/>---</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="422"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="423"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Add<sp/>a<sp/>sphere-shaped<sp/>physics<sp/>body<sp/>to<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="424"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="425"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>new<sp/>dynamic<sp/>sphere<sp/>in<sp/>the<sp/>physics<sp/>simulation<sp/>with<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="426"><highlight class="comment"><sp/>*<sp/>radius,<sp/>position,<sp/>rotation,<sp/>and<sp/>mass.<sp/>Spheres<sp/>are<sp/>efficient<sp/>for<sp/>collision</highlight></codeline>
<codeline lineno="427"><highlight class="comment"><sp/>*<sp/>detection<sp/>and<sp/>are<sp/>commonly<sp/>used<sp/>for<sp/>balls<sp/>and<sp/>round<sp/>objects.</highlight></codeline>
<codeline lineno="428"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="429"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="430"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context<sp/>for<sp/>texture<sp/>assignment</highlight></codeline>
<codeline lineno="431"><highlight class="comment"><sp/>*<sp/>@param<sp/>radius<sp/>Radius<sp/>of<sp/>the<sp/>sphere</highlight></codeline>
<codeline lineno="432"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>Initial<sp/>position<sp/>of<sp/>the<sp/>sphere<sp/>center</highlight></codeline>
<codeline lineno="433"><highlight class="comment"><sp/>*<sp/>@param<sp/>rot<sp/>Initial<sp/>rotation<sp/>(Euler<sp/>angles)</highlight></codeline>
<codeline lineno="434"><highlight class="comment"><sp/>*<sp/>@param<sp/>mass<sp/>Mass<sp/>of<sp/>the<sp/>sphere<sp/>(0<sp/>for<sp/>static<sp/>object)</highlight></codeline>
<codeline lineno="435"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="436"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="437"><highlight class="comment"><sp/>*<sp/>@note<sp/>Sphere<sp/>is<sp/>assigned<sp/>a<sp/>random<sp/>texture<sp/>from<sp/>the<sp/>available<sp/>sphere<sp/>textures</highlight></codeline>
<codeline lineno="438"><highlight class="comment"><sp/>*<sp/>@see<sp/>entity</highlight></codeline>
<codeline lineno="439"><highlight class="comment"><sp/>*<sp/>@see<sp/>PhysicsContext</highlight></codeline>
<codeline lineno="440"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441" refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" kindref="member">CreateSphere</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius,<sp/>Vector3<sp/>pos,<sp/>Vector3<sp/>rot,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mass)</highlight></codeline>
<codeline lineno="442"><highlight class="normal">{</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent<sp/>=<sp/><ref refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" kindref="member">CreateBaseEntity</ref>(ctx);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>dMass<sp/>m;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateSphere(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>radius);</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>dMassSetSphere(&amp;m,<sp/>mass,<sp/>radius);</highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetPosition(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>rot.x,<sp/>rot.y,<sp/>rot.z);</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetRotation(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>R);</highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(geom,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetMass(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>&amp;m);</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1a0f22083c4b2ff44151d92d717137a8c4" kindref="member">sphereTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>3)];</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ent;</highlight></codeline>
<codeline lineno="461"><highlight class="normal">}</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight><highlight class="comment">//<sp/>---<sp/>CYLINDER<sp/>---</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="465"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="466"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Add<sp/>a<sp/>cylinder-shaped<sp/>physics<sp/>body<sp/>to<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="467"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="468"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>new<sp/>dynamic<sp/>cylinder<sp/>in<sp/>the<sp/>physics<sp/>simulation<sp/>with<sp/>the<sp/>specified</highlight></codeline>
<codeline lineno="469"><highlight class="comment"><sp/>*<sp/>radius,<sp/>length,<sp/>position,<sp/>rotation,<sp/>and<sp/>mass.<sp/>ODE<sp/>cylinders<sp/>are<sp/>aligned</highlight></codeline>
<codeline lineno="470"><highlight class="comment"><sp/>*<sp/>along<sp/>the<sp/>Z-axis<sp/>by<sp/>default.</highlight></codeline>
<codeline lineno="471"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="472"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="473"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context<sp/>for<sp/>texture<sp/>assignment</highlight></codeline>
<codeline lineno="474"><highlight class="comment"><sp/>*<sp/>@param<sp/>radius<sp/>Radius<sp/>of<sp/>the<sp/>cylinder</highlight></codeline>
<codeline lineno="475"><highlight class="comment"><sp/>*<sp/>@param<sp/>length<sp/>Length<sp/>of<sp/>the<sp/>cylinder<sp/>(along<sp/>Z-axis)</highlight></codeline>
<codeline lineno="476"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>Initial<sp/>position<sp/>of<sp/>the<sp/>cylinder<sp/>center</highlight></codeline>
<codeline lineno="477"><highlight class="comment"><sp/>*<sp/>@param<sp/>rot<sp/>Initial<sp/>rotation<sp/>(Euler<sp/>angles)</highlight></codeline>
<codeline lineno="478"><highlight class="comment"><sp/>*<sp/>@param<sp/>mass<sp/>Mass<sp/>of<sp/>the<sp/>cylinder<sp/>(0<sp/>for<sp/>static<sp/>object)</highlight></codeline>
<codeline lineno="479"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="480"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="481"><highlight class="comment"><sp/>*<sp/>@note<sp/>Cylinder<sp/>is<sp/>aligned<sp/>along<sp/>Z-axis<sp/>as<sp/>per<sp/>ODE<sp/>convention</highlight></codeline>
<codeline lineno="482"><highlight class="comment"><sp/>*<sp/>@note<sp/>Cylinder<sp/>is<sp/>assigned<sp/>a<sp/>random<sp/>texture<sp/>from<sp/>the<sp/>available<sp/>cylinder<sp/>textures</highlight></codeline>
<codeline lineno="483"><highlight class="comment"><sp/>*<sp/>@see<sp/>entity</highlight></codeline>
<codeline lineno="484"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485" refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" kindref="member">CreateCylinder</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>length,<sp/>Vector3<sp/>pos,<sp/>Vector3<sp/>rot,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mass)<sp/></highlight></codeline>
<codeline lineno="486"><highlight class="normal">{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent<sp/>=<sp/><ref refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" kindref="member">CreateBaseEntity</ref>(ctx);</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>dMass<sp/>m;</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ODE<sp/>Cylinders<sp/>are<sp/>aligned<sp/>along<sp/>the<sp/>Z-axis<sp/>by<sp/>default</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateCylinder(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>radius,<sp/>length);</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/>dMassSetCylinder(&amp;m,<sp/>mass,<sp/>3,<sp/>radius,<sp/>length);<sp/></highlight><highlight class="comment">//<sp/>3<sp/>=<sp/>Z-axis<sp/>orientation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetPosition(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>rot.x,<sp/>rot.y,<sp/>rot.z);</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetRotation(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>R);</highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(geom,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetMass(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>&amp;m);</highlight></codeline>
<codeline lineno="501"><highlight class="normal"></highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" kindref="member">cylinderTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>2)];</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ent;</highlight></codeline>
<codeline lineno="506"><highlight class="normal">}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight><highlight class="comment">//<sp/>---<sp/>CAPSULE<sp/>---</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="510"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="511"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Add<sp/>a<sp/>capsule-shaped<sp/>physics<sp/>body<sp/>to<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="512"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="513"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>new<sp/>dynamic<sp/>capsule<sp/>in<sp/>the<sp/>physics<sp/>simulation.<sp/>Capsules<sp/>are</highlight></codeline>
<codeline lineno="514"><highlight class="comment"><sp/>*<sp/>useful<sp/>for<sp/>character<sp/>controllers<sp/>and<sp/>objects<sp/>that<sp/>need<sp/>smooth</highlight></codeline>
<codeline lineno="515"><highlight class="comment"><sp/>*<sp/>collision<sp/>with<sp/>the<sp/>ground.</highlight></codeline>
<codeline lineno="516"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="517"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="518"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context<sp/>for<sp/>texture<sp/>assignment</highlight></codeline>
<codeline lineno="519"><highlight class="comment"><sp/>*<sp/>@param<sp/>radius<sp/>Radius<sp/>of<sp/>the<sp/>capsule<sp/>caps</highlight></codeline>
<codeline lineno="520"><highlight class="comment"><sp/>*<sp/>@param<sp/>length<sp/>Length<sp/>of<sp/>the<sp/>cylindrical<sp/>portion</highlight></codeline>
<codeline lineno="521"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>Initial<sp/>position<sp/>of<sp/>the<sp/>capsule<sp/>center</highlight></codeline>
<codeline lineno="522"><highlight class="comment"><sp/>*<sp/>@param<sp/>rot<sp/>Initial<sp/>rotation<sp/>(Euler<sp/>angles)</highlight></codeline>
<codeline lineno="523"><highlight class="comment"><sp/>*<sp/>@param<sp/>mass<sp/>Mass<sp/>of<sp/>the<sp/>capsule<sp/>(0<sp/>for<sp/>static<sp/>object)</highlight></codeline>
<codeline lineno="524"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="525"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="526"><highlight class="comment"><sp/>*<sp/>@note<sp/>Capsule<sp/>combines<sp/>a<sp/>cylinder<sp/>with<sp/>two<sp/>hemispherical<sp/>ends</highlight></codeline>
<codeline lineno="527"><highlight class="comment"><sp/>*<sp/>@see<sp/>entity</highlight></codeline>
<codeline lineno="528"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529" refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" kindref="member">CreateCapsule</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>length,<sp/>Vector3<sp/>pos,<sp/>Vector3<sp/>rot,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mass)<sp/>{</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent<sp/>=<sp/><ref refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" kindref="member">CreateBaseEntity</ref>(ctx);</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/>dMass<sp/>m;</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateCapsule(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>radius,<sp/>length);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>dMassSetCapsule(&amp;m,<sp/>mass,<sp/>3,<sp/>radius,<sp/>length);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetPosition(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>rot.x,<sp/>rot.y,<sp/>rot.z);</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetRotation(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>R);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(geom,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetMass(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>&amp;m);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" kindref="member">cylinderTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>2)];</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ent;</highlight></codeline>
<codeline lineno="548"><highlight class="normal">}</highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight><highlight class="comment">//<sp/>---<sp/>DUMBBELL<sp/>(Composite)<sp/>---</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight><highlight class="comment">//<sp/>possibly<sp/>not<sp/>that<sp/>useful<sp/>but<sp/>shows<sp/>how<sp/>to<sp/>create<sp/>your<sp/>own<sp/>shapes<sp/>to<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight><highlight class="comment">//<sp/>more<sp/>complex<sp/>visual<sp/>meshes<sp/>to<sp/>enable<sp/>fast<sp/>collision.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="554"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="555"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Add<sp/>a<sp/>dumbbell-shaped<sp/>composite<sp/>physics<sp/>body</highlight></codeline>
<codeline lineno="556"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="557"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>composite<sp/>physics<sp/>body<sp/>consisting<sp/>of<sp/>a<sp/>cylindrical<sp/>shaft</highlight></codeline>
<codeline lineno="558"><highlight class="comment"><sp/>*<sp/>with<sp/>two<sp/>spherical<sp/>ends.<sp/>This<sp/>demonstrates<sp/>how<sp/>to<sp/>create<sp/>custom</highlight></codeline>
<codeline lineno="559"><highlight class="comment"><sp/>*<sp/>composite<sp/>shapes<sp/>by<sp/>combining<sp/>multiple<sp/>geometries.</highlight></codeline>
<codeline lineno="560"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="561"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="562"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context<sp/>for<sp/>texture<sp/>assignment</highlight></codeline>
<codeline lineno="563"><highlight class="comment"><sp/>*<sp/>@param<sp/>shaftRad<sp/>Radius<sp/>of<sp/>the<sp/>cylindrical<sp/>shaft</highlight></codeline>
<codeline lineno="564"><highlight class="comment"><sp/>*<sp/>@param<sp/>shaftLen<sp/>Length<sp/>of<sp/>the<sp/>cylindrical<sp/>shaft</highlight></codeline>
<codeline lineno="565"><highlight class="comment"><sp/>*<sp/>@param<sp/>endRad<sp/>Radius<sp/>of<sp/>the<sp/>end<sp/>spheres</highlight></codeline>
<codeline lineno="566"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>Initial<sp/>position<sp/>of<sp/>the<sp/>dumbbell<sp/>center</highlight></codeline>
<codeline lineno="567"><highlight class="comment"><sp/>*<sp/>@param<sp/>rot<sp/>Initial<sp/>rotation<sp/>(Euler<sp/>angles)</highlight></codeline>
<codeline lineno="568"><highlight class="comment"><sp/>*<sp/>@param<sp/>mass<sp/>Total<sp/>mass<sp/>of<sp/>the<sp/>dumbbell</highlight></codeline>
<codeline lineno="569"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="570"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="571"><highlight class="comment"><sp/>*<sp/>@note<sp/>This<sp/>is<sp/>an<sp/>example<sp/>of<sp/>creating<sp/>composite<sp/>shapes</highlight></codeline>
<codeline lineno="572"><highlight class="comment"><sp/>*<sp/>@note<sp/>Mass<sp/>is<sp/>distributed:<sp/>50%<sp/>shaft,<sp/>25%<sp/>each<sp/>end</highlight></codeline>
<codeline lineno="573"><highlight class="comment"><sp/>*<sp/>@see<sp/>entity</highlight></codeline>
<codeline lineno="574"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575" refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" kindref="member">CreateDumbbell</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>shaftRad,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>shaftLen,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>endRad,<sp/>Vector3<sp/>pos,<sp/>Vector3<sp/>rot,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mass)<sp/>{</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent<sp/>=<sp/><ref refid="raylibODE_8c_1a9a4fddcfd406e6bfb1987111e4ad64f1" kindref="member">CreateBaseEntity</ref>(ctx);</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/>dMass<sp/>m,<sp/>mTotal,<sp/>mSphere;</highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>1.<sp/>Shaft<sp/>(Cylinder)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>gShaft<sp/>=<sp/>dCreateCylinder(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>shaftRad,<sp/>shaftLen);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>dMassSetCylinder(&amp;mTotal,<sp/>mass<sp/>*<sp/>0.5f,<sp/>3,<sp/>shaftRad,<sp/>shaftLen);</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(gShaft,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>2.<sp/>Ends<sp/>(Spheres)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>offset<sp/>=<sp/>shaftLen<sp/>/<sp/>2.0f;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>gEnd1<sp/>=<sp/>dCreateSphere(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>endRad);</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>gEnd2<sp/>=<sp/>dCreateSphere(ctx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>endRad);</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(gEnd1,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetBody(gEnd2,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetOffsetPosition(gEnd1,<sp/>0,<sp/>0,<sp/>offset);</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetOffsetPosition(gEnd2,<sp/>0,<sp/>0,<sp/>-offset);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Combine<sp/>Masses</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/>dMassSetSphere(&amp;mSphere,<sp/>mass<sp/>*<sp/>0.25f,<sp/>endRad);</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/>m<sp/>=<sp/>mSphere;<sp/>dMassTranslate(&amp;m,<sp/>0,<sp/>0,<sp/>offset);<sp/>dMassAdd(&amp;mTotal,<sp/>&amp;m);</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/>m<sp/>=<sp/>mSphere;<sp/>dMassTranslate(&amp;m,<sp/>0,<sp/>0,<sp/>-offset);<sp/>dMassAdd(&amp;mTotal,<sp/>&amp;m);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetMass(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>&amp;mTotal);</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetPosition(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>pos.x,<sp/>pos.y,<sp/>pos.z);</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>rot.x,<sp/>rot.y,<sp/>rot.z);</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetRotation(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>R);</highlight></codeline>
<codeline lineno="603"><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/>Texture*<sp/>tex<sp/>=<sp/>&amp;gfxCtx-&gt;<ref refid="structGraphicsContext_1a5e593f3ae02930886863f6b381db3a71" kindref="member">cylinderTextures</ref>[(int)<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>2)];</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(gShaft,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(gEnd1,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(gEnd2,<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>1.0f,<sp/>1.0f));</highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ent;</highlight></codeline>
<codeline lineno="610"><highlight class="normal">}</highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="612"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="613"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Add<sp/>a<sp/>random<sp/>physics<sp/>object<sp/>at<sp/>the<sp/>specified<sp/>position</highlight></codeline>
<codeline lineno="614"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="615"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>random<sp/>physics<sp/>body<sp/>(box,<sp/>sphere,<sp/>cylinder,<sp/>capsule,<sp/>or<sp/>dumbbell)</highlight></codeline>
<codeline lineno="616"><highlight class="comment"><sp/>*<sp/>at<sp/>the<sp/>given<sp/>position.<sp/>Useful<sp/>for<sp/>testing<sp/>and<sp/>creating<sp/>dynamic<sp/>scenes</highlight></codeline>
<codeline lineno="617"><highlight class="comment"><sp/>*<sp/>without<sp/>manually<sp/>specifying<sp/>each<sp/>object.</highlight></codeline>
<codeline lineno="618"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="619"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="620"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="621"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>Position<sp/>where<sp/>the<sp/>random<sp/>object<sp/>should<sp/>be<sp/>created</highlight></codeline>
<codeline lineno="622"><highlight class="comment"><sp/>*<sp/>@param<sp/>mask<sp/>which<sp/>shapes<sp/>to<sp/>choose<sp/>from<sp/>SHAPE_ALL<sp/>for<sp/>all<sp/>of<sp/>them<sp/>SHAPE<sp/>&amp;<sp/>~SHAPE_CAPSULE<sp/>for<sp/>all<sp/>but<sp/>capsule<sp/>etc</highlight></codeline>
<codeline lineno="623"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>newly<sp/>created<sp/>entity</highlight></codeline>
<codeline lineno="624"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="625"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="626"><highlight class="comment"><sp/>*<sp/>@note<sp/>Distribution:<sp/>20%<sp/>boxes,<sp/>20%<sp/>spheres,<sp/>20%<sp/>cylinders,<sp/>20%<sp/>capsules,<sp/>20%<sp/>dumbbells</highlight></codeline>
<codeline lineno="627"><highlight class="comment"><sp/>*<sp/>@note<sp/>Mass<sp/>is<sp/>fixed<sp/>at<sp/>10.0f<sp/>for<sp/>all<sp/>random<sp/>objects</highlight></codeline>
<codeline lineno="628"><highlight class="comment"><sp/>*<sp/>@note<sp/>Each<sp/>type<sp/>has<sp/>randomized<sp/>dimensions<sp/>within<sp/>reasonable<sp/>ranges</highlight></codeline>
<codeline lineno="629"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="630" refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1ae7890e5cf20ab8875b9d08bf80d9d018" kindref="member">CreateRandomEntity</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>ctx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/>Vector3<sp/>pos,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>mask)</highlight></codeline>
<codeline lineno="631"><highlight class="normal">{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>typ;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>c<sp/>=<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>1);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c<sp/>&lt;<sp/>0.20)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>typ<sp/>=<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391bacd064d47d06a6cf0cb539ae3335d26b5" kindref="member">SHAPE_BOX</ref>;</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c<sp/>&lt;<sp/>0.40)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Sphere</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>typ<sp/>=<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391bac7a9839306104e6733f1adc2bb66274b" kindref="member">SHAPE_SPHERE</ref>;</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c<sp/>&lt;<sp/>0.60)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Cylinder</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>typ<sp/>=<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391ba62eea2af0cd8bf0530c0799ce72b93cf" kindref="member">SHAPE_CYLINDER</ref>;</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c<sp/>&lt;<sp/>0.80)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Capsule</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>typ<sp/>=<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391badccfd8c5874464bfd348e8cd8d7bd879" kindref="member">SHAPE_CAPSULE</ref>;</highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Dumbbell</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>typ<sp/>=<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391ba31cc776a8f4dc3f70df15d1417f75ccc" kindref="member">SHAPE_DUMBBELL</ref>;</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mask<sp/>&amp;<sp/>typ)<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector3<sp/>rot<sp/>=<sp/>(Vector3){<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>6.28),<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>6.28),<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0,<sp/>6.28)};</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>mass<sp/>=<sp/>10.0f;</highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(typ<sp/>==<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391bacd064d47d06a6cf0cb539ae3335d26b5" kindref="member">SHAPE_BOX</ref>)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>s<sp/>=<sp/>(Vector3){<ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.25,<sp/>.5),<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.25,<sp/>.5),<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.25,<sp/>.5)};</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" kindref="member">CreateBox</ref>(ctx,<sp/>gfxCtx,<sp/>s,<sp/>pos,<sp/>rot,<sp/>mass);</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(typ<sp/>==<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391bac7a9839306104e6733f1adc2bb66274b" kindref="member">SHAPE_SPHERE</ref>)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Sphere</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1ad03521efcc05b3315d24f47d0eed52a6" kindref="member">CreateSphere</ref>(ctx,<sp/>gfxCtx,<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.25,<sp/>.4),<sp/>pos,<sp/>rot,<sp/>mass);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(typ<sp/>==<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391ba62eea2af0cd8bf0530c0799ce72b93cf" kindref="member">SHAPE_CYLINDER</ref>)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Cylinder</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a6985c096003040ae46ed46b117f01d69" kindref="member">CreateCylinder</ref>(ctx,<sp/>gfxCtx,<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.125,<sp/>.5),<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.4,<sp/>1),<sp/>pos,<sp/>rot,<sp/>mass);</highlight></codeline>
<codeline lineno="661"><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(typ<sp/>==<sp/><ref refid="raylibODE_8h_1a733713fb5a6f60fae1f1fe872b3e391badccfd8c5874464bfd348e8cd8d7bd879" kindref="member">SHAPE_CAPSULE</ref>)<sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Capsule</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1adec02d5fa7b8838d8f98956b68e2246c" kindref="member">CreateCapsule</ref>(ctx,<sp/>gfxCtx,<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.125,<sp/>.3),<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.4,<sp/>1),<sp/>pos,<sp/>rot,<sp/>mass);</highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{<sp/><sp/></highlight><highlight class="comment">//<sp/>Dumbbell</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sRad<sp/>=<sp/>0.1f;</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sLen<sp/>=<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(.8,<sp/>1.2);</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>eRad<sp/>=<sp/><ref refid="raylibODE_8c_1a4a4933f37c736fd2d311be9eaf9b7fa8" kindref="member">rndf</ref>(0.1,<sp/>0.2)<sp/>+<sp/>sRad;</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a04c854eee30cf8430f2d978c4259459b" kindref="member">CreateDumbbell</ref>(ctx,<sp/>gfxCtx,<sp/>sRad,<sp/>sLen,<sp/>eRad,<sp/>pos,<sp/>rot,<sp/>mass);</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="671"><highlight class="normal">}</highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="673"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="674"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Create<sp/>a<sp/>static<sp/>trimesh<sp/>collision<sp/>geometry<sp/>from<sp/>a<sp/>model</highlight></codeline>
<codeline lineno="675"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="676"><highlight class="comment"><sp/>*<sp/>Creates<sp/>a<sp/>static<sp/>trimesh<sp/>(triangle<sp/>mesh)<sp/>collision<sp/>geometry<sp/>from<sp/>a<sp/>RayLib</highlight></codeline>
<codeline lineno="677"><highlight class="comment"><sp/>*<sp/>model.<sp/>This<sp/>allows<sp/>arbitrary<sp/>3D<sp/>models<sp/>to<sp/>be<sp/>used<sp/>as<sp/>static<sp/>collision</highlight></codeline>
<codeline lineno="678"><highlight class="comment"><sp/>*<sp/>objects<sp/>in<sp/>the<sp/>physics<sp/>simulation.<sp/>The<sp/>mesh<sp/>is<sp/>optimized<sp/>for<sp/>collision</highlight></codeline>
<codeline lineno="679"><highlight class="comment"><sp/>*<sp/>detection<sp/>but<sp/>does<sp/>not<sp/>move<sp/>or<sp/>respond<sp/>to<sp/>physics.</highlight></codeline>
<codeline lineno="680"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="681"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>Pointer<sp/>to<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="682"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>Pointer<sp/>to<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="683"><highlight class="comment"><sp/>*<sp/>@param<sp/>model<sp/>RayLib<sp/>model<sp/>to<sp/>create<sp/>collision<sp/>geometry<sp/>from</highlight></codeline>
<codeline lineno="684"><highlight class="comment"><sp/>*<sp/>@param<sp/>tex<sp/>Optional<sp/>texture<sp/>to<sp/>apply<sp/>to<sp/>the<sp/>mesh<sp/>(can<sp/>be<sp/>NULL)</highlight></codeline>
<codeline lineno="685"><highlight class="comment"><sp/>*<sp/>@param<sp/>uvScale<sp/>UV<sp/>scaling<sp/>factor<sp/>for<sp/>texture<sp/>tiling</highlight></codeline>
<codeline lineno="686"><highlight class="comment"><sp/>*<sp/>@return<sp/>Pointer<sp/>to<sp/>the<sp/>created<sp/>node<sp/>in<sp/>the<sp/>statics<sp/>list</highlight></codeline>
<codeline lineno="687"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="688"><highlight class="comment"><sp/>*<sp/>@note<sp/>The<sp/>mesh<sp/>is<sp/>static<sp/>and<sp/>cannot<sp/>be<sp/>moved<sp/>after<sp/>creation</highlight></codeline>
<codeline lineno="689"><highlight class="comment"><sp/>*<sp/>@note<sp/>Supports<sp/>custom<sp/>textures<sp/>and<sp/>UV<sp/>scaling<sp/>for<sp/>visual<sp/>appearance</highlight></codeline>
<codeline lineno="690"><highlight class="comment"><sp/>*<sp/>@note<sp/>Stores<sp/>model<sp/>data<sp/>for<sp/>rendering<sp/>with<sp/>custom<sp/>shaders</highlight></codeline>
<codeline lineno="691"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="692"><highlight class="comment"><sp/>*<sp/>@see<sp/>GraphicsContext</highlight></codeline>
<codeline lineno="693"><highlight class="comment"><sp/>*<sp/>@see<sp/>Model</highlight></codeline>
<codeline lineno="694"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695" refid="raylibODE_8c_1ae8b06665a78b486c57e6795da4b3e265" refkind="member"><highlight class="normal"><ref refid="clist_8h_1a9957c4c04b6e17b9b8fa99e68b94aa9a" kindref="member">cnode_t</ref>*<sp/><ref refid="raylibODE_8c_1ae8b06665a78b486c57e6795da4b3e265" kindref="member">CreateStaticTrimesh</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/>Model<sp/>model,<sp/>Texture*<sp/>tex,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>uvScale)</highlight></codeline>
<codeline lineno="696"><highlight class="normal">{</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nV<sp/>=<sp/>model.meshes[0].vertexCount;</highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>ODE<sp/>Data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">*<sp/>indices<sp/>=<sp/>RL_MALLOC(nV<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>nV;<sp/>i++)<sp/>indices[i]<sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/>dTriMeshDataID<sp/>triData<sp/>=<sp/>dGeomTriMeshDataCreate();</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomTriMeshDataBuildSingle(triData,<sp/>model.meshes[0].vertices,<sp/>3<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">),<sp/>nV,</highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>indices,<sp/>nV,<sp/>3<sp/>*<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="706"><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dCreateTriMesh(physCtx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>triData,<sp/>NULL,<sp/>NULL,<sp/>NULL);</highlight></codeline>
<codeline lineno="708"><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/>model.materials[0].maps[MATERIAL_MAP_DIFFUSE].texture<sp/>=<sp/>*tex;</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/>model.materials[0].shader<sp/>=<sp/>gfxCtx-&gt;<ref refid="structGraphicsContext_1a2fa19905aad6c696c90a4ba1286c2b70" kindref="member">shader</ref>;</highlight></codeline>
<codeline lineno="711"><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>Metadata</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>tex,<sp/>uvScale,<sp/>uvScale);</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1aac9cece1fdb9d0079901008842994523" kindref="member">visual</ref><sp/>=<sp/>model;<sp/></highlight><highlight class="comment">//<sp/>Stores<sp/>the<sp/>textured/shader-ready<sp/>model</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1abb6babda7d8a31c2ea76ed4654d9b55e" kindref="member">indices</ref><sp/>=<sp/>indices;</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1a0cdf37aab555ef5003f8d3be2b553fa8" kindref="member">triData</ref><sp/>=<sp/>triData;</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetData(geom,<sp/>gi);</highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="clist_8c_1a264922774fdf767e31797fe81f2231be" kindref="member">clistAddNode</ref>(physCtx-&gt;<ref refid="structPhysicsContext_1aa88cec7da4225aa5c1f2bbdabe55b35d" kindref="member">statics</ref>,<sp/>geom);</highlight></codeline>
<codeline lineno="720"><highlight class="normal">}</highlight></codeline>
<codeline lineno="721"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="722"><highlight class="comment">/**<sp/>@brief<sp/>Helper<sp/>to<sp/>allocate<sp/>geomInfo<sp/>with<sp/>collision<sp/>flag,<sp/>optional<sp/>texture,<sp/>and<sp/>UV<sp/>scale</highlight></codeline>
<codeline lineno="723"><highlight class="comment"><sp/>this<sp/>is<sp/>useful<sp/>when<sp/>greating<sp/>your<sp/>own<sp/>custom<sp/>bodies<sp/>for<sp/>special<sp/>purposes</highlight></codeline>
<codeline lineno="724"><highlight class="comment"><sp/>If<sp/>this<sp/>is<sp/>attached<sp/>to<sp/>a<sp/>geom<sp/>on<sp/>a<sp/>body<sp/>that<sp/>is<sp/>in<sp/>the<sp/>global<sp/>entity<sp/>list<sp/>then<sp/>this</highlight></codeline>
<codeline lineno="725"><highlight class="comment"><sp/>allocation<sp/>will<sp/>be<sp/>automagically<sp/>cleaned<sp/>up.</highlight></codeline>
<codeline lineno="726"><highlight class="comment"></highlight></codeline>
<codeline lineno="727"><highlight class="comment"><sp/>@param<sp/>collidable<sp/>should<sp/>this<sp/>geom<sp/>cause<sp/>collisions</highlight></codeline>
<codeline lineno="728"><highlight class="comment"><sp/>@param<sp/>texture<sp/>which<sp/>texture<sp/>to<sp/>use<sp/>for<sp/>the<sp/>geom</highlight></codeline>
<codeline lineno="729"><highlight class="comment"><sp/>@param<sp/>uvScaleU<sp/>texture<sp/>scaling</highlight></codeline>
<codeline lineno="730"><highlight class="comment"><sp/>@param<sp/>uvScaleV<sp/>texture<sp/>scaling</highlight></codeline>
<codeline lineno="731"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="732" refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" refkind="member"><highlight class="normal"><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/><ref refid="raylibODE_8c_1a79db70091e3c86494f485979529984c8" kindref="member">CreateGeomInfo</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>collidable,<sp/>Texture*<sp/>texture,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>uvScaleU,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>uvScaleV)</highlight></codeline>
<codeline lineno="733"><highlight class="normal">{</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/>RL_MALLOC(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structgeomInfo" kindref="compound">geomInfo</ref>));</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(gi,<sp/>0,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structgeomInfo" kindref="compound">geomInfo</ref>));<sp/></highlight><highlight class="comment">//<sp/>ensure<sp/>visual<sp/>for<sp/>example<sp/>is<sp/>clear</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1ad2ac5594ef66f909538bc4af4252d387" kindref="member">collidable</ref><sp/>=<sp/>collidable;</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref><sp/>=<sp/>texture;</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1ab566e6f3debd1b3092ec83aa09e961b9" kindref="member">uvScaleU</ref><sp/>=<sp/>uvScaleU;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1a0670722f17ac3020238ee399bd93f32e" kindref="member">uvScaleV</ref><sp/>=<sp/>uvScaleV;</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1a97039a3fbf7a1f1c905762a6f4adb0c3" kindref="member">hew</ref><sp/>=<sp/>WHITE;</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1a8e530854793906e8d625e058ac7b616c" kindref="member">surface</ref><sp/>=<sp/>&amp;<ref refid="surface_8c_1aa26755a73be46b483bf7098bcbf679dd" kindref="member">gSurfaces</ref>[<ref refid="surface_8h_1a24dfdcf13ae4e2b7985a3868a1b5169fa51e788aafe32eaa17dbd2f8c91312ebe" kindref="member">SURFACE_WOOD</ref>];</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>gi;</highlight></codeline>
<codeline lineno="744"><highlight class="normal">}</highlight></codeline>
<codeline lineno="745"><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Callback<sp/>for<sp/>ODE<sp/>to<sp/>test<sp/>ray<sp/>against<sp/>other<sp/>geoms</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>rayCallback(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>data,<sp/>dGeomID<sp/>o1,<sp/>dGeomID<sp/>o2)<sp/>{</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structRayHit" kindref="compound">RayHit</ref>*<sp/>hit<sp/>=<sp/>(<ref refid="structRayHit" kindref="compound">RayHit</ref>*)data;</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/>dContact<sp/>contact;</highlight></codeline>
<codeline lineno="751"><highlight class="normal"></highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>only<sp/>care<sp/>about<sp/>collisions<sp/>involving<sp/>the<sp/>ray<sp/>(o1)<sp/>and<sp/>something<sp/>else<sp/>(o2)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>o2<sp/>must<sp/>not<sp/>be<sp/>another<sp/>ray<sp/>or<sp/>a<sp/>plane<sp/>if<sp/>you<sp/>want<sp/>to<sp/>pick<sp/>objects<sp/>only</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(dCollide(o1,<sp/>o2,<sp/>1,<sp/>&amp;contact.geom,<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(dContact))<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(contact.geom.depth<sp/>&lt;<sp/>hit-&gt;<ref refid="structRayHit_1adbc494bc1bad81d80a620b42d71f29b4" kindref="member">depth</ref>)<sp/>{</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hit-&gt;<ref refid="structRayHit_1adbc494bc1bad81d80a620b42d71f29b4" kindref="member">depth</ref><sp/>=<sp/>contact.geom.depth;</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hit-&gt;<ref refid="structRayHit_1a86f485fd67387a8c18d90b717d891015" kindref="member">geom</ref><sp/>=<sp/>o2;</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hit-&gt;<ref refid="structRayHit_1adcef8883ac52e6d421436e08b1b6201e" kindref="member">pos</ref><sp/>=<sp/>(Vector3){contact.geom.pos[0],<sp/>contact.geom.pos[1],<sp/>contact.geom.pos[2]};</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="761"><highlight class="normal">}</highlight></codeline>
<codeline lineno="762"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="763"><highlight class="comment">/**<sp/>@brief<sp/>this<sp/>will<sp/>return<sp/>the<sp/>first<sp/>entity<sp/>that<sp/>the<sp/>camera<sp/>is<sp/>directly<sp/>pointed<sp/>at</highlight></codeline>
<codeline lineno="764"><highlight class="comment"><sp/>*<sp/>while<sp/>useful<sp/>in<sp/>the<sp/>examples<sp/>and<sp/>likely<sp/>for<sp/>other<sp/>things,<sp/>it<sp/>also<sp/>serves<sp/>as<sp/>an<sp/>example</highlight></codeline>
<codeline lineno="765"><highlight class="comment"><sp/>*<sp/>of<sp/>how<sp/>you<sp/>can<sp/>do<sp/>this<sp/>yourself<sp/>for<sp/>other<sp/>things</highlight></codeline>
<codeline lineno="766"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="767"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>the<sp/>physics<sp/>context<sp/>(global<sp/>physics<sp/>info)</highlight></codeline>
<codeline lineno="768"><highlight class="comment"><sp/>*<sp/>@param<sp/>gfxCtx<sp/>the<sp/>graphics<sp/>context<sp/>(global<sp/>info<sp/>usful<sp/>for<sp/>graphics)</highlight></codeline>
<codeline lineno="769"><highlight class="comment"><sp/>*<sp/>@param<sp/>hitPoint<sp/>pass<sp/>a<sp/>pointer<sp/>to<sp/>a<sp/>Vector3<sp/>this<sp/>will<sp/>be<sp/>set<sp/>with<sp/>the<sp/>location<sp/>of<sp/>the<sp/>intersecton</highlight></codeline>
<codeline lineno="770"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="771"><highlight class="comment"><sp/>*<sp/>@returns<sp/>a<sp/>pointer<sp/>to<sp/>the<sp/>entity<sp/>that<sp/>was<sp/>found.</highlight></codeline>
<codeline lineno="772"><highlight class="comment"></highlight></codeline>
<codeline lineno="773"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774" refid="raylibODE_8c_1a6038bcb143e6ca12696aa65bf164f488" refkind="member"><highlight class="normal"><ref refid="structentity" kindref="compound">entity</ref>*<sp/><ref refid="raylibODE_8c_1a6038bcb143e6ca12696aa65bf164f488" kindref="member">PickEntity</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>gfxCtx,<sp/>Vector3*<sp/>hitPoint)<sp/>{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector2<sp/>screenCenter<sp/>=<sp/>{<sp/>GetScreenWidth()<sp/>/<sp/>2.0f,<sp/>GetScreenHeight()<sp/>/<sp/>2.0f<sp/>};</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/>Ray<sp/>ray<sp/>=<sp/>GetMouseRay(screenCenter,<sp/>gfxCtx-&gt;<ref refid="structGraphicsContext_1a67da4b710a791d954415259ae540976c" kindref="member">camera</ref>);</highlight></codeline>
<codeline lineno="778"><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>a<sp/>temporary<sp/>ODE<sp/>ray</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>rayLength<sp/>=<sp/>1000.0f;</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>odeRay<sp/>=<sp/>dCreateRay(physCtx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>rayLength);</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomRaySet(odeRay,<sp/>ray.position.x,<sp/>ray.position.y,<sp/>ray.position.z,</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ray.direction.x,<sp/>ray.direction.y,<sp/>ray.direction.z);</highlight></codeline>
<codeline lineno="784"><highlight class="normal"></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>hit<sp/>tracking</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structRayHit" kindref="compound">RayHit</ref><sp/>hit<sp/>=<sp/>{<sp/>0<sp/>};</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/>hit.<ref refid="structRayHit_1adbc494bc1bad81d80a620b42d71f29b4" kindref="member">depth</ref><sp/>=<sp/>rayLength;<sp/></highlight><highlight class="comment">//<sp/>Start<sp/>with<sp/>max<sp/>distance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Collide<sp/>the<sp/>ray<sp/>against<sp/>everything<sp/>in<sp/>the<sp/>space</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/>dSpaceCollide2(odeRay,<sp/>(dGeomID)physCtx-&gt;<ref refid="structPhysicsContext_1a2812915a2d632b88d05433459a1f0b7e" kindref="member">space</ref>,<sp/>&amp;hit,<sp/>&amp;rayCallback);</highlight></codeline>
<codeline lineno="791"><highlight class="normal"></highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cleanup<sp/>the<sp/>temporary<sp/>ray</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomDestroy(odeRay);</highlight></codeline>
<codeline lineno="794"><highlight class="normal"></highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hit.<ref refid="structRayHit_1a86f485fd67387a8c18d90b717d891015" kindref="member">geom</ref><sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hitPoint)<sp/>*hitPoint<sp/>=<sp/>hit.<ref refid="structRayHit_1adcef8883ac52e6d421436e08b1b6201e" kindref="member">pos</ref>;</highlight></codeline>
<codeline lineno="797"><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>body<sp/>attached<sp/>to<sp/>the<sp/>geom</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dBodyID<sp/>bdy<sp/>=<sp/>dGeomGetBody(hit.<ref refid="structRayHit_1a86f485fd67387a8c18d90b717d891015" kindref="member">geom</ref>);</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bdy)<sp/>{</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Retrieve<sp/>our<sp/>entity<sp/>pointer<sp/>from<sp/>the<sp/>body<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="structentity" kindref="compound">entity</ref>*)dBodyGetData(bdy);</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="805"><highlight class="normal"></highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="807"><highlight class="normal">}</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="809"><highlight class="comment">/**<sp/>@brief<sp/>given<sp/>a<sp/>body<sp/>it<sp/>will<sp/>remove<sp/>it<sp/>and<sp/>its<sp/>geoms<sp/>from<sp/>ODE&apos;s<sp/>world</highlight></codeline>
<codeline lineno="810"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="811"><highlight class="comment"><sp/>*<sp/>@note<sp/>this<sp/>is<sp/>intended<sp/>to<sp/>be<sp/>an<sp/>internal<sp/>function<sp/>that<sp/>might<sp/>have<sp/>use<sp/>externally</highlight></codeline>
<codeline lineno="812"><highlight class="comment"><sp/>*<sp/>you<sp/>would<sp/>normally<sp/>use<sp/>FreeEntity</highlight></codeline>
<codeline lineno="813"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="814"><highlight class="comment"><sp/>*<sp/>As<sp/>well<sp/>as<sp/>freeing<sp/>all<sp/>associated<sp/>metadata<sp/>it<sp/>will<sp/>also<sp/>remove<sp/>the<sp/>body<sp/>and</highlight></codeline>
<codeline lineno="815"><highlight class="comment"><sp/>*<sp/>its<sp/>geoms<sp/>from<sp/>the<sp/>physics<sp/>world</highlight></codeline>
<codeline lineno="816"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="817"><highlight class="comment"><sp/>*<sp/>@param<sp/>bdy<sp/>the<sp/>dBodyID<sp/>you<sp/>want<sp/>to<sp/>free<sp/>the<sp/>attached<sp/>meta<sp/>data<sp/>for</highlight></codeline>
<codeline lineno="818"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="819"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="820" refid="raylibODE_8c_1a8f1b86adbb51b8bd80405329b31c87d1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a8f1b86adbb51b8bd80405329b31c87d1" kindref="member">FreeBodyAndGeoms</ref>(dBodyID<sp/>bdy)</highlight></codeline>
<codeline lineno="821"><highlight class="normal">{</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dBodyGetFirstGeom(bdy);</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(geom)<sp/>{</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomID<sp/>next<sp/>=<sp/>dBodyGetNextGeom(geom);<sp/></highlight><highlight class="comment">//<sp/>get<sp/>next<sp/>now<sp/>as<sp/>about<sp/>to<sp/>destroy...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/>dGeomGetData(geom);</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gi)<sp/>free(gi);</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomSetBody(geom,<sp/>0);</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomDestroy(geom);</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom<sp/>=<sp/>next;</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodyDestroy(bdy);</highlight></codeline>
<codeline lineno="833"><highlight class="normal">}</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight><highlight class="comment">//<sp/>position<sp/>rotation<sp/>scale<sp/>all<sp/>done<sp/>with<sp/>the<sp/>models<sp/>transform...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"></highlight><highlight class="comment">//<sp/>TODO<sp/>check<sp/>there<sp/>isn&apos;t<sp/>a<sp/>new<sp/>raylib<sp/>function<sp/>that<sp/>does<sp/>this<sp/>now<sp/>_pro<sp/>_ex<sp/>or<sp/>similar!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DrawModelTinted(Model<sp/>model,<sp/>Color<sp/>tint)</highlight></codeline>
<codeline lineno="838"><highlight class="normal">{</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>model.meshCount;<sp/>i++)</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Color<sp/>color<sp/>=<sp/>model.materials[model.meshMaterial[i]].maps[MATERIAL_MAP_DIFFUSE].color;</highlight></codeline>
<codeline lineno="842"><highlight class="normal"></highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Color<sp/>colorTint<sp/>=<sp/>WHITE;</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>colorTint.r<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)((((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)color.r/255.0)*((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)tint.r/255.0))*255.0f);</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>colorTint.g<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)((((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)color.g/255.0)*((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)tint.g/255.0))*255.0f);</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>colorTint.b<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)((((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)color.b/255.0)*((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)tint.b/255.0))*255.0f);</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>colorTint.a<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>char)((((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)color.a/255.0)*((</highlight><highlight class="keywordtype">float</highlight><highlight class="normal">)tint.a/255.0))*255.0f);</highlight></codeline>
<codeline lineno="848"><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.materials[model.meshMaterial[i]].maps[MATERIAL_MAP_DIFFUSE].color<sp/>=<sp/>colorTint;</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawMesh(model.meshes[i],<sp/>model.materials[model.meshMaterial[i]],<sp/>model.transform);</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>model.materials[model.meshMaterial[i]].maps[MATERIAL_MAP_DIFFUSE].color<sp/>=<sp/>color;</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="853"><highlight class="normal">}</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"></highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight><highlight class="comment">//<sp/>these<sp/>two<sp/>just<sp/>convert<sp/>to<sp/>column<sp/>major<sp/>and<sp/>minor</highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="857"><highlight class="comment">/**<sp/>@brief<sp/>set<sp/>an<sp/>ODE<sp/>matrix<sp/>to<sp/>the<sp/>same<sp/>as<sp/>a<sp/>Raylib<sp/>Matrix</highlight></codeline>
<codeline lineno="858"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="859"><highlight class="comment"><sp/>*<sp/>@param<sp/>m<sp/>a<sp/>pointer<sp/>to<sp/>the<sp/>Raylib<sp/>matrix</highlight></codeline>
<codeline lineno="860"><highlight class="comment"><sp/>*<sp/>@param<sp/>R<sp/>a<sp/>pointer<sp/>to<sp/>an<sp/>ODE<sp/>matrix</highlight></codeline>
<codeline lineno="861"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862" refid="raylibODE_8c_1a261ecb0743898782ddf0e56b07f32f2b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a261ecb0743898782ddf0e56b07f32f2b" kindref="member">RayToOdeMat</ref>(Matrix*<sp/>m,<sp/>dReal*<sp/>R)<sp/>{</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/>R[<sp/>0]<sp/>=<sp/>m-&gt;m0;<sp/><sp/><sp/>R[<sp/>1]<sp/>=<sp/>m-&gt;m4;<sp/><sp/><sp/>R[<sp/>2]<sp/>=<sp/>m-&gt;m8;<sp/><sp/><sp/><sp/>R[<sp/>3]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/>R[<sp/>4]<sp/>=<sp/>m-&gt;m1;<sp/><sp/><sp/>R[<sp/>5]<sp/>=<sp/>m-&gt;m5;<sp/><sp/><sp/>R[<sp/>6]<sp/>=<sp/>m-&gt;m9;<sp/><sp/><sp/><sp/>R[<sp/>7]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/>R[<sp/>8]<sp/>=<sp/>m-&gt;m2;<sp/><sp/><sp/>R[<sp/>9]<sp/>=<sp/>m-&gt;m6;<sp/><sp/><sp/>R[10]<sp/>=<sp/>m-&gt;m10;<sp/><sp/><sp/>R[11]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/>R[12]<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>R[13]<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/>R[14]<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>R[15]<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="867"><highlight class="normal">}</highlight></codeline>
<codeline lineno="868"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="869"><highlight class="comment">/**<sp/>@brief<sp/>sets<sp/>a<sp/>raylib<sp/>matrix<sp/>from<sp/>an<sp/>ODE<sp/>rotation<sp/>matrix</highlight></codeline>
<codeline lineno="870"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="871"><highlight class="comment"><sp/>*<sp/>@param<sp/>R<sp/>a<sp/>pointer<sp/>to<sp/>the<sp/>ODE<sp/>matrix</highlight></codeline>
<codeline lineno="872"><highlight class="comment"><sp/>*<sp/>@param<sp/>m<sp/>a<sp/>pointer<sp/>to<sp/>a<sp/>Raylib<sp/>Matrix</highlight></codeline>
<codeline lineno="873"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="874" refid="raylibODE_8c_1aeaef389f404abef038f38518fc1a0421" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1aeaef389f404abef038f38518fc1a0421" kindref="member">OdeToRayMat</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dReal*<sp/>R,<sp/>Matrix*<sp/>m)</highlight></codeline>
<codeline lineno="875"><highlight class="normal">{</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/>m-&gt;m0<sp/>=<sp/>R[0];<sp/><sp/>m-&gt;m1<sp/>=<sp/>R[4];<sp/><sp/>m-&gt;m2<sp/>=<sp/>R[8];<sp/><sp/><sp/><sp/><sp/><sp/>m-&gt;m3<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/>m-&gt;m4<sp/>=<sp/>R[1];<sp/><sp/>m-&gt;m5<sp/>=<sp/>R[5];<sp/><sp/>m-&gt;m6<sp/>=<sp/>R[9];<sp/><sp/><sp/><sp/><sp/><sp/>m-&gt;m7<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/>m-&gt;m8<sp/>=<sp/>R[2];<sp/><sp/>m-&gt;m9<sp/>=<sp/>R[6];<sp/><sp/>m-&gt;m10<sp/>=<sp/>R[10];<sp/><sp/><sp/><sp/>m-&gt;m11<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/>m-&gt;m12<sp/>=<sp/>0;<sp/><sp/><sp/><sp/>m-&gt;m13<sp/>=<sp/>0;<sp/><sp/><sp/><sp/>m-&gt;m14<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m-&gt;m15<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="880"><highlight class="normal">}</highlight></codeline>
<codeline lineno="881"><highlight class="normal"></highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight><highlight class="comment">//<sp/>called<sp/>by<sp/>draw<sp/>all<sp/>geoms</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DrawGeom(dGeomID<sp/>geom,<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>ctx)</highlight></codeline>
<codeline lineno="884"><highlight class="normal">{</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/>(<ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*)dGeomGetData(geom);</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!gi)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>Silently<sp/>bail<sp/>if<sp/>no<sp/>metadata</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal"></highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>it&apos;s<sp/>a<sp/>trigger,<sp/>don&apos;t<sp/>render<sp/>anything</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gi-&gt;<ref refid="structgeomInfo_1a520884eb761f24547c835107a37d024c" kindref="member">triggerOnCollide</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>its<sp/>texture<sp/>has<sp/>been<sp/>nulled<sp/>its<sp/>an<sp/>invisible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="893"><highlight class="normal"></highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dReal*<sp/>pos<sp/>=<sp/>dGeomGetPosition(geom);</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dReal*<sp/>rot<sp/>=<sp/>dGeomGetRotation(geom);</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">=<sp/>dGeomGetClass(geom);</highlight></codeline>
<codeline lineno="897"><highlight class="normal"></highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/>Matrix<sp/>matRot;</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="raylibODE_8c_1aeaef389f404abef038f38518fc1a0421" kindref="member">OdeToRayMat</ref>(rot,<sp/>&amp;matRot);</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/>Matrix<sp/>matTran<sp/>=<sp/>MatrixTranslate(pos[0],<sp/>pos[1],<sp/>pos[2]);</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/>Matrix<sp/>matWorld<sp/>=<sp/>MatrixMultiply(matRot,<sp/>matTran);</highlight></codeline>
<codeline lineno="902"><highlight class="normal"></highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/>Color<sp/>c<sp/>=<sp/>gi-&gt;<ref refid="structgeomInfo_1a97039a3fbf7a1f1c905762a6f4adb0c3" kindref="member">hew</ref>;</highlight></codeline>
<codeline lineno="904"><highlight class="normal"></highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Handle<sp/>Texture/Shader<sp/>setup<sp/>once<sp/>per<sp/>geom</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>)<sp/>{</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>cache<sp/>shader<sp/>location</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>uvLoc<sp/>=<sp/>GetShaderLocation(ctx-&gt;<ref refid="structGraphicsContext_1a2fa19905aad6c696c90a4ba1286c2b70" kindref="member">shader</ref>,<sp/></highlight><highlight class="stringliteral">&quot;texCoordScale&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector2<sp/>uvScale<sp/>=<sp/>{<sp/>gi-&gt;<ref refid="structgeomInfo_1ab566e6f3debd1b3092ec83aa09e961b9" kindref="member">uvScaleU</ref>,<sp/>gi-&gt;<ref refid="structgeomInfo_1a0670722f17ac3020238ee399bd93f32e" kindref="member">uvScaleV</ref><sp/>};</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SetShaderValue(ctx-&gt;<ref refid="structGraphicsContext_1a2fa19905aad6c696c90a4ba1286c2b70" kindref="member">shader</ref>,<sp/>uvLoc,<sp/>&amp;uvScale.x,<sp/>SHADER_UNIFORM_VEC2);</highlight></codeline>
<codeline lineno="911"><highlight class="normal"></highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>assign<sp/>the<sp/>texture<sp/>to<sp/>whichever<sp/>models<sp/>might<sp/>be<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dBoxClass)<sp/>ctx-&gt;<ref refid="structGraphicsContext_1a5ff7c73c82a7595e803b07c953ec0693" kindref="member">box</ref>.materials[0].maps[MATERIAL_MAP_DIFFUSE].texture<sp/>=<sp/>*gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>;</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dSphereClass)<sp/>ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>.materials[0].maps[MATERIAL_MAP_DIFFUSE].texture<sp/>=<sp/>*gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>;</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dCylinderClass)<sp/>ctx-&gt;<ref refid="structGraphicsContext_1a06643972947afcd3a8cef634cce65ed8" kindref="member">cylinder</ref>.materials[0].maps[MATERIAL_MAP_DIFFUSE].texture<sp/>=<sp/>*gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>;</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dCapsuleClass)<sp/>{</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1a06643972947afcd3a8cef634cce65ed8" kindref="member">cylinder</ref>.materials[0].maps[MATERIAL_MAP_DIFFUSE].texture<sp/>=<sp/>*gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>;</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>.materials[0].maps[MATERIAL_MAP_DIFFUSE].texture<sp/>=<sp/>*gi-&gt;<ref refid="structgeomInfo_1aa45560155b17f9ab8b46896d89b60b14" kindref="member">texture</ref>;</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="921"><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gi-&gt;<ref refid="structgeomInfo_1aac9cece1fdb9d0079901008842994523" kindref="member">visual</ref>.meshCount)<sp/>{</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1aac9cece1fdb9d0079901008842994523" kindref="member">visual</ref>.transform<sp/>=<sp/>matWorld;</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(gi-&gt;<ref refid="structgeomInfo_1aac9cece1fdb9d0079901008842994523" kindref="member">visual</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="926"><highlight class="normal"></highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dBoxClass)<sp/>{</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dVector3<sp/>size;</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomBoxGetLengths(geom,<sp/>size);</highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1a5ff7c73c82a7595e803b07c953ec0693" kindref="member">box</ref>.transform<sp/>=<sp/>MatrixMultiply(MatrixScale(size[0],<sp/>size[1],<sp/>size[2]),<sp/>matWorld);</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(ctx-&gt;<ref refid="structGraphicsContext_1a5ff7c73c82a7595e803b07c953ec0693" kindref="member">box</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dSphereClass)<sp/>{</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>r<sp/>=<sp/>dGeomSphereGetRadius(geom);</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>.transform<sp/>=<sp/>MatrixMultiply(MatrixScale(r*2,<sp/>r*2,<sp/>r*2),<sp/>matWorld);</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dCylinderClass)<sp/>{</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dReal<sp/>l,<sp/>r;</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomCylinderGetParams(geom,<sp/>&amp;r,<sp/>&amp;l);</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1a06643972947afcd3a8cef634cce65ed8" kindref="member">cylinder</ref>.transform<sp/>=<sp/>MatrixMultiply(MatrixScale(r*2,<sp/>r*2,<sp/>l),<sp/>matWorld);</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(ctx-&gt;<ref refid="structGraphicsContext_1a06643972947afcd3a8cef634cce65ed8" kindref="member">cylinder</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>==<sp/>dCapsuleClass)<sp/>{</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dReal<sp/>l,<sp/>r;</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomCapsuleGetParams(geom,<sp/>&amp;r,<sp/>&amp;l);</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>d<sp/>=<sp/>r<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="948"><highlight class="normal"></highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cylinder</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1a06643972947afcd3a8cef634cce65ed8" kindref="member">cylinder</ref>.transform<sp/>=<sp/>MatrixMultiply(MatrixScale(d,<sp/>d,<sp/>l),<sp/>matWorld);</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(ctx-&gt;<ref refid="structGraphicsContext_1a06643972947afcd3a8cef634cce65ed8" kindref="member">cylinder</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="952"><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cap<sp/>1<sp/>(Local<sp/>Z+)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Matrix<sp/>matCap1<sp/>=<sp/>MatrixMultiply(MatrixTranslate(0,<sp/>0,<sp/>l/2),<sp/>matWorld);</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>.transform<sp/>=<sp/>MatrixMultiply(MatrixScale(d,<sp/>d,<sp/>d),<sp/>matCap1);</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="957"><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cap<sp/>2<sp/>(Local<sp/>Z-)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Matrix<sp/>matCap2<sp/>=<sp/>MatrixMultiply(MatrixTranslate(0,<sp/>0,<sp/>-l/2),<sp/>matWorld);</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>.transform<sp/>=<sp/>MatrixMultiply(MatrixScale(d,<sp/>d,<sp/>d),<sp/>matCap2);</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawModelTinted(ctx-&gt;<ref refid="structGraphicsContext_1af8476f2872146a217a97ad92cbf0a4a0" kindref="member">ball</ref>,<sp/>c);</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="963"><highlight class="normal"></highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="965"><highlight class="normal">}</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="968"><highlight class="comment">/**<sp/>@brief<sp/>crates<sp/>a<sp/>rotor<sp/>joint</highlight></codeline>
<codeline lineno="969"><highlight class="comment"><sp/>*<sp/>the<sp/>joint<sp/>is<sp/>created<sp/>with<sp/>the<sp/>anchor<sp/>at<sp/>the<sp/>from<sp/>enties<sp/>location</highlight></codeline>
<codeline lineno="970"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="971"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>physics<sp/>context<sp/>holds<sp/>all<sp/>the<sp/>physics<sp/>globals</highlight></codeline>
<codeline lineno="972"><highlight class="comment"><sp/>*<sp/>@param<sp/>from<sp/>the<sp/>anchor<sp/>entity<sp/>for<sp/>the<sp/>joint</highlight></codeline>
<codeline lineno="973"><highlight class="comment"><sp/>*<sp/>@param<sp/>to<sp/>if<sp/>this<sp/>is<sp/>null<sp/>the<sp/>joint<sp/>attaches<sp/>to<sp/>the<sp/>world<sp/>and<sp/>is<sp/>static</highlight></codeline>
<codeline lineno="974"><highlight class="comment"><sp/>*<sp/>@param<sp/>axis<sp/>this<sp/>determines<sp/>the<sp/>direction<sp/>of<sp/>rotation<sp/>for<sp/>the<sp/>rotor</highlight></codeline>
<codeline lineno="975"><highlight class="comment"><sp/>*<sp/>you<sp/>can<sp/>think<sp/>of<sp/>it<sp/>as<sp/>the<sp/>direction<sp/>of<sp/>the<sp/>axle</highlight></codeline>
<codeline lineno="976"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="977"><highlight class="comment"><sp/>*<sp/>@note<sp/>joints<sp/>will<sp/>get<sp/>tidied<sp/>up<sp/>during<sp/>world<sp/>destruction,<sp/>do<sp/>destroy<sp/>them</highlight></codeline>
<codeline lineno="978"><highlight class="comment"><sp/>*<sp/>if<sp/>you<sp/>no<sp/>longer<sp/>require<sp/>them,<sp/>in<sp/>the<sp/>arm<sp/>example<sp/>a<sp/>joint<sp/>is<sp/>created<sp/>and</highlight></codeline>
<codeline lineno="979"><highlight class="comment"><sp/>*<sp/>destroyed<sp/>every<sp/>time<sp/>an<sp/>object<sp/>is<sp/>caught<sp/>and<sp/>released</highlight></codeline>
<codeline lineno="980"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="981" refid="raylibODE_8c_1a70760bcdbb95dca2cd9cbb1a640485d2" refkind="member"><highlight class="normal">dJointID<sp/><ref refid="raylibODE_8c_1a70760bcdbb95dca2cd9cbb1a640485d2" kindref="member">CreateRotor</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>from,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>to,<sp/>Vector3<sp/>axis)</highlight></codeline>
<codeline lineno="982"><highlight class="normal">{</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Use<sp/>a<sp/>Hinge<sp/>to<sp/>rotate<sp/>around<sp/>(no<sp/>stops)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointID<sp/>rotor<sp/>=<sp/>dJointCreateHinge(physCtx-&gt;<ref refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" kindref="member">world</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!to)<sp/>{</highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dJointAttach(rotor,<sp/>from-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dJointAttach(rotor,<sp/>from-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>to-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dReal*<sp/>pos<sp/>=<sp/>dBodyGetPosition(from-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="992"><highlight class="normal"></highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetHingeAnchor(rotor,<sp/>pos[0],<sp/>pos[1],<sp/>pos[2]);<sp/></highlight><highlight class="comment">//<sp/>world<sp/>coordinates</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetHingeAxis(rotor,<sp/>axis.x,<sp/>axis.y,<sp/>axis.z);</highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetHingeParam(rotor,<sp/>dParamVel,<sp/>0.0);</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetHingeParam(rotor,<sp/>dParamFMax,<sp/>100000.0);<sp/></highlight><highlight class="comment">//<sp/>POOOWWWWEEERRRR!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="999"><highlight class="normal"></highlight></codeline>
<codeline lineno="1000"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rotor;</highlight></codeline>
<codeline lineno="1001"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1004"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1005"><highlight class="comment"><sp/>*<sp/>@brief<sp/>changes<sp/>the<sp/>hew<sp/>(tint)<sp/>of<sp/>all<sp/>anentities<sp/>geoms</highlight></codeline>
<codeline lineno="1006"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1007"><highlight class="comment"><sp/>*<sp/>go<sp/>through<sp/>each<sp/>geom<sp/>attached<sp/>to<sp/>the<sp/>entities<sp/>body<sp/>and<sp/>change</highlight></codeline>
<codeline lineno="1008"><highlight class="comment"><sp/>*<sp/>their<sp/>hew<sp/>or<sp/>tint</highlight></codeline>
<codeline lineno="1009"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1010"><highlight class="comment"><sp/>*<sp/>@param<sp/>ent<sp/>pointer<sp/>to<sp/>the<sp/>entity</highlight></codeline>
<codeline lineno="1011"><highlight class="comment"><sp/>*<sp/>@param<sp/>c<sp/>new<sp/>colour<sp/>to<sp/>use</highlight></codeline>
<codeline lineno="1012"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1013"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1014" refid="raylibODE_8c_1a227dded5dce29a7e3b71e9589e2b4c22" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a227dded5dce29a7e3b71e9589e2b4c22" kindref="member">SetEntityHew</ref>(<ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent,<sp/>Color<sp/>c)</highlight></codeline>
<codeline lineno="1015"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dBodyGetFirstGeom(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(geom)<sp/>{</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/>dGeomGetData(geom);</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1a97039a3fbf7a1f1c905762a6f4adb0c3" kindref="member">hew</ref><sp/>=<sp/>c;</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom<sp/>=<sp/>dBodyGetNextGeom(geom);</highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1022"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1024"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1025"><highlight class="comment"><sp/>*<sp/>@brief<sp/>changes<sp/>the<sp/>surface<sp/>material<sp/>of<sp/>all<sp/>an<sp/>entities<sp/>geoms</highlight></codeline>
<codeline lineno="1026"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1027"><highlight class="comment"><sp/>*<sp/>go<sp/>through<sp/>each<sp/>geom<sp/>attached<sp/>to<sp/>the<sp/>entities<sp/>body<sp/>and<sp/>change</highlight></codeline>
<codeline lineno="1028"><highlight class="comment"><sp/>*<sp/>their<sp/>surface<sp/>properties</highlight></codeline>
<codeline lineno="1029"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1030"><highlight class="comment"><sp/>*<sp/>@param<sp/>ent<sp/>pointer<sp/>to<sp/>the<sp/>entity</highlight></codeline>
<codeline lineno="1031"><highlight class="comment"><sp/>*<sp/>@param<sp/>mat<sp/>new<sp/>surface<sp/>material<sp/>to<sp/>use</highlight></codeline>
<codeline lineno="1032"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1033"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1034" refid="raylibODE_8c_1aa8656255a05c3f38ce0b13825642acdf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1aa8656255a05c3f38ce0b13825642acdf" kindref="member">SetEntitySurfaces</ref>(<ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent,<sp/><ref refid="structSurfaceMaterial" kindref="compound">SurfaceMaterial</ref>*<sp/>mat)</highlight></codeline>
<codeline lineno="1035"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dBodyGetFirstGeom(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(geom)<sp/>{</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*<sp/>gi<sp/>=<sp/>dGeomGetData(geom);</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gi-&gt;<ref refid="structgeomInfo_1a8e530854793906e8d625e058ac7b616c" kindref="member">surface</ref><sp/>=<sp/>mat;</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom<sp/>=<sp/>dBodyGetNextGeom(geom);</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1042"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1044"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1045"><highlight class="comment"><sp/>*<sp/>@brief<sp/>Draws<sp/>all<sp/>the<sp/>dynamic<sp/>bodies<sp/>the<sp/>framework<sp/>is<sp/>tracking</highlight></codeline>
<codeline lineno="1046"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1047"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="1048"><highlight class="comment"><sp/>*<sp/>@param<sp/>pctx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1049"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1050" refid="raylibODE_8c_1aa01114b518b93c528e9e85382ce46b4b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1aa01114b518b93c528e9e85382ce46b4b" kindref="member">DrawBodies</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>ctx,<sp/><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>pctx)</highlight></codeline>
<codeline lineno="1051"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="clist_8h_1a9957c4c04b6e17b9b8fa99e68b94aa9a" kindref="member">cnode_t</ref>*<sp/>node<sp/>=<sp/>pctx-&gt;<ref refid="structPhysicsContext_1a9b8d81159eec734cb1b95c95203b7f50" kindref="member">objList</ref>-&gt;<ref refid="struct____clist_1a87719175a9395449ee1db0221b39688a" kindref="member">head</ref>;</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"></highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(node<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>e<sp/>=<sp/>(<ref refid="structentity" kindref="compound">entity</ref>*)node-&gt;<ref refid="struct____cnode_1ae59520f57274323a159b336ee81f565b" kindref="member">data</ref>;</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dBodyID<sp/>bdy<sp/>=<sp/>e-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>;</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawBodyGeoms(bdy,<sp/>ctx);</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"></highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>=<sp/>node-&gt;<ref refid="struct____cnode_1aabe3d86831d46a328c4a8764acf66ac4" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1061"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"></highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>DrawBodyGeoms(dBodyID<sp/>bdy,<sp/></highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>ctx)</highlight></codeline>
<codeline lineno="1064"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>dBodyGetFirstGeom(bdy);</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(geom)<sp/>{</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomID<sp/>next<sp/>=<sp/>dBodyGetNextGeom(geom);</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"></highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawGeom(geom,<sp/>ctx);</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom<sp/>=<sp/>next;</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1072"><highlight class="normal"></highlight></codeline>
<codeline lineno="1073"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1075"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1076"><highlight class="comment"><sp/>*<sp/>@brief<sp/>draws<sp/>the<sp/>static<sp/>geometries</highlight></codeline>
<codeline lineno="1077"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1078"><highlight class="comment"><sp/>*<sp/>As<sp/>static<sp/>geometries<sp/>have<sp/>no<sp/>bodies<sp/>they<sp/>are<sp/>handled<sp/>a<sp/>little<sp/>different</highlight></codeline>
<codeline lineno="1079"><highlight class="comment"><sp/>*<sp/>this<sp/>will<sp/>draw<sp/>all<sp/>the<sp/>dGeomID&apos;s<sp/>that<sp/>are<sp/>registed<sp/>on<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1080"><highlight class="comment"><sp/>*<sp/>static<sp/>lists</highlight></codeline>
<codeline lineno="1081"><highlight class="comment"><sp/>*<sp/>@note<sp/>all<sp/>geoms<sp/>on<sp/>the<sp/>statics<sp/>list<sp/>must<sp/>have<sp/>attached<sp/>geomInfo</highlight></codeline>
<codeline lineno="1082"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1083"><highlight class="comment"><sp/>*<sp/>@param<sp/>ctx<sp/>the<sp/>graphics<sp/>context</highlight></codeline>
<codeline lineno="1084"><highlight class="comment"><sp/>*<sp/>@param<sp/>pctx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1085"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1086" refid="raylibODE_8c_1a1232d8000138fdc6d2f9741548a263aa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a1232d8000138fdc6d2f9741548a263aa" kindref="member">DrawStatics</ref>(</highlight><highlight class="keyword">struct</highlight><highlight class="normal"><sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>ctx,<sp/><ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>pctx)</highlight></codeline>
<codeline lineno="1087"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="clist_8h_1a9957c4c04b6e17b9b8fa99e68b94aa9a" kindref="member">cnode_t</ref>*<sp/>node<sp/>=<sp/>pctx-&gt;<ref refid="structPhysicsContext_1aa88cec7da4225aa5c1f2bbdabe55b35d" kindref="member">statics</ref>-&gt;<ref refid="struct____clist_1a87719175a9395449ee1db0221b39688a" kindref="member">head</ref>;</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"></highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(node<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomID<sp/>geom<sp/>=<sp/>node-&gt;<ref refid="struct____cnode_1ae59520f57274323a159b336ee81f565b" kindref="member">data</ref>;</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DrawGeom(geom,<sp/>ctx);</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>=<sp/>node-&gt;<ref refid="struct____cnode_1aabe3d86831d46a328c4a8764acf66ac4" kindref="member">next</ref>;</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1095"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1097"><highlight class="comment">/**<sp/>@brief<sp/>frees<sp/>an<sp/>entity</highlight></codeline>
<codeline lineno="1098"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1099"><highlight class="comment"><sp/>*<sp/>this<sp/>is<sp/>essentially<sp/>destroying<sp/>the<sp/>entity<sp/>it<sp/>is<sp/>no<sp/>longer<sp/>part<sp/>of<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="1100"><highlight class="comment"><sp/>*<sp/>@note<sp/>if<sp/>iterrating<sp/>through<sp/>the<sp/>global<sp/>entity<sp/>list<sp/>while<sp/>calling<sp/>this,</highlight></codeline>
<codeline lineno="1101"><highlight class="comment"><sp/>*<sp/>ensure<sp/>you<sp/>have<sp/>stored<sp/>the<sp/>next<sp/>node<sp/>in<sp/>the<sp/>chain,<sp/>for<sp/>use<sp/>at<sp/>the<sp/>end<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="1102"><highlight class="comment"><sp/>*<sp/>while<sp/>loop<sp/>as<sp/>obviously<sp/>node-&gt;next<sp/>won&apos;t<sp/>work</highlight></codeline>
<codeline lineno="1103"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="1104"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1105"><highlight class="comment"><sp/>*<sp/>@param<sp/>ent<sp/>the<sp/>entity<sp/>to<sp/>destroy</highlight></codeline>
<codeline lineno="1106"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1107" refid="raylibODE_8c_1aa86cbb92909da330ef988d813fb7baed" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1aa86cbb92909da330ef988d813fb7baed" kindref="member">FreeEntity</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent)</highlight></codeline>
<codeline lineno="1108"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="raylibODE_8c_1a8f1b86adbb51b8bd80405329b31c87d1" kindref="member">FreeBodyAndGeoms</ref>(ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="clist_8c_1a15dab01e10aa1d60e2d66c5cbfa3a738" kindref="member">clistDeleteNode</ref>(physCtx-&gt;<ref refid="structPhysicsContext_1a9b8d81159eec734cb1b95c95203b7f50" kindref="member">objList</ref>,<sp/>&amp;ent-&gt;<ref refid="structentity_1a4ba0008223828f414cf5303ca935bcd8" kindref="member">node</ref>);</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/>free(ent);</highlight></codeline>
<codeline lineno="1112"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1114"><highlight class="comment">/**<sp/>@brief<sp/>creates<sp/>a<sp/>piston<sp/>using<sp/>two<sp/>entities<sp/>as<sp/>its<sp/>base<sp/>on<sp/>extending<sp/>sections</highlight></codeline>
<codeline lineno="1115"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1116"><highlight class="comment"><sp/>*<sp/>both<sp/>entities<sp/>should<sp/>be<sp/>positioned<sp/>and<sp/>oriented<sp/>before<sp/>calling<sp/>this,<sp/>they<sp/>MUST<sp/>NOT</highlight></codeline>
<codeline lineno="1117"><highlight class="comment"><sp/>*<sp/>be<sp/>in<sp/>exactly<sp/>the<sp/>same<sp/>position,<sp/>as<sp/>the<sp/>vector<sp/>between<sp/>them<sp/>is<sp/>used<sp/>as<sp/>the<sp/>axis<sp/>for</highlight></codeline>
<codeline lineno="1118"><highlight class="comment"><sp/>*<sp/>the<sp/>piston</highlight></codeline>
<codeline lineno="1119"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1120"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1121"><highlight class="comment"><sp/>*<sp/>@param<sp/>entA<sp/>the<sp/>base<sp/>entity</highlight></codeline>
<codeline lineno="1122"><highlight class="comment"><sp/>*<sp/>@param<sp/>entB<sp/>the<sp/>extending<sp/>entity</highlight></codeline>
<codeline lineno="1123"><highlight class="comment"><sp/>*<sp/>@param<sp/>strength<sp/>the<sp/>maximum<sp/>force<sp/>the<sp/>piston<sp/>can<sp/>use</highlight></codeline>
<codeline lineno="1124"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1125"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1126" refid="raylibODE_8c_1aa35dd966752d4afeffcb8f39e474594c" refkind="member"><highlight class="normal">dJointID<sp/><ref refid="raylibODE_8c_1aa35dd966752d4afeffcb8f39e474594c" kindref="member">CreatePiston</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>entA,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>entB,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>strength)</highlight></codeline>
<codeline lineno="1127"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointID<sp/>joint<sp/>=<sp/>dJointCreateSlider(physCtx-&gt;<ref refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" kindref="member">world</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"></highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodyID<sp/>bodyA<sp/>=<sp/>entA-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>;</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodyID<sp/>bodyB<sp/>=<sp/>(entB<sp/>!=<sp/>NULL)<sp/>?<sp/>entB-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref><sp/>:<sp/>0;<sp/></highlight><highlight class="comment">//<sp/>0<sp/>=<sp/>world</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointAttach(joint,<sp/>bodyA,<sp/>bodyB);</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>((<ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*)dGeomGetData(dBodyGetFirstGeom(bodyA)))-&gt;surface<sp/>=<sp/>&amp;<ref refid="surface_8c_1aa26755a73be46b483bf7098bcbf679dd" kindref="member">gSurfaces</ref>[<ref refid="surface_8h_1a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d" kindref="member">SURFACE_METAL</ref>];</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/>((<ref refid="structgeomInfo" kindref="compound">geomInfo</ref>*)dGeomGetData(dBodyGetFirstGeom(bodyB)))-&gt;surface<sp/>=<sp/>&amp;<ref refid="surface_8c_1aa26755a73be46b483bf7098bcbf679dd" kindref="member">gSurfaces</ref>[<ref refid="surface_8h_1a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d" kindref="member">SURFACE_METAL</ref>];</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/>dReal<sp/>axis[3];</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dReal*<sp/>posA<sp/>=<sp/>dBodyGetPosition(bodyA);</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"></highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(entB<sp/>!=<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>dReal*<sp/>posB<sp/>=<sp/>dBodyGetPosition(bodyB);</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>axis[0]<sp/>=<sp/>posA[0]<sp/>-<sp/>posB[0];</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>axis[1]<sp/>=<sp/>posA[1]<sp/>-<sp/>posB[1];</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>axis[2]<sp/>=<sp/>posA[2]<sp/>-<sp/>posB[2];</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Default<sp/>to<sp/>&quot;Up&quot;<sp/>or<sp/>a<sp/>specific<sp/>direction<sp/>if<sp/>B<sp/>is<sp/>world</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>axis[0]<sp/>=<sp/>0;<sp/>axis[1]<sp/>=<sp/>1;<sp/>axis[2]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"></highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Normalize<sp/>and<sp/>set<sp/>the<sp/>axis</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/>dReal<sp/>length<sp/>=<sp/>sqrt(axis[0]*axis[0]<sp/>+<sp/>axis[1]*axis[1]<sp/>+<sp/>axis[2]*axis[2]);</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(length<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dJointSetSliderAxis(joint,<sp/>axis[0]/length,<sp/>axis[1]/length,<sp/>axis[2]/length);</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"></highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetSliderParam(joint,<sp/>dParamVel,<sp/>0.0);</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetSliderParam(joint,<sp/>dParamFMax,<sp/>strength);</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>joint;</highlight></codeline>
<codeline lineno="1160"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1162"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1163"><highlight class="comment"><sp/>*<sp/>@brief<sp/>sets<sp/>the<sp/>limits<sp/>of<sp/>travel<sp/>for<sp/>a<sp/>piston</highlight></codeline>
<codeline lineno="1164"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1165"><highlight class="comment"><sp/>*<sp/>min<sp/>must<sp/>be<sp/>smaller<sp/>than<sp/>max<sp/>values<sp/>can<sp/>be<sp/>negative</highlight></codeline>
<codeline lineno="1166"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1167"><highlight class="comment"><sp/>*<sp/>@param<sp/>joint<sp/>the<sp/>ODE<sp/>joint<sp/>id<sp/>of<sp/>the<sp/>joint<sp/>you<sp/>want<sp/>to<sp/>change</highlight></codeline>
<codeline lineno="1168"><highlight class="comment"><sp/>*<sp/>@param<sp/>min<sp/>the<sp/>low<sp/>end<sp/>stop<sp/>point</highlight></codeline>
<codeline lineno="1169"><highlight class="comment"><sp/>*<sp/>@param<sp/>max<sp/>the<sp/>high<sp/>end<sp/>stop<sp/>point</highlight></codeline>
<codeline lineno="1170"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1171"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1172" refid="raylibODE_8c_1a878892d1015e3c9349f667325d129d43" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a878892d1015e3c9349f667325d129d43" kindref="member">SetPistonLimits</ref>(dJointID<sp/>joint,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>min,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>max)</highlight></codeline>
<codeline lineno="1173"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetSliderParam(joint,<sp/>dParamLoStop,<sp/>min);</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetSliderParam(joint,<sp/>dParamHiStop,<sp/>max);</highlight></codeline>
<codeline lineno="1176"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1178"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1179"><highlight class="comment"><sp/>*<sp/>@brief<sp/>frees<sp/>all<sp/>the<sp/>internal<sp/>resources<sp/>of<sp/>a<sp/>multipiston</highlight></codeline>
<codeline lineno="1180"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1181"><highlight class="comment"><sp/>*<sp/>@param<sp/>mp<sp/>the<sp/>multipiston<sp/>to<sp/>free</highlight></codeline>
<codeline lineno="1182"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1183"><highlight class="comment"><sp/>*<sp/>@note<sp/>this<sp/>is<sp/>not<sp/>done<sp/>automagically<sp/>(like<sp/>dynamic<sp/>bodies<sp/>for<sp/>example)</highlight></codeline>
<codeline lineno="1184"><highlight class="comment"><sp/>*<sp/>when<sp/>you<sp/>create<sp/>a<sp/>multipiston<sp/>add<sp/>a<sp/>call<sp/>to<sp/>this<sp/>function<sp/>in<sp/>your</highlight></codeline>
<codeline lineno="1185"><highlight class="comment"><sp/>*<sp/>exit<sp/>path</highlight></codeline>
<codeline lineno="1186"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1187" refid="raylibODE_8c_1a710981c5db9781e25b27318e8d56dfbb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a710981c5db9781e25b27318e8d56dfbb" kindref="member">FreeMultiPiston</ref>(<ref refid="structMultiPiston" kindref="compound">MultiPiston</ref>*<sp/>mp)</highlight></codeline>
<codeline lineno="1188"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/>free(mp-&gt;<ref refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" kindref="member">joints</ref>);</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/>free(mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>);</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/>free(mp);</highlight></codeline>
<codeline lineno="1192"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1194"><highlight class="comment">/**<sp/></highlight></codeline>
<codeline lineno="1195"><highlight class="comment"><sp/>*<sp/>@brief<sp/>add<sp/>a<sp/>multi<sp/>section<sp/>piston</highlight></codeline>
<codeline lineno="1196"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1197"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1198"><highlight class="comment"><sp/>*<sp/>@param<sp/>graphics<sp/>the<sp/>graphical<sp/>context</highlight></codeline>
<codeline lineno="1199"><highlight class="comment"><sp/>*<sp/>@param<sp/>pos<sp/>where<sp/>the<sp/>base<sp/>of<sp/>the<sp/>piston<sp/>should<sp/>be<sp/>positioned</highlight></codeline>
<codeline lineno="1200"><highlight class="comment"><sp/>*<sp/>@param<sp/>direction<sp/>a<sp/>vector<sp/>pointing<sp/>from<sp/>the<sp/>base<sp/>towards<sp/>the<sp/>end<sp/>of<sp/>the<sp/>piston</highlight></codeline>
<codeline lineno="1201"><highlight class="comment"><sp/>*<sp/>@param<sp/>count<sp/>the<sp/>number<sp/>of<sp/>sections<sp/>for<sp/>the<sp/>piston</highlight></codeline>
<codeline lineno="1202"><highlight class="comment"><sp/>*<sp/>@param<sp/>sectionLen<sp/>How<sp/>far<sp/>each<sp/>section<sp/>extends<sp/>fully<sp/>retracted<sp/>it<sp/>will<sp/>be<sp/>a<sp/>little<sp/>longer<sp/>than<sp/>this</highlight></codeline>
<codeline lineno="1203"><highlight class="comment"><sp/>*<sp/>as<sp/>each<sp/>section<sp/>doesn&apos;t<sp/>go<sp/>into<sp/>its<sp/>parent<sp/>100%<sp/></highlight></codeline>
<codeline lineno="1204"><highlight class="comment"><sp/>*<sp/>@param<sp/>baseWidth<sp/>the<sp/>width<sp/>of<sp/>the<sp/>base</highlight></codeline>
<codeline lineno="1205"><highlight class="comment"><sp/>*<sp/>@param<sp/>strength<sp/>the<sp/>maximum<sp/>force<sp/>the<sp/>piston<sp/>can<sp/>use<sp/>to<sp/>extend<sp/>or<sp/>retract</highlight></codeline>
<codeline lineno="1206"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1207"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1208" refid="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" refkind="member"><highlight class="normal"><ref refid="structMultiPiston" kindref="compound">MultiPiston</ref>*<sp/><ref refid="raylibODE_8c_1a8d2339918b2d47fcaea5c861ccfbc3d8" kindref="member">CreateMultiPiston</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structGraphicsContext" kindref="compound">GraphicsContext</ref>*<sp/>graphics,<sp/></highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>pos,<sp/>Vector3<sp/>direction,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>count,<sp/></highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>sectionLen,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>baseWidth,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>strength)<sp/></highlight></codeline>
<codeline lineno="1211"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structMultiPiston" kindref="compound">MultiPiston</ref>*<sp/>mp<sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structMultiPiston" kindref="compound">MultiPiston</ref>));</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/>mp-&gt;<ref refid="structMultiPiston_1a96962d42f96ba90adb333956b1c3ddd4" kindref="member">count</ref><sp/>=<sp/>count;</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/>mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref><sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="structentity" kindref="compound">entity</ref>*)<sp/>*<sp/>count);</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/>mp-&gt;<ref refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" kindref="member">joints</ref><sp/>=<sp/>malloc(</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(dJointID)<sp/>*<sp/>(count<sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"></highlight></codeline>
<codeline lineno="1217"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector3<sp/>dir<sp/>=<sp/>Vector3Normalize(direction);</highlight></codeline>
<codeline lineno="1218"><highlight class="normal"></highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>count;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="1220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>scale<sp/>=<sp/>1.0f<sp/>-<sp/>(i<sp/>*<sp/>0.1f);</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>size<sp/>=<sp/>{<sp/>sectionLen,<sp/>baseWidth<sp/>*<sp/>scale,<sp/>baseWidth<sp/>*<sp/>scale<sp/>};</highlight></codeline>
<codeline lineno="1222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>stagger<sp/>each<sp/>section<sp/>0.1<sp/>units<sp/>along<sp/>the<sp/>direction<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>sPos<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos.x<sp/>+<sp/>(dir.x<sp/>*<sp/>i<sp/>*<sp/>0.1f),</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos.y<sp/>+<sp/>(dir.y<sp/>*<sp/>i<sp/>*<sp/>0.1f),</highlight></codeline>
<codeline lineno="1227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pos.z<sp/>+<sp/>(dir.z<sp/>*<sp/>i<sp/>*<sp/>0.1f)</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"></highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>[i]<sp/>=<sp/><ref refid="raylibODE_8c_1ae436b97d6296f4b3c35e493dde37cee3" kindref="member">CreateBox</ref>(physCtx,<sp/>graphics,<sp/>size,<sp/>sPos,<sp/>(Vector3){0,0,0},<sp/>4);</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Orient<sp/>the<sp/>box<sp/>to<sp/>face<sp/>the<sp/>direction<sp/>of<sp/>travel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="raylibODE_8c_1aea5e471f2ffcadf7bcce5b25993d1d0f" kindref="member">SetBodyOrientation</ref>(mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>[i]-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>dir);</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"></highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomID<sp/>g<sp/>=<sp/>dBodyGetFirstGeom(mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>[i]-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomSetCategoryBits(g,<sp/><ref refid="raylibODE_8h_1ad7a3394d1169a116327a236fc91cad61" kindref="member">PISTON_GROUP</ref>);</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dGeomSetCollideBits(g,<sp/><ref refid="raylibODE_8h_1a7641bec378d3900deed756ce9ce5369f" kindref="member">WORLD_GROUP</ref>);</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"></highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(i<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mp-&gt;<ref refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" kindref="member">joints</ref>[i-1]<sp/>=<sp/><ref refid="raylibODE_8c_1aa35dd966752d4afeffcb8f39e474594c" kindref="member">CreatePiston</ref>(physCtx,<sp/>mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>[i-1],<sp/>mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>[i],<sp/>strength);</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="raylibODE_8c_1a878892d1015e3c9349f667325d129d43" kindref="member">SetPistonLimits</ref>(mp-&gt;<ref refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" kindref="member">joints</ref>[i-1],<sp/>0,<sp/>sectionLen<sp/>-<sp/>0.3f);</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mp;</highlight></codeline>
<codeline lineno="1245"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1247"><highlight class="comment">/**<sp/>@brief<sp/>set<sp/>a<sp/>MultiPiston&apos;s<sp/>velocity</highlight></codeline>
<codeline lineno="1248"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1249"><highlight class="comment"><sp/>*<sp/>While<sp/>setting<sp/>all<sp/>the<sp/>join<sp/>velocities<sp/>in<sp/>the<sp/>piston<sp/>it<sp/>also</highlight></codeline>
<codeline lineno="1250"><highlight class="comment"><sp/>*<sp/>ensures<sp/>all<sp/>the<sp/>bodies<sp/>are<sp/>active</highlight></codeline>
<codeline lineno="1251"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1252"><highlight class="comment"><sp/>*<sp/>@param<sp/>mp<sp/>the<sp/>multipiston<sp/>you<sp/>want<sp/>to<sp/>change<sp/>the<sp/>speed<sp/>of</highlight></codeline>
<codeline lineno="1253"><highlight class="comment"><sp/>*<sp/>@param<sp/>velocity<sp/>the<sp/>speed<sp/>you<sp/>want<sp/>the<sp/>piston<sp/>set<sp/>to</highlight></codeline>
<codeline lineno="1254"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1255"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1256" refid="raylibODE_8c_1a801a17c097329ca4d55d35f1c5ae7b5a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a801a17c097329ca4d55d35f1c5ae7b5a" kindref="member">SetMultiPistonVelocity</ref>(<ref refid="structMultiPiston" kindref="compound">MultiPiston</ref>*<sp/>mp,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>velocity)<sp/>{</highlight></codeline>
<codeline lineno="1257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!mp)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>mp-&gt;<ref refid="structMultiPiston_1a96962d42f96ba90adb333956b1c3ddd4" kindref="member">count</ref><sp/>-<sp/>1;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="1259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dJointSetSliderParam(mp-&gt;<ref refid="structMultiPiston_1a96e58d4cda391573b7ac1f4d9b469a56" kindref="member">joints</ref>[i],<sp/>dParamVel,<sp/>velocity);</highlight></codeline>
<codeline lineno="1260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dBodyEnable(mp-&gt;<ref refid="structMultiPiston_1ab70dd6653285ac49e434852b22a70148" kindref="member">sections</ref>[i+1]-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1262"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1264"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1265"><highlight class="comment"><sp/>*<sp/>@brief<sp/>sets<sp/>to<sp/>bodies<sp/>orientation<sp/>to<sp/>align<sp/>with<sp/>a<sp/>vector</highlight></codeline>
<codeline lineno="1266"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1267"><highlight class="comment"><sp/>*<sp/>@param<sp/>body<sp/>the<sp/>ODE<sp/>body<sp/>id<sp/>you<sp/>want<sp/>to<sp/>orient</highlight></codeline>
<codeline lineno="1268"><highlight class="comment"><sp/>*<sp/>@param<sp/>direction<sp/>the<sp/>vector<sp/>you<sp/>want<sp/>the<sp/>body<sp/>oriented<sp/>along</highlight></codeline>
<codeline lineno="1269"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1270"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1271" refid="raylibODE_8c_1aea5e471f2ffcadf7bcce5b25993d1d0f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1aea5e471f2ffcadf7bcce5b25993d1d0f" kindref="member">SetBodyOrientation</ref>(dBodyID<sp/>body,<sp/>Vector3<sp/>direction)<sp/>{</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector3<sp/>source<sp/>=<sp/>{1,<sp/>0,<sp/>0};<sp/></highlight><highlight class="comment">//<sp/>The<sp/>default<sp/>&quot;length&quot;<sp/>axis<sp/>of<sp/>your<sp/>box</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/>direction<sp/>=<sp/>Vector3Normalize(direction);</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Find<sp/>the<sp/>rotation<sp/>axis<sp/>(perpendicular<sp/>to<sp/>both<sp/>vectors)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector3<sp/>rotAxis<sp/>=<sp/>Vector3CrossProduct(source,<sp/>direction);</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>cosTheta<sp/>=<sp/>Vector3DotProduct(source,<sp/>direction);</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>the<sp/>angle<sp/>in<sp/>radians</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>angle<sp/>=<sp/>acosf(fminf(1.0f,<sp/>fmaxf(-1.0f,<sp/>cosTheta)));</highlight></codeline>
<codeline lineno="1281"><highlight class="normal"></highlight></codeline>
<codeline lineno="1282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Handle<sp/>the<sp/>&quot;Parallel&quot;<sp/>case<sp/>(if<sp/>target<sp/>is<sp/>-source,<sp/>cross<sp/>product<sp/>is<sp/>zero)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Vector3Length(rotAxis)<sp/>&lt;<sp/>0.001f)<sp/>{</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cosTheta<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="1285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Target<sp/>is<sp/>exactly<sp/>opposite,<sp/>rotate<sp/>180<sp/>degrees<sp/>around<sp/>Any<sp/>perpendicular<sp/>axis</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rotAxis<sp/>=<sp/>(Vector3){0,<sp/>1,<sp/>0};</highlight></codeline>
<codeline lineno="1287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>angle<sp/>=<sp/>PI;</highlight></codeline>
<codeline lineno="1288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Target<sp/>is<sp/>same<sp/>as<sp/>source,<sp/>no<sp/>rotation<sp/>needed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1293"><highlight class="normal"></highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/>dQuaternion<sp/>q;</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/>dQFromAxisAndAngle(q,<sp/>rotAxis.x,<sp/>rotAxis.y,<sp/>rotAxis.z,<sp/>angle);</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1297"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetQuaternion(body,<sp/>q);</highlight></codeline>
<codeline lineno="1298"><highlight class="normal">}</highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1299"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1300"><highlight class="comment"><sp/>*<sp/>@brief<sp/>pins<sp/>an<sp/>entity<sp/>to<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="1301"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1302"><highlight class="comment"><sp/>*<sp/>This<sp/>joint<sp/>will<sp/>attempt<sp/>to<sp/>keep<sp/>the<sp/>position<sp/>and<sp/>orientation<sp/>of</highlight></codeline>
<codeline lineno="1303"><highlight class="comment"><sp/>*<sp/>the<sp/>body<sp/>static,<sp/>position<sp/>and<sp/>rotate<sp/>the<sp/>body<sp/>as<sp/>needed<sp/>before</highlight></codeline>
<codeline lineno="1304"><highlight class="comment"><sp/>*<sp/>calling<sp/>this</highlight></codeline>
<codeline lineno="1305"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1306"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/><sp/><sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1307"><highlight class="comment"><sp/>*<sp/>@param<sp/>ent<sp/><sp/><sp/>The<sp/>entity<sp/>to<sp/>pin<sp/>to<sp/>the<sp/>world</highlight></codeline>
<codeline lineno="1308"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1309"><highlight class="comment"><sp/>*<sp/>@returns<sp/>the<sp/>joint<sp/>id<sp/>of<sp/>the<sp/>constraint<sp/></highlight></codeline>
<codeline lineno="1310"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1311" refid="raylibODE_8c_1a57b8ac137f7e79fc8deb53b7ba410166" refkind="member"><highlight class="normal">dJointID<sp/><ref refid="raylibODE_8c_1a57b8ac137f7e79fc8deb53b7ba410166" kindref="member">PinEntityToWorld</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>ent)</highlight></codeline>
<codeline lineno="1312"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointID<sp/>pin<sp/>=<sp/>dJointCreateFixed<sp/>(physCtx-&gt;<ref refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" kindref="member">world</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointAttach(pin,<sp/>ent-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetFixed(pin);</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pin;</highlight></codeline>
<codeline lineno="1317"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1319"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1320"><highlight class="comment"><sp/>*<sp/>@brief<sp/>pin<sp/>two<sp/>entities<sp/>together</highlight></codeline>
<codeline lineno="1321"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1322"><highlight class="comment"><sp/>*<sp/>@param<sp/>physCtx<sp/>the<sp/>physics<sp/>context</highlight></codeline>
<codeline lineno="1323"><highlight class="comment"><sp/>*<sp/>@param<sp/>entA<sp/>the<sp/>first<sp/>entity</highlight></codeline>
<codeline lineno="1324"><highlight class="comment"><sp/>*<sp/>@param<sp/>entB<sp/>the<sp/>second<sp/>entity</highlight></codeline>
<codeline lineno="1325"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1326"><highlight class="comment"><sp/>*<sp/>The<sp/>constraint<sp/>will<sp/>attempt<sp/>to<sp/>keep<sp/>the<sp/>relative</highlight></codeline>
<codeline lineno="1327"><highlight class="comment"><sp/>*<sp/>position<sp/>and<sp/>orientation<sp/>of<sp/>the<sp/>two<sp/>entities<sp/>as<sp/>it<sp/>was<sp/>when<sp/>this<sp/>is<sp/>called.<sp/></highlight></codeline>
<codeline lineno="1328"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1329" refid="raylibODE_8c_1a4fdbdf714b807f26feab3176718e274c" refkind="member"><highlight class="normal">dJointID<sp/><ref refid="raylibODE_8c_1a4fdbdf714b807f26feab3176718e274c" kindref="member">PinEntities</ref>(<ref refid="structPhysicsContext" kindref="compound">PhysicsContext</ref>*<sp/>physCtx,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>entA,<sp/><ref refid="structentity" kindref="compound">entity</ref>*<sp/>entB)</highlight></codeline>
<codeline lineno="1330"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointID<sp/>pin<sp/>=<sp/>dJointCreateFixed<sp/>(physCtx-&gt;<ref refid="structPhysicsContext_1ae036c70d830c45f16ea1fbeafd94680f" kindref="member">world</ref>,<sp/>0);</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointAttach(pin,<sp/>entA-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>,<sp/>entB-&gt;<ref refid="structentity_1ada0e6866acb68b3f1e2bff5d70b2b760" kindref="member">body</ref>);</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetFixed(pin);</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pin;</highlight></codeline>
<codeline lineno="1335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1337"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1338"><highlight class="comment"><sp/>*<sp/>@brief<sp/>sets<sp/>a<sp/>bodies<sp/>orientation</highlight></codeline>
<codeline lineno="1339"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1340"><highlight class="comment"><sp/>*<sp/>@param<sp/>bdy<sp/>the<sp/>body<sp/>id</highlight></codeline>
<codeline lineno="1341"><highlight class="comment"><sp/>*<sp/>@param<sp/>p<sp/>the<sp/>pitch</highlight></codeline>
<codeline lineno="1342"><highlight class="comment"><sp/>*<sp/>@param<sp/>y<sp/>the<sp/>yaw</highlight></codeline>
<codeline lineno="1343"><highlight class="comment"><sp/>*<sp/>@param<sp/>r<sp/>the<sp/>roll</highlight></codeline>
<codeline lineno="1344"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1345"><highlight class="comment"><sp/>*<sp/>@note<sp/>you<sp/>shouldn&apos;t<sp/>be<sp/>doing<sp/>this<sp/>every<sp/>frame<sp/>rather<sp/>use<sp/>forces<sp/>(torque)</highlight></codeline>
<codeline lineno="1346"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1347" refid="raylibODE_8c_1a3ae92d4efc27587000b0f3ca889d19e7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a3ae92d4efc27587000b0f3ca889d19e7" kindref="member">SetBodyOrientationEuler</ref>(dBodyID<sp/>bdy,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>p,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>y,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>r)</highlight></codeline>
<codeline lineno="1348"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>p,<sp/>y,<sp/>r);</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/>dBodySetRotation(bdy,<sp/>R);</highlight></codeline>
<codeline lineno="1352"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1354"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1355"><highlight class="comment"><sp/>*<sp/>@brief<sp/>sets<sp/>a<sp/>geoms<sp/>orientation</highlight></codeline>
<codeline lineno="1356"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1357"><highlight class="comment"><sp/>*<sp/>@param<sp/>g<sp/>the<sp/>geom<sp/>id</highlight></codeline>
<codeline lineno="1358"><highlight class="comment"><sp/>*<sp/>@param<sp/>p<sp/>the<sp/>pitch</highlight></codeline>
<codeline lineno="1359"><highlight class="comment"><sp/>*<sp/>@param<sp/>y<sp/>the<sp/>yaw</highlight></codeline>
<codeline lineno="1360"><highlight class="comment"><sp/>*<sp/>@param<sp/>r<sp/>the<sp/>roll</highlight></codeline>
<codeline lineno="1361"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1362"><highlight class="comment"><sp/>*<sp/>This<sp/>is<sp/>most<sp/>useful<sp/>when<sp/>you<sp/>are<sp/>creating<sp/>bodies<sp/>with<sp/>composite</highlight></codeline>
<codeline lineno="1363"><highlight class="comment"><sp/>*<sp/>geoms<sp/>or<sp/>for<sp/>use<sp/>with<sp/>a<sp/>static<sp/>geom</highlight></codeline>
<codeline lineno="1364"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1365" refid="raylibODE_8c_1a5b5b0b12adc7119a13eaacef8d097499" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a5b5b0b12adc7119a13eaacef8d097499" kindref="member">SetGeomOrientationEuler</ref>(dGeomID<sp/>g,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>p,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>y,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>r)</highlight></codeline>
<codeline lineno="1366"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/>dMatrix3<sp/>R;</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/>dRFromEulerAngles(R,<sp/>p,<sp/>y,<sp/>r);</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/>dGeomSetRotation(g,<sp/>R);</highlight></codeline>
<codeline lineno="1370"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1372"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1373"><highlight class="comment"><sp/>*<sp/>@brief<sp/>create<sp/>a<sp/>rotor<sp/>PID<sp/>helper</highlight></codeline>
<codeline lineno="1374"><highlight class="comment"><sp/>*<sp/>@param<sp/>p<sp/>proportional<sp/>value<sp/>for<sp/>the<sp/>PID</highlight></codeline>
<codeline lineno="1375"><highlight class="comment"><sp/>*<sp/>@param<sp/>i<sp/>integral<sp/>value</highlight></codeline>
<codeline lineno="1376"><highlight class="comment"><sp/>*<sp/>@param<sp/>d<sp/>derivative</highlight></codeline>
<codeline lineno="1377"><highlight class="comment"><sp/>*<sp/>@param<sp/>lo<sp/>the<sp/>low<sp/>stop</highlight></codeline>
<codeline lineno="1378"><highlight class="comment"><sp/>*<sp/>@param<sp/>hi<sp/>the<sp/>high<sp/>stop</highlight></codeline>
<codeline lineno="1379"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1380"><highlight class="comment"><sp/>*<sp/>@note<sp/>a<sp/>rotorPID<sp/>contains<sp/>a<sp/>targetAngle,<sp/>set<sp/>this<sp/>for<sp/>your<sp/>desired<sp/></highlight></codeline>
<codeline lineno="1381"><highlight class="comment"><sp/>*<sp/>rotor<sp/>angle</highlight></codeline>
<codeline lineno="1382"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1383"><highlight class="comment"><sp/>*<sp/>@note<sp/>tuning<sp/>a<sp/>PID<sp/>can<sp/>be<sp/>a<sp/>bit<sp/>of<sp/>a<sp/>dark<sp/>art!<sp/></highlight></codeline>
<codeline lineno="1384"><highlight class="comment"><sp/>*<sp/>I<sp/>recommend<sp/>looking<sp/>at<sp/>https://pidexplained.com/how-to-tune-a-pid-controller/</highlight></codeline>
<codeline lineno="1385"><highlight class="comment"><sp/>*<sp/>and<sp/>the<sp/>example</highlight></codeline>
<codeline lineno="1386"><highlight class="comment"><sp/>*<sp/>&lt;a<sp/>href=&quot;pidJoint_8c_source.html&quot;&gt;pidJoint.c&lt;/a&gt;</highlight></codeline>
<codeline lineno="1387"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="1389"><highlight class="normal"><sp/></highlight><highlight class="comment">//<sp/>file:///home/chris/development/RayLibOdeMech/docs/doxygen/html/pidJoint_8c_source.html</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1390" refid="raylibODE_8c_1a51c7fa5bc9007621b52ed19bceadc142" refkind="member"><highlight class="normal"><ref refid="structRotorPID" kindref="compound">RotorPID</ref><sp/><ref refid="raylibODE_8c_1a51c7fa5bc9007621b52ed19bceadc142" kindref="member">CreateRotorPID</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>p,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>i,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>d,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>lo,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>hi)<sp/></highlight></codeline>
<codeline lineno="1391"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structRotorPID" kindref="compound">RotorPID</ref><sp/>pid<sp/>=<sp/>{0};</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/>pid.<ref refid="structRotorPID_1acfaa26f8f2115c47a4db93781231e406" kindref="member">Kp</ref><sp/>=<sp/>p;</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/>pid.<ref refid="structRotorPID_1a2d5ed52841172c4d8b866a298d664414" kindref="member">Ki</ref><sp/>=<sp/>i;</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/>pid.<ref refid="structRotorPID_1ada89e789ba855cf729f920fc1c1bb929" kindref="member">Kd</ref><sp/>=<sp/>d;</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/>pid.<ref refid="structRotorPID_1ab110cb5e184bcd5145e6ed3b89e2cf82" kindref="member">antiWindup</ref><sp/>=<sp/>10.0f;<sp/></highlight><highlight class="comment">//<sp/>Prevents<sp/>the<sp/>motor<sp/>from<sp/>&quot;over-charging&quot;<sp/>if<sp/>stuck</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/>pid.<ref refid="structRotorPID_1af2941ac4e0f3caf388abbf8c6a3fdba8" kindref="member">lo</ref><sp/>=<sp/>lo;</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/>pid.<ref refid="structRotorPID_1abb76a89765c6b44add67c2a0bc21ef96" kindref="member">hi</ref><sp/>=<sp/>hi;</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"></highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pid;</highlight></codeline>
<codeline lineno="1401"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"></highlight><highlight class="comment"></highlight></codeline>
<codeline lineno="1403"><highlight class="comment">/**</highlight></codeline>
<codeline lineno="1404"><highlight class="comment"><sp/>*<sp/>@brief<sp/>update<sp/>rotor<sp/>PID</highlight></codeline>
<codeline lineno="1405"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1406"><highlight class="comment"><sp/>*<sp/>@param<sp/>pid<sp/>the<sp/>RotorPID<sp/>to<sp/>update</highlight></codeline>
<codeline lineno="1407"><highlight class="comment"><sp/>*<sp/>@param<sp/>joint<sp/>the<sp/>rotor<sp/>joint<sp/>to<sp/>align<sp/>with<sp/>the<sp/>targetAngle<sp/>of<sp/>the<sp/>RotorPID</highlight></codeline>
<codeline lineno="1408"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="1409"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1410" refid="raylibODE_8c_1a3c235bbe76330e3669fb881394ab8767" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="raylibODE_8c_1a3c235bbe76330e3669fb881394ab8767" kindref="member">UpdateRotorPID</ref>(<ref refid="structRotorPID" kindref="compound">RotorPID</ref>*<sp/>pid,<sp/>dJointID<sp/>joint)<sp/></highlight></codeline>
<codeline lineno="1411"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pid-&gt;<ref refid="structRotorPID_1a7ea2978fd04b56af0f7adc741b9bd69a" kindref="member">targetAngle</ref><sp/>&lt;<sp/>pid-&gt;<ref refid="structRotorPID_1af2941ac4e0f3caf388abbf8c6a3fdba8" kindref="member">lo</ref>)<sp/>pid-&gt;<ref refid="structRotorPID_1a7ea2978fd04b56af0f7adc741b9bd69a" kindref="member">targetAngle</ref><sp/>=<sp/>pid-&gt;<ref refid="structRotorPID_1af2941ac4e0f3caf388abbf8c6a3fdba8" kindref="member">lo</ref>;</highlight></codeline>
<codeline lineno="1413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pid-&gt;<ref refid="structRotorPID_1a7ea2978fd04b56af0f7adc741b9bd69a" kindref="member">targetAngle</ref><sp/>&gt;<sp/>pid-&gt;<ref refid="structRotorPID_1abb76a89765c6b44add67c2a0bc21ef96" kindref="member">hi</ref>)<sp/>pid-&gt;<ref refid="structRotorPID_1a7ea2978fd04b56af0f7adc741b9bd69a" kindref="member">targetAngle</ref><sp/>=<sp/>pid-&gt;<ref refid="structRotorPID_1abb76a89765c6b44add67c2a0bc21ef96" kindref="member">hi</ref>;</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>currentAngle<sp/>=<sp/>dJointGetHingeAngle(joint);</highlight></codeline>
<codeline lineno="1415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>error<sp/>=<sp/>pid-&gt;<ref refid="structRotorPID_1a7ea2978fd04b56af0f7adc741b9bd69a" kindref="member">targetAngle</ref><sp/>-<sp/>currentAngle;</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(error<sp/>&gt;<sp/><sp/>PI)<sp/>error<sp/>-=<sp/>2.0f<sp/>*<sp/>PI;</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(error<sp/>&lt;<sp/>-PI)<sp/>error<sp/>+=<sp/>2.0f<sp/>*<sp/>PI;</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"></highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Integral<sp/>term<sp/>with<sp/>Anti-Windup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/>pid-&gt;<ref refid="structRotorPID_1acb043fd74456df5ff732c47777e734a8" kindref="member">integral</ref><sp/>+=<sp/>error;</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(pid-&gt;integral<sp/>&gt;<sp/><sp/>pid-&gt;antiWindup)<sp/>pid-&gt;integral<sp/>=<sp/><sp/>pid-&gt;antiWindup;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//if<sp/>(pid-&gt;integral<sp/>&lt;<sp/>-pid-&gt;antiWindup)<sp/>pid-&gt;integral<sp/>=<sp/>-pid-&gt;antiWindup;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1424"><highlight class="normal"></highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Derivative<sp/>term</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>derivative<sp/>=<sp/>(error<sp/>-<sp/>pid-&gt;<ref refid="structRotorPID_1afdb6e3aebf5da57db2d769fc8a74a05b" kindref="member">lastError</ref>);</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/>pid-&gt;<ref refid="structRotorPID_1afdb6e3aebf5da57db2d769fc8a74a05b" kindref="member">lastError</ref><sp/>=<sp/>error;</highlight></codeline>
<codeline lineno="1428"><highlight class="normal"></highlight></codeline>
<codeline lineno="1429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Calculate<sp/>Output<sp/>(Velocity)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>outputVel<sp/>=<sp/>(pid-&gt;<ref refid="structRotorPID_1acfaa26f8f2115c47a4db93781231e406" kindref="member">Kp</ref><sp/>*<sp/>error)<sp/>+<sp/></highlight></codeline>
<codeline lineno="1431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pid-&gt;<ref refid="structRotorPID_1a2d5ed52841172c4d8b866a298d664414" kindref="member">Ki</ref><sp/>*<sp/>pid-&gt;<ref refid="structRotorPID_1acb043fd74456df5ff732c47777e734a8" kindref="member">integral</ref>)<sp/>+<sp/></highlight></codeline>
<codeline lineno="1432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(pid-&gt;<ref refid="structRotorPID_1ada89e789ba855cf729f920fc1c1bb929" kindref="member">Kd</ref><sp/>*<sp/>derivative);</highlight></codeline>
<codeline lineno="1433"><highlight class="normal"><sp/><sp/><sp/><sp/>dJointSetHingeParam(joint,<sp/>dParamVel,<sp/>outputVel);</highlight></codeline>
<codeline lineno="1434"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1435"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="raylibODE.c"/>
  </compounddef>
</doxygen>
