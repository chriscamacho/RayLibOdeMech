\doxysection{ragdoll.\+c File Reference}
\hypertarget{ragdoll_8c}{}\label{ragdoll_8c}\index{ragdoll.c@{ragdoll.c}}


Ragdoll physics simulation implementation.  


{\ttfamily \#include "{}raylib\+ODE.\+h"{}}\newline
{\ttfamily \#include "{}ragdoll.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
Vector3 \mbox{\hyperlink{ragdoll_8c_ae5044c65f2f6758624a2182347b6d945}{Get\+Ragdoll\+Spawn\+Position}} (void)
\begin{DoxyCompactList}\small\item\em Get a random spawn position for ragdolls. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{ragdoll_8c_a280e6f0bf4084257707b2e69342bfa61}{Create\+Ragdoll}} (struct \mbox{\hyperlink{structPhysicsContext}{Physics\+Context}} \texorpdfstring{$\ast$}{*}pctx, struct \mbox{\hyperlink{structGraphicsContext}{Graphics\+Context}} \texorpdfstring{$\ast$}{*}ctx, Vector3 position)
\begin{DoxyCompactList}\small\item\em Create a ragdoll physics body. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ragdoll_8c_aabb2deb6a54bb247892b4a5fabd6449c}{Update\+Ragdoll\+Motors}} (\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*}ragdoll, float \texorpdfstring{$\ast$}{*}motor\+Forces)
\begin{DoxyCompactList}\small\item\em Update ragdoll joint motors. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ragdoll_8c_a15a95f2545a01b96973e728cdd451bf9}{Draw\+Ragdoll}} (\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*}ragdoll, struct \mbox{\hyperlink{structGraphicsContext}{Graphics\+Context}} \texorpdfstring{$\ast$}{*}ctx)
\begin{DoxyCompactList}\small\item\em Render a ragdoll to the screen. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ragdoll_8c_ab17f6d5cfecd7a8573b900f78460c816}{Free\+Ragdoll}} (\mbox{\hyperlink{structPhysicsContext}{Physics\+Context}} \texorpdfstring{$\ast$}{*}ctx, \mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*}ragdoll)
\begin{DoxyCompactList}\small\item\em Free a ragdoll and all its resources. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Ragdoll physics simulation implementation. 

This file provides a complete ragdoll (humanoid) physics simulation using ODE\textquotesingle{}s joint system. The ragdoll consists of multiple body parts connected by hinge and universal joints, allowing for realistic human-\/like movement and posing.

\begin{DoxyAuthor}{Author}
Chris Camacho (codifies -\/ \href{http://bedroomcoders.co.uk/}{\texttt{http\+://bedroomcoders.\+co.\+uk/}}) 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2026
\end{DoxyDate}
\hypertarget{ragdoll_8c_ragdoll_structure}{}\doxysubsection{\texorpdfstring{Ragdoll Structure}{Ragdoll Structure}}\label{ragdoll_8c_ragdoll_structure}
Body parts (10 total)\+:
\begin{DoxyItemize}
\item Head (sphere)
\item Torso (box)
\item Left/\+Right Upper Arm (capsule)
\item Left/\+Right Lower Arm (capsule)
\item Left/\+Right Upper Leg (capsule)
\item Left/\+Right Lower Leg (capsule)
\end{DoxyItemize}

Joints (9 total)\+:
\begin{DoxyItemize}
\item Neck (hinge)
\item Left/\+Right Shoulder (universal)
\item Left/\+Right Elbow (hinge)
\item Left/\+Right Hip (universal)
\item Left/\+Right Knee (hinge)
\end{DoxyItemize}\hypertarget{ragdoll_8c_motor_control}{}\doxysubsection{\texorpdfstring{Motor Control}{Motor Control}}\label{ragdoll_8c_motor_control}
The ragdoll supports motor control on all joints, making it suitable for neural network or reinforcement learning control. Use \doxylink{ragdoll_8c_aabb2deb6a54bb247892b4a5fabd6449c}{Update\+Ragdoll\+Motors()} to apply forces to joints. 

Definition in file \mbox{\hyperlink{ragdoll_8c_source}{ragdoll.\+c}}.



\label{doc-func-members}
\Hypertarget{ragdoll_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{ragdoll_8c_a280e6f0bf4084257707b2e69342bfa61}\index{ragdoll.c@{ragdoll.c}!CreateRagdoll@{CreateRagdoll}}
\index{CreateRagdoll@{CreateRagdoll}!ragdoll.c@{ragdoll.c}}
\doxysubsubsection{\texorpdfstring{CreateRagdoll()}{CreateRagdoll()}}
{\footnotesize\ttfamily \label{ragdoll_8c_a280e6f0bf4084257707b2e69342bfa61} 
\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*} Create\+Ragdoll (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structPhysicsContext}{Physics\+Context}} \texorpdfstring{$\ast$}{*}}]{pctx}{, }\item[{struct \mbox{\hyperlink{structGraphicsContext}{Graphics\+Context}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{Vector3}]{position}{}\end{DoxyParamCaption})}



Create a ragdoll physics body. 

Creates a complete humanoid ragdoll with articulated joints. The ragdoll is fully physics-\/simulated and can be used for character physics, death animations, or as a basis for reinforcement learning control.


\begin{DoxyParams}{Parameters}
{\em pctx} & Pointer to physics context \\
\hline
{\em ctx} & Pointer to graphics context \\
\hline
{\em position} & Initial position for the ragdoll \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to newly created \doxylink{structRagDoll}{Rag\+Doll} structure
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Bodies\+: 10 (head, torso, 2 upper arms, 2 lower arms, 2 upper legs, 2 lower legs) 

Joints\+: 9 (neck, shoulders, elbows, hips, knees) 

All bodies are registered with framework for rendering
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{structRagDoll}{Rag\+Doll} 

\doxylink{ragdoll_8c_aabb2deb6a54bb247892b4a5fabd6449c}{Update\+Ragdoll\+Motors} 

\doxylink{ragdoll_8c_a15a95f2545a01b96973e728cdd451bf9}{Draw\+Ragdoll} 

\doxylink{ragdoll_8c_ab17f6d5cfecd7a8573b900f78460c816}{Free\+Ragdoll} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{ragdolls_8c-example}{ragdolls.\+c}}.\end{Desc}


Definition at line \mbox{\hyperlink{ragdoll_8c_source_l00117}{117}} of file \mbox{\hyperlink{ragdoll_8c_source}{ragdoll.\+c}}.



References \mbox{\hyperlink{ragdoll_8h_source_l00035}{Rag\+Doll\+::bodies}}, \mbox{\hyperlink{raylibODE_8h_source_l00047}{entity\+::body}}, \mbox{\hyperlink{ragdoll_8h_source_l00039}{Rag\+Doll\+::body\+Count}}, \mbox{\hyperlink{raylibODE_8h_source_l00106}{Graphics\+Context\+::box\+Textures}}, \mbox{\hyperlink{clist_8c_source_l00047}{clist\+Add\+Node()}}, \mbox{\hyperlink{raylibODE_8c_source_l00642}{Create\+Geom\+Info()}}, \mbox{\hyperlink{raylibODE_8h_source_l00107}{Graphics\+Context\+::cylinder\+Textures}}, \mbox{\hyperlink{ragdoll_8h_source_l00036}{Rag\+Doll\+::geoms}}, \mbox{\hyperlink{ragdoll_8h_source_l00040}{Rag\+Doll\+::joint\+Count}}, \mbox{\hyperlink{ragdoll_8h_source_l00037}{Rag\+Doll\+::joints}}, \mbox{\hyperlink{ragdoll_8h_source_l00041}{Rag\+Doll\+::motor\+Count}}, \mbox{\hyperlink{ragdoll_8h_source_l00038}{Rag\+Doll\+::motors}}, \mbox{\hyperlink{raylibODE_8h_source_l00048}{entity\+::node}}, \mbox{\hyperlink{raylibODE_8h_source_l00121}{Physics\+Context\+::obj\+List}}, \mbox{\hyperlink{ragdoll_8h_source_l00056}{RAGDOLL\+\_\+\+BODY\+\_\+\+COUNT}}, \mbox{\hyperlink{ragdoll_8h_source_l00046}{RAGDOLL\+\_\+\+HEAD}}, \mbox{\hyperlink{ragdoll_8h_source_l00049}{RAGDOLL\+\_\+\+LEFT\+\_\+\+LOWER\+\_\+\+ARM}}, \mbox{\hyperlink{ragdoll_8h_source_l00053}{RAGDOLL\+\_\+\+LEFT\+\_\+\+LOWER\+\_\+\+LEG}}, \mbox{\hyperlink{ragdoll_8h_source_l00048}{RAGDOLL\+\_\+\+LEFT\+\_\+\+UPPER\+\_\+\+ARM}}, \mbox{\hyperlink{ragdoll_8h_source_l00052}{RAGDOLL\+\_\+\+LEFT\+\_\+\+UPPER\+\_\+\+LEG}}, \mbox{\hyperlink{ragdoll_8h_source_l00051}{RAGDOLL\+\_\+\+RIGHT\+\_\+\+LOWER\+\_\+\+ARM}}, \mbox{\hyperlink{ragdoll_8h_source_l00055}{RAGDOLL\+\_\+\+RIGHT\+\_\+\+LOWER\+\_\+\+LEG}}, \mbox{\hyperlink{ragdoll_8h_source_l00050}{RAGDOLL\+\_\+\+RIGHT\+\_\+\+UPPER\+\_\+\+ARM}}, \mbox{\hyperlink{ragdoll_8h_source_l00054}{RAGDOLL\+\_\+\+RIGHT\+\_\+\+UPPER\+\_\+\+LEG}}, \mbox{\hyperlink{ragdoll_8h_source_l00047}{RAGDOLL\+\_\+\+TORSO}}, \mbox{\hyperlink{raylibODE_8h_source_l00118}{Physics\+Context\+::space}}, \mbox{\hyperlink{raylibODE_8h_source_l00105}{Graphics\+Context\+::sphere\+Textures}}, and \mbox{\hyperlink{raylibODE_8h_source_l00117}{Physics\+Context\+::world}}.

\Hypertarget{ragdoll_8c_a15a95f2545a01b96973e728cdd451bf9}\index{ragdoll.c@{ragdoll.c}!DrawRagdoll@{DrawRagdoll}}
\index{DrawRagdoll@{DrawRagdoll}!ragdoll.c@{ragdoll.c}}
\doxysubsubsection{\texorpdfstring{DrawRagdoll()}{DrawRagdoll()}}
{\footnotesize\ttfamily \label{ragdoll_8c_a15a95f2545a01b96973e728cdd451bf9} 
void Draw\+Ragdoll (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*}}]{ragdoll}{, }\item[{struct \mbox{\hyperlink{structGraphicsContext}{Graphics\+Context}} \texorpdfstring{$\ast$}{*}}]{ctx}{}\end{DoxyParamCaption})}



Render a ragdoll to the screen. 

Renders all body parts of the ragdoll using the framework\textquotesingle{}s existing rendering system.


\begin{DoxyParams}{Parameters}
{\em ragdoll} & Pointer to the ragdoll structure \\
\hline
{\em ctx} & Pointer to the graphics context\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Uses the same draw\+Geom system as other physics bodies 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{ragdoll_8c_a280e6f0bf4084257707b2e69342bfa61}{Create\+Ragdoll} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{ragdoll_8c_source_l00454}{454}} of file \mbox{\hyperlink{ragdoll_8c_source}{ragdoll.\+c}}.



References \mbox{\hyperlink{ragdoll_8h_source_l00039}{Rag\+Doll\+::body\+Count}}, \mbox{\hyperlink{raylibODE_8c_source_l00795}{Draw\+Geom()}}, and \mbox{\hyperlink{ragdoll_8h_source_l00036}{Rag\+Doll\+::geoms}}.

\Hypertarget{ragdoll_8c_ab17f6d5cfecd7a8573b900f78460c816}\index{ragdoll.c@{ragdoll.c}!FreeRagdoll@{FreeRagdoll}}
\index{FreeRagdoll@{FreeRagdoll}!ragdoll.c@{ragdoll.c}}
\doxysubsubsection{\texorpdfstring{FreeRagdoll()}{FreeRagdoll()}}
{\footnotesize\ttfamily \label{ragdoll_8c_ab17f6d5cfecd7a8573b900f78460c816} 
void Free\+Ragdoll (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structPhysicsContext}{Physics\+Context}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*}}]{ragdoll}{}\end{DoxyParamCaption})}



Free a ragdoll and all its resources. 

Properly destroys all ODE bodies, geoms, joints, and motors associated with the ragdoll, and frees the wrapper structure.


\begin{DoxyParams}{Parameters}
{\em ctx} & Pointer to physics context \\
\hline
{\em ragdoll} & Pointer to the ragdoll structure to free\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Removes ragdoll from framework\textquotesingle{}s object list 

Frees all allocated memory for bodies, geoms, joints
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{ragdoll_8c_a280e6f0bf4084257707b2e69342bfa61}{Create\+Ragdoll} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{ragdolls_8c-example}{ragdolls.\+c}}.\end{Desc}


Definition at line \mbox{\hyperlink{ragdoll_8c_source_l00482}{482}} of file \mbox{\hyperlink{ragdoll_8c_source}{ragdoll.\+c}}.



References \mbox{\hyperlink{ragdoll_8h_source_l00035}{Rag\+Doll\+::bodies}}, \mbox{\hyperlink{ragdoll_8h_source_l00039}{Rag\+Doll\+::body\+Count}}, \mbox{\hyperlink{clist_8c_source_l00146}{clist\+Delete\+Node()}}, \mbox{\hyperlink{raylibODE_8c_source_l00730}{Free\+Body\+And\+Geoms()}}, \mbox{\hyperlink{ragdoll_8h_source_l00036}{Rag\+Doll\+::geoms}}, \mbox{\hyperlink{ragdoll_8h_source_l00040}{Rag\+Doll\+::joint\+Count}}, \mbox{\hyperlink{ragdoll_8h_source_l00037}{Rag\+Doll\+::joints}}, \mbox{\hyperlink{ragdoll_8h_source_l00041}{Rag\+Doll\+::motor\+Count}}, \mbox{\hyperlink{ragdoll_8h_source_l00038}{Rag\+Doll\+::motors}}, \mbox{\hyperlink{raylibODE_8h_source_l00048}{entity\+::node}}, and \mbox{\hyperlink{raylibODE_8h_source_l00121}{Physics\+Context\+::obj\+List}}.

\Hypertarget{ragdoll_8c_ae5044c65f2f6758624a2182347b6d945}\index{ragdoll.c@{ragdoll.c}!GetRagdollSpawnPosition@{GetRagdollSpawnPosition}}
\index{GetRagdollSpawnPosition@{GetRagdollSpawnPosition}!ragdoll.c@{ragdoll.c}}
\doxysubsubsection{\texorpdfstring{GetRagdollSpawnPosition()}{GetRagdollSpawnPosition()}}
{\footnotesize\ttfamily \label{ragdoll_8c_ae5044c65f2f6758624a2182347b6d945} 
Vector3 Get\+Ragdoll\+Spawn\+Position (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Get a random spawn position for ragdolls. 

Generates a random position within the configured spawn volume for ragdoll objects. This helps spread out multiple ragdolls when they are created.

\begin{DoxyReturn}{Returns}
Random Vector3 position within spawn bounds
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Spawn bounds are defined by RAGDOLL\+\_\+\+SPAWN\+\_\+\texorpdfstring{$\ast$}{*} constants 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{ragdoll_8h_a62ae838f84574f00dc0b59766651ae8d}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+CENTER\+\_\+X} 

\doxylink{ragdoll_8h_ad49513db09a56b09244fe175a4433ae6}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+CENTER\+\_\+Z} 

\doxylink{ragdoll_8h_a5152c4c82163811cbd050b43559c8a60}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+HALF\+\_\+\+EXTENT} 

\doxylink{ragdoll_8h_ab3762f5ad156fe8e366ff6f85bca6ebc}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+MIN\+\_\+Y} 

\doxylink{ragdoll_8h_a2fc164e6dd8fb737a26d1ed64bce2650}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+MAX\+\_\+Y} 
\end{DoxySeeAlso}
\begin{Desc}
\item[Examples]\par
\mbox{\hyperlink{ragdolls_8c-example}{ragdolls.\+c}}.\end{Desc}


Definition at line \mbox{\hyperlink{ragdoll_8c_source_l00081}{81}} of file \mbox{\hyperlink{ragdoll_8c_source}{ragdoll.\+c}}.



References \mbox{\hyperlink{ragdoll_8h_source_l00072}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+CENTER\+\_\+X}}, \mbox{\hyperlink{ragdoll_8h_source_l00073}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+CENTER\+\_\+Z}}, \mbox{\hyperlink{ragdoll_8h_source_l00074}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+HALF\+\_\+\+EXTENT}}, \mbox{\hyperlink{ragdoll_8h_source_l00076}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+MAX\+\_\+Y}}, \mbox{\hyperlink{ragdoll_8h_source_l00075}{RAGDOLL\+\_\+\+SPAWN\+\_\+\+MIN\+\_\+Y}}, and \mbox{\hyperlink{raylibODE_8c_source_l00218}{rndf()}}.

\Hypertarget{ragdoll_8c_aabb2deb6a54bb247892b4a5fabd6449c}\index{ragdoll.c@{ragdoll.c}!UpdateRagdollMotors@{UpdateRagdollMotors}}
\index{UpdateRagdollMotors@{UpdateRagdollMotors}!ragdoll.c@{ragdoll.c}}
\doxysubsubsection{\texorpdfstring{UpdateRagdollMotors()}{UpdateRagdollMotors()}}
{\footnotesize\ttfamily \label{ragdoll_8c_aabb2deb6a54bb247892b4a5fabd6449c} 
void Update\+Ragdoll\+Motors (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structRagDoll}{Rag\+Doll}} \texorpdfstring{$\ast$}{*}}]{ragdoll}{, }\item[{float \texorpdfstring{$\ast$}{*}}]{motor\+Forces}{}\end{DoxyParamCaption})}



Update ragdoll joint motors. 

Applies motor forces to the ragdoll\textquotesingle{}s joints for control. This is useful for neural network or reinforcement learning control of the ragdoll.


\begin{DoxyParams}{Parameters}
{\em ragdoll} & Pointer to the ragdoll structure \\
\hline
{\em motor\+Forces} & Array of motor force values (one per joint)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Array should have ragdoll-\/\texorpdfstring{$>$}{>}joint\+Count elements for hinge joints 

For universal joints, uses ragdoll-\/\texorpdfstring{$>$}{>}joint\+Count \texorpdfstring{$\ast$}{*} 2 elements 

Force of 0 disables the motor for that joint
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{ragdoll_8c_a280e6f0bf4084257707b2e69342bfa61}{Create\+Ragdoll} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{ragdoll_8c_source_l00416}{416}} of file \mbox{\hyperlink{ragdoll_8c_source}{ragdoll.\+c}}.



References \mbox{\hyperlink{ragdoll_8h_source_l00040}{Rag\+Doll\+::joint\+Count}}, and \mbox{\hyperlink{ragdoll_8h_source_l00037}{Rag\+Doll\+::joints}}.

