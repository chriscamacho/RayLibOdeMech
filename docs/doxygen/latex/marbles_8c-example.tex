\doxysection{marbles.\+c}
\hypertarget{marbles_8c-example}{}\label{marbles_8c-example}\begin{DoxyParagraph}{}
Marble run, uses multi pistons to create marble lifts
\end{DoxyParagraph}

\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{\ *\ Copyright\ (c)\ 2021-\/2026\ Chris\ Camacho\ (codifies\ -\/\ \ http://bedroomcoders.co.uk/)}}
\DoxyCodeLine{\textcolor{comment}{\ *}}
\DoxyCodeLine{\textcolor{comment}{\ *\ Permission\ is\ hereby\ granted,\ free\ of\ charge,\ to\ any\ person\ obtaining\ a\ copy}}
\DoxyCodeLine{\textcolor{comment}{\ *\ of\ this\ software\ and\ associated\ documentation\ files\ (the\ "{}Software"{}),\ to\ deal}}
\DoxyCodeLine{\textcolor{comment}{\ *\ in\ the\ Software\ without\ restriction,\ including\ without\ limitation\ the\ rights}}
\DoxyCodeLine{\textcolor{comment}{\ *\ to\ use,\ copy,\ modify,\ merge,\ publish,\ distribute,\ sublicense,\ and/or\ sell}}
\DoxyCodeLine{\textcolor{comment}{\ *\ copies\ of\ the\ Software,\ and\ to\ permit\ persons\ to\ whom\ the\ Software\ is}}
\DoxyCodeLine{\textcolor{comment}{\ *\ furnished\ to\ do\ so,\ subject\ to\ the\ following\ conditions:}}
\DoxyCodeLine{\textcolor{comment}{\ *}}
\DoxyCodeLine{\textcolor{comment}{\ *\ The\ above\ copyright\ notice\ and\ this\ permission\ notice\ shall\ be\ included\ in}}
\DoxyCodeLine{\textcolor{comment}{\ *\ all\ copies\ or\ substantial\ portions\ of\ the\ Software.}}
\DoxyCodeLine{\textcolor{comment}{\ *}}
\DoxyCodeLine{\textcolor{comment}{\ *\ THE\ SOFTWARE\ IS\ PROVIDED\ "{}AS\ IS"{},\ WITHOUT\ WARRANTY\ OF\ ANY\ KIND,\ EXPRESS\ OR}}
\DoxyCodeLine{\textcolor{comment}{\ *\ IMPLIED,\ INCLUDING\ BUT\ NOT\ LIMITED\ TO\ THE\ WARRANTIES\ OF\ MERCHANTABILITY,}}
\DoxyCodeLine{\textcolor{comment}{\ *\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE\ AND\ NONINFRINGEMENT.\ IN\ NO\ EVENT\ SHALL\ THE}}
\DoxyCodeLine{\textcolor{comment}{\ *\ AUTHORS\ OR\ COPYRIGHT\ HOLDERS\ BE\ LIABLE\ FOR\ ANY\ CLAIM,\ DAMAGES\ OR\ OTHER}}
\DoxyCodeLine{\textcolor{comment}{\ *\ LIABILITY,\ WHETHER\ IN\ AN\ ACTION\ OF\ CONTRACT,\ TORT\ OR\ OTHERWISE,\ ARISING\ FROM,}}
\DoxyCodeLine{\textcolor{comment}{\ *\ OUT\ OF\ OR\ IN\ CONNECTION\ WITH\ THE\ SOFTWARE\ OR\ THE\ USE\ OR\ OTHER\ DEALINGS\ IN\ THE}}
\DoxyCodeLine{\textcolor{comment}{\ *\ SOFTWARE.}}
\DoxyCodeLine{\textcolor{comment}{\ *}}
\DoxyCodeLine{\textcolor{comment}{\ */}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{raylibODE_8h}{raylibODE.h}}"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ instances\ slops,\ level\ sections\ and\ corners\ from\ an\ array\ of\ coordinates}}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{marbles_8c_abac6925a410fdbe4f0bc5bdf2d8f5ff6}{LoadLevel}}(\mbox{\hyperlink{structPhysicsContext}{PhysicsContext}}*\ physCtx,\ \mbox{\hyperlink{structGraphicsContext}{GraphicsContext}}*\ graphics);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ creates\ an\ array\ of\ multipistons,\ and\ other\ support\ geoms\ to}}
\DoxyCodeLine{\textcolor{comment}{//\ provide\ a\ marble\ lift}}
\DoxyCodeLine{\mbox{\hyperlink{structMultiPiston}{MultiPiston}}**\ \mbox{\hyperlink{marbles_8c_aff4f938c7169a18032e8016ba3a2ede6}{CreateLift}}(\mbox{\hyperlink{structPhysicsContext}{PhysicsContext}}*\ physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structGraphicsContext}{GraphicsContext}}*\ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3\ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ yaw,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ strength);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ screenWidth\ 1920/1.2}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ screenHeight\ 1080/1.2}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{const}\ \mbox{\hyperlink{surface_8h_a24dfdcf13ae4e2b7985a3868a1b5169f}{SurfaceType}}\ \mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}\ =\ \mbox{\hyperlink{surface_8h_a24dfdcf13ae4e2b7985a3868a1b5169fa51e788aafe32eaa17dbd2f8c91312ebe}{SURFACE\_WOOD}};}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ MAX\_PISTON\ 6}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}}\ \}\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ced}{MeshType}};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structLevelElement}{LevelElement}}\ \{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ced}{MeshType}}\ \mbox{\hyperlink{structLevelElement_a46c67baf96e2ae166a66fdc0c4fbc0b0}{type}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structLevelElement_a67e19f29936b4653f96bd92d7594fdfe}{gridX}};\ \ \ \ \textcolor{comment}{//\ Will\ be\ multiplied\ by\ 2.0}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structLevelElement_a3ce9993b2d632fea668910a38133d900}{gridY}};\ \ \ \ \textcolor{comment}{//\ Will\ be\ multiplied\ by\ 0.55}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structLevelElement_ac63ed2f7a3634b640da0cdb56dca1b98}{gridZ}};\ \ \ \ \textcolor{comment}{//\ Will\ be\ multiplied\ by\ 2.0}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structLevelElement_a6e25bcc9e5e5dba96caa47c85c17d9b0}{angle}};\ \ \textcolor{comment}{//\ Rotation\ in\ radians\ (e.g.,\ M\_PI,\ -\/M\_PI/2)}}
\DoxyCodeLine{\}\ \mbox{\hyperlink{structLevelElement}{LevelElement}};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ Define\ the\ level\ layout}}
\DoxyCodeLine{\mbox{\hyperlink{structLevelElement}{LevelElement}}\ \mbox{\hyperlink{marbles_8c_a577686ba60ae8772f0078a474d3aff97}{levelData}}[]\ =\ \{}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ \ 0,\ 9,\ 0,\ 0.0f\ \},\ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ \ \ \ 1,\ 8,\ 0,\ 0.0f\ \},\ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}}\ ,\ \ 2,\ 7,\ 0,\ 0.0f\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ 3,\ 6,\ 0,\ 0.0f\ \},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ 4,\ 5,\ 0,\ M\_PI\ \},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ \ 4,\ 5,\ 1,\ -\/M\_PI/2\ \},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ 4,\ 4,\ 2,\ 0.0f\ \},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ 5,\ 4,\ 2,\ 0.0f\ \},\ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ 6,\ 4,\ 2,\ M\_PI/2\ \},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ \ 6,\ 4,\ 1,\ M\_PI/2\ \},\ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ \ 6,\ 3,\ 0,\ M\_PI/2\ \},\ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ 6,\ 2,\ -\/1,\ M\_PI\ \},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ 5,\ 2,\ -\/1,\ -\/M\_PI/2\},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ \ 5,\ 2,\ 0,\ -\/M\_PI/2\ \},\ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ \ 5,\ 1,\ 1,\ -\/M\_PI/2\ \},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ 5,\ 0,\ 2,\ -\/M\_PI/2\ \},\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ 5,\ -\/1,\ 3,\ -\/M\_PI/2\ \},\ \ \ \ \ \ \ \ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ after\ 1st\ lift}}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ 5,\ 6,\ 9,\ -\/M\_PI/2\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ 5,\ 5,\ 10,\ M\_PI/2\},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ 4,\ 5,\ 10,\ M\_PI\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ \ \ \ \ 3,\ 4,\ 10,\ M\_PI\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ 2,\ 4,\ 10,\ 0.0f\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ 1,\ 4,\ 10,\ 0.0f\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ 0,\ 4,\ 10,\ 0.0f\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/1,\ 4,\ 10,\ 0.0f\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ \ \ -\/2,\ 4,\ 10,\ 0\},}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ \ \ -\/2,\ 4,\ 9,\ M\_PI/2\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 3,\ 8,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 3,\ 7,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 3,\ 6,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/2,\ 3,\ 5,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 2,\ 4,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 2,\ 3,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 2,\ 2,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/2,\ 2,\ 1,\ M\_PI/2\ \},\ \ \ }
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ after\ second\ lift}}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/2,\ 9,\ -\/5,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/2,\ 8,\ -\/6,\ M\_PI/2\ \},\ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ -\/2,\ 8,\ -\/7,\ -\/M\_PI/2\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/1,\ 8,\ -\/7,\ 0\},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ 0,\ 8,\ -\/7,\ M\_PI\},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ 0,\ 8,\ -\/6,\ -\/M\_PI/2\ \},\ \ \ }
\DoxyCodeLine{\ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ after\ third\ lift}}
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ 0,\ 15,\ 0,\ -\/M\_PI/2\},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ 0,\ 14,\ 1,\ M\_PI/2\},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ 0,\ 14,\ 2,\ M\_PI/2\},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/1,\ 14,\ 2,\ M\_PI\ \},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ -\/2,\ 13,\ 2,\ -\/M\_PI/2\},\ \ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ -\/2,\ 13,\ 3,\ 0\},\ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/1,\ 13,\ 3,\ 0\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ 0,\ 12,\ 3,\ M\_PI/2\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ 0,\ 12,\ 2,\ M\_PI\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/1,\ 12,\ 2,\ M\_PI\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ -\/2,\ 11,\ 2,\ 0\},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}},\ -\/2,\ 11,\ 1,\ M\_PI/2\ \},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}},\ -\/2,\ 10,\ 0,\ -\/M\_PI/2\},\ \ }
\DoxyCodeLine{\ \ \ \ \{\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}},\ -\/1,\ 10,\ 0,0\},\ \ }
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{/***********************************************************************}}
\DoxyCodeLine{\textcolor{comment}{\ *\ main\ !}}
\DoxyCodeLine{\textcolor{comment}{\ **********************************************************************/}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{arm_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ init}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structPhysicsContext}{PhysicsContext}}*\ physCtx\ =\ \mbox{\hyperlink{init_8c_a57d526245eb2f059fac1e6bb3f64ae42}{CreatePhysics}}();}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structGraphicsContext}{GraphicsContext}}*\ graphics\ =\ \mbox{\hyperlink{init_8c_a0c011796e9f74e7eb4b5bb26305193f9}{CreateGraphics}}(\mbox{\hyperlink{arm_8c_a76da26d519b3a4158847daa8783a7a5b}{screenWidth}},\ \mbox{\hyperlink{arm_8c_a8c472bd07ea66dbb884992785271e1d1}{screenHeight}},\ \textcolor{stringliteral}{"{}Raylib\ and\ OpenDE\ Sandbox"{}});}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{exampleCamera_8c_af155bf31f5a69e64716e1eb1a010f647}{SetupCamera}}(graphics);}
\DoxyCodeLine{\ \ \ \ graphics-\/>\mbox{\hyperlink{structGraphicsContext_a67da4b710a791d954415259ae540976c}{camera}}.position\ =\ (Vector3)\{0.f,5.f,8.f\};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{exampleCamera_8c_aaadc2473185a23c67ec11371dd33d09e}{SetCameraYaw}}(M\_PI/4);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ Vector3\ dropPoint\ =\ (Vector3)\{0.f,12.f,0.f\};}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{marbles_8c_abac6925a410fdbe4f0bc5bdf2d8f5ff6}{LoadLevel}}(physCtx,graphics);}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structMultiPiston}{MultiPiston}}**\ lift1\ =\ \mbox{\hyperlink{marbles_8c_aff4f938c7169a18032e8016ba3a2ede6}{CreateLift}}(physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{0.f,\ 0.4f,\ 0.0f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1000.0f);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structMultiPiston}{MultiPiston}}**\ lift2\ =\ \mbox{\hyperlink{marbles_8c_aff4f938c7169a18032e8016ba3a2ede6}{CreateLift}}(physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{6.f,\ 4.f,\ 8.f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ PI,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1000.0f);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structMultiPiston}{MultiPiston}}**\ lift3\ =\ \mbox{\hyperlink{marbles_8c_aff4f938c7169a18032e8016ba3a2ede6}{CreateLift}}(physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{-\/10.f,\ 11.f,\ -\/18.f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1000.0f);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{gravity_8c_abaf7d77bd2fc7eb6125fa605bd645b67}{frameCount}}\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ released\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ maxRelesed\ =\ 16;}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ ballSize\ =\ .6f;}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}\ (!WindowShouldClose())}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ i=0;\ i\ <\ \mbox{\hyperlink{marbles_8c_a0b8b9c89bad94e57bcb490bb29704e00}{MAX\_PISTON}};\ i++)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ offset\ =\ 0.f;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ every\ other\ piston\ is\ 180\ degrees\ out\ of\ phase}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ \%\ 2\ ==\ 0)\ offset\ =\ M\_PI;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a801a17c097329ca4d55d35f1c5ae7b5a}{SetMultiPistonVelocity}}(lift1[i],\ sin(((\textcolor{keywordtype}{float})\mbox{\hyperlink{gravity_8c_abaf7d77bd2fc7eb6125fa605bd645b67}{frameCount}})/60.0f+offset));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a801a17c097329ca4d55d35f1c5ae7b5a}{SetMultiPistonVelocity}}(lift2[i],\ sin(((\textcolor{keywordtype}{float})\mbox{\hyperlink{gravity_8c_abaf7d77bd2fc7eb6125fa605bd645b67}{frameCount}})/60.0f+offset));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a801a17c097329ca4d55d35f1c5ae7b5a}{SetMultiPistonVelocity}}(lift3[i],\ sin(((\textcolor{keywordtype}{float})\mbox{\hyperlink{gravity_8c_abaf7d77bd2fc7eb6125fa605bd645b67}{frameCount}})/60.0f+offset));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (released\ <\ maxRelesed)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{gravity_8c_abaf7d77bd2fc7eb6125fa605bd645b67}{frameCount}}\ \%\ 420\ ==\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structentity}{entity}}*\ e\ =\ \mbox{\hyperlink{raylibODE_8c_ad03521efcc05b3315d24f47d0eed52a6}{CreateSphere}}(physCtx,\ graphics,\ ballSize,\ dropPoint,\ Vector3Zero(),\ 1);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dBodySetAutoDisableFlag(e-\/>\mbox{\hyperlink{structentity_ada0e6866acb68b3f1e2bff5d70b2b760}{body}},\ 0);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgeomInfo}{geomInfo}}*\ gi\ =\ dGeomGetData(dBodyGetFirstGeom(e-\/>\mbox{\hyperlink{structentity_ada0e6866acb68b3f1e2bff5d70b2b760}{body}}));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>\mbox{\hyperlink{structgeomInfo_a8e530854793906e8d625e058ac7b616c}{surface}}\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{surface_8h_a24dfdcf13ae4e2b7985a3868a1b5169fa73cad190d8af3fc82d9ce3a4ce27e48d}{SURFACE\_METAL}}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ released++;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{gravity_8c_abaf7d77bd2fc7eb6125fa605bd645b67}{frameCount}}++;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{exampleCamera_8c_a577102dfa73642e5465f7d33ba01465e}{UpdateCameraControl}}(graphics);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_ad087bfe56f8c97e250f6dd5054fdf76e}{StepPhysics}}(physCtx);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8h_a9957c4c04b6e17b9b8fa99e68b94aa9a}{cnode\_t}}*\ node\ =\ physCtx-\/>\mbox{\hyperlink{structPhysicsContext_a9b8d81159eec734cb1b95c95203b7f50}{objList}}-\/>\mbox{\hyperlink{struct____clist_a87719175a9395449ee1db0221b39688a}{head}};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (node\ !=\ NULL)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structentity}{entity}}*\ ent\ =\ node-\/>\mbox{\hyperlink{struct____cnode_ae59520f57274323a159b336ee81f565b}{data}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ dBodyID\ bdy\ =\ ent-\/>\mbox{\hyperlink{structentity_ada0e6866acb68b3f1e2bff5d70b2b760}{body}};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8h_a9957c4c04b6e17b9b8fa99e68b94aa9a}{cnode\_t}}*\ next\ =\ node-\/>\mbox{\hyperlink{struct____cnode_aabe3d86831d46a328c4a8764acf66ac4}{next}};\ \textcolor{comment}{//\ get\ the\ next\ node\ now\ in\ case\ we\ delete\ this\ one}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ dReal*\ pos\ =\ dBodyGetPosition(bdy);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(pos[1]<-\/10)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_aa86cbb92909da330ef988d813fb7baed}{FreeEntity}}(physCtx,\ ent);\ \textcolor{comment}{//\ warning\ deletes\ global\ entity\ list\ entry,\ get\ your\ next\ node\ before\ doing\ this!}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//entity*\ e\ =\ CreateSphere(physCtx,\ graphics,\ 0.55,\ dropPoint,\ Vector3Zero(),\ 1);}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//dBodySetAutoDisableFlag(e-\/>body,\ 0);}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//geomInfo*\ gi\ =\ dGeomGetData(dBodyGetFirstGeom(e-\/>body));}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//gi-\/>surface\ =\ \&gSurfaces[SURFACE\_RUBBER];}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ released-\/-\/;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ node\ =\ next;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ drawing}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ BeginDrawing();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ClearBackground(BLACK);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ BeginMode3D(graphics-\/>\mbox{\hyperlink{structGraphicsContext_a67da4b710a791d954415259ae540976c}{camera}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_aa01114b518b93c528e9e85382ce46b4b}{DrawBodies}}(graphics,\ physCtx);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a1232d8000138fdc6d2f9741548a263aa}{DrawStatics}}(graphics,\ physCtx);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ EndMode3D();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ DrawText(\textcolor{stringliteral}{"{}Marbles!"{}},\ 10,\ 40,\ 20,\ RAYWHITE);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ EndDrawing();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{init_8c_aadcc246e22ab4be2dd926a25c5bc9bad}{FreePhysics}}(physCtx);}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{init_8c_a6569bf61ca03001b6fabedc21aff855a}{FreeGraphics}}(graphics);}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ TODO\ make\ this\ easier\ !}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{marbles_8c_a0b8b9c89bad94e57bcb490bb29704e00}{MAX\_PISTON}};\ i++)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a710981c5db9781e25b27318e8d56dfbb}{FreeMultiPiston}}(lift1[i]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a710981c5db9781e25b27318e8d56dfbb}{FreeMultiPiston}}(lift2[i]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a710981c5db9781e25b27318e8d56dfbb}{FreeMultiPiston}}(lift3[i]);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ free(lift1);}
\DoxyCodeLine{\ \ \ \ free(lift2);}
\DoxyCodeLine{\ \ \ \ free(lift3);}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ CloseWindow();}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{marbles_8c_abac6925a410fdbe4f0bc5bdf2d8f5ff6}{LoadLevel}}(\mbox{\hyperlink{structPhysicsContext}{PhysicsContext}}*\ physCtx,\ \mbox{\hyperlink{structGraphicsContext}{GraphicsContext}}*\ graphics)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ numElements\ =\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{marbles_8c_a577686ba60ae8772f0078a474d3aff97}{levelData}})\ /\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structLevelElement}{LevelElement}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ layerHeight\ =\ 1.17;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ numElements;\ i++)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{structLevelElement}{LevelElement}}\ e\ =\ \mbox{\hyperlink{marbles_8c_a577686ba60ae8772f0078a474d3aff97}{levelData}}[i];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ ea\ =\ e.\mbox{\hyperlink{structLevelElement_a6e25bcc9e5e5dba96caa47c85c17d9b0}{angle}}\ +\ M\_PI\_2;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}(e.\mbox{\hyperlink{structLevelElement_a46c67baf96e2ae166a66fdc0c4fbc0b0}{type}})\ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda99231f09ee2e40643fa578adc2095194}{SLOPE}}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (void)e;\ \textcolor{comment}{//\ workaround\ for\ c99\ decl\ after\ label}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ pAngle\ =\ 30.0f\ *\ (M\_PI\ /\ 180.0f);\ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (ea\ >\ M\_PI\ *\ 2.0f)\ ea\ -\/=\ M\_PI\ *\ 2.0f;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQuaternion\ q,q2,q3;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQFromAxisAndAngle\ (q3,\ 1,\ 0,\ 0,\ pAngle);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQFromAxisAndAngle\ (q2,\ 0,\ 1,\ 0,\ ea);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQMultiply0\ (q,\ q2,\ q3);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dMatrix4\ R;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQtoR(q,\ R);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ offX\ =\ 0.5f\ *\ cosf(ea);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ offZ\ =\ 0.5f\ *\ sinf(ea);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rail\ 1}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3\ pos\ =\ (Vector3)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)e.\mbox{\hyperlink{structLevelElement_a67e19f29936b4653f96bd92d7594fdfe}{gridX}}\ *\ 2.0f\ +\ offX,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{float})e.\mbox{\hyperlink{structLevelElement_a3ce9993b2d632fea668910a38133d900}{gridY}}\ *\ layerHeight\ -\/.2f,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)e.\mbox{\hyperlink{structLevelElement_ac63ed2f7a3634b640da0cdb56dca1b98}{gridZ}}\ *\ 2.0f\ -\/\ offZ\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomID\ dg\ =\ \mbox{\hyperlink{raylibODE_8c_a8928fb910d045f15136fd02999b7ffa6}{CreateCylinderGeom}}(physCtx,\ graphics,\ 0.1f,\ 2.4f,\ pos);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structgeomInfo}{geomInfo}}*\ gi\ =\ dGeomGetData(dg);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>\mbox{\hyperlink{structgeomInfo_a8e530854793906e8d625e058ac7b616c}{surface}}\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomSetRotation(dg,\ R);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Rail\ 2}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.x\ =\ (float)e.\mbox{\hyperlink{structLevelElement_a67e19f29936b4653f96bd92d7594fdfe}{gridX}}\ *\ 2.0f\ -\/\ offX;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.z\ =\ (float)e.\mbox{\hyperlink{structLevelElement_ac63ed2f7a3634b640da0cdb56dca1b98}{gridZ}}\ *\ 2.0f\ +\ offZ;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomID\ dg2\ =\ \mbox{\hyperlink{raylibODE_8c_a8928fb910d045f15136fd02999b7ffa6}{CreateCylinderGeom}}(physCtx,\ graphics,\ 0.1f,\ 2.4f,\ pos);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi\ =\ dGeomGetData(dg2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>surface\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomSetRotation(dg2,\ R);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ dg);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ dg2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda08707fd429345dc72f3d7b0cc867ef05}{STRAIGHT}}:\ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ offX\ =\ 0.5f\ *\ cosf(ea);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ offZ\ =\ 0.5f\ *\ sinf(ea);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos\ =\ (Vector3)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)e.\mbox{\hyperlink{structLevelElement_a67e19f29936b4653f96bd92d7594fdfe}{gridX}}\ *\ 2.0f\ +\ offX,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keywordtype}{float})e.\mbox{\hyperlink{structLevelElement_a3ce9993b2d632fea668910a38133d900}{gridY}}\ *\ layerHeight\ +0.4f,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (float)e.\mbox{\hyperlink{structLevelElement_ac63ed2f7a3634b640da0cdb56dca1b98}{gridZ}}\ *\ 2.0f\ -\/\ offZ\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dg\ =\ \mbox{\hyperlink{raylibODE_8c_a8928fb910d045f15136fd02999b7ffa6}{CreateCylinderGeom}}(physCtx,\ graphics,\ 0.1f,\ 2,\ pos);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi\ =\ dGeomGetData(dg);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>surface\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.x\ =\ (float)e.\mbox{\hyperlink{structLevelElement_a67e19f29936b4653f96bd92d7594fdfe}{gridX}}\ *\ 2.0f\ -\/\ offX;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.z\ =\ (float)e.\mbox{\hyperlink{structLevelElement_ac63ed2f7a3634b640da0cdb56dca1b98}{gridZ}}\ *\ 2.0f\ +\ offZ;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dg2\ =\ \mbox{\hyperlink{raylibODE_8c_a8928fb910d045f15136fd02999b7ffa6}{CreateCylinderGeom}}(physCtx,\ graphics,\ 0.1f,\ 2,\ pos);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi\ =\ dGeomGetData(dg2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>surface\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ always\ rotate\ as\ Z\ axis\ cylinders\ need\ extra\ half\ pi\ rotation}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQFromAxisAndAngle(q,\ 0,\ 1,\ 0,\ e.angle+M\_PI\_2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomSetQuaternion(dg,\ q);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomSetQuaternion(dg2,\ q);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ dg);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ dg2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{marbles_8c_a24f376ccef7a39450a2fcdbf5ba97ceda91c566614c1c87c437ab3d686408e9ea}{CORNER}}:\ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ was\ just\ a\ brain\ melt\ !}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ offX\ =\ (float)e.gridX\ *\ 2.0f;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ offZ\ =\ (float)e.gridZ\ *\ 2.0f;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Stick\ with\ the\ rot\ +\ M\_PI\_2\ that\ gave\ us\ consistency}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ rot\ =\ e.angle\ +\ M\_PI\_2;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ s\ =\ sinf(rot);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ c\ =\ cosf(rot);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ 3;\ j++)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ pAngle\ =\ (j\ *\ (M\_PI\_2\ /\ 3.0f))\ +\ (M\_PI\_2\ /\ 6.0f);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ lx1\ =\ -\/1.0f\ +\ 0.5f\ *\ cosf(pAngle);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ lz1\ =\ -\/1.0f\ +\ 0.5f\ *\ sinf(pAngle);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ lx2\ =\ -\/1.0f\ +\ 1.6f\ *\ cosf(pAngle);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ lz2\ =\ -\/1.0f\ +\ 1.6f\ *\ sinf(pAngle);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.x\ =\ offX\ -\/\ (lx1\ *\ c\ +\ lz1\ *\ s);\ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.y\ =\ (float)e.gridY\ *\ layerHeight\ +\ 0.4f;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.z\ =\ offZ\ -\/\ (lz1\ *\ c\ -\/\ lx1\ *\ s);\ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQFromAxisAndAngle(q,\ 0,\ 1,\ 0,\ rot\ -\/\ pAngle);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dQtoR(q,\ R);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Inner\ Rail}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dg\ =\ \mbox{\hyperlink{raylibODE_8c_a8928fb910d045f15136fd02999b7ffa6}{CreateCylinderGeom}}(physCtx,\ graphics,\ 0.1f,\ 0.261f,\ pos);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi\ =\ dGeomGetData(dg);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>surface\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomSetRotation(dg,\ R);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ dg);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.x\ =\ offX\ -\/\ (lx2\ *\ c\ +\ lz2\ *\ s);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.y\ +=\ 0.5f;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.z\ =\ offZ\ -\/\ (lz2\ *\ c\ -\/\ lx2\ *\ s);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Outer\ Rail}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dg2\ =\ \mbox{\hyperlink{raylibODE_8c_a8928fb910d045f15136fd02999b7ffa6}{CreateCylinderGeom}}(physCtx,\ graphics,\ 0.1f,\ 1.f,\ pos);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi\ =\ dGeomGetData(dg2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ gi-\/>surface\ =\ \&\mbox{\hyperlink{surface_8c_aa26755a73be46b483bf7098bcbf679dd}{gSurfaces}}[\mbox{\hyperlink{marbles_8c_aff0dc55dc38a2313b97620b8856f701a}{levelSurface}}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dGeomSetRotation(dg2,\ R);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ dg2);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{structMultiPiston}{MultiPiston}}**\ \mbox{\hyperlink{marbles_8c_aff4f938c7169a18032e8016ba3a2ede6}{CreateLift}}(\mbox{\hyperlink{structPhysicsContext}{PhysicsContext}}*\ physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structGraphicsContext}{GraphicsContext}}*\ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Vector3\ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ yaw,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ strength)}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ Vector3\ upAxis\ =\ (Vector3)\{0.f,\ 1.f,\ 0.f\};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Allocate\ multipiston\ array\ using\ raylib\ allocator}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structMultiPiston}{MultiPiston}}**\ mp\ =\ (\mbox{\hyperlink{structMultiPiston}{MultiPiston}}**)MemAlloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structMultiPiston}{MultiPiston}}*)\ *\ \mbox{\hyperlink{marbles_8c_a0b8b9c89bad94e57bcb490bb29704e00}{MAX\_PISTON}});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ dMatrix3\ R\_yaw;}
\DoxyCodeLine{\ \ \ \ dRFromAxisAndAngle(R\_yaw,\ 0,\ 1,\ 0,\ yaw);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Pistons\ }}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{marbles_8c_a0b8b9c89bad94e57bcb490bb29704e00}{MAX\_PISTON}};\ i++)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ localPos\ =\ (Vector3)\{10.f,\ -\/3.8f\ +\ i*1.4f,\ 7.6f\ +\ i*1.6f\};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ worldPos\ =\ Vector3Add(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Vector3RotateByAxisAngle(localPos,\ upAxis,\ yaw)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ axis\ =\ Vector3RotateByAxisAngle(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{1.f,0.f,0.f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ upAxis,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ yaw}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ mp[i]\ =\ \mbox{\hyperlink{raylibODE_8c_a8d2339918b2d47fcaea5c861ccfbc3d8}{CreateMultiPiston}}(physCtx,\ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ worldPos,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 3,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 2.0f,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 1.2f,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ strength);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_local;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_final;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dRFromEulerAngles(R\_local,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ M\_PI\_2,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (-\/M\_PI/16.f)\ *\ 7.f);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMultiply0(R\_final,\ R\_yaw,\ R\_local,\ 3,\ 3,\ 3);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dBodySetRotation(mp[i]-\/>sections[0]-\/>body,\ R\_final);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{raylibODE_8c_a57b8ac137f7e79fc8deb53b7ba410166}{PinEntityToWorld}}(physCtx,\ mp[i]-\/>sections[0]);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Lift\ End}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ localPos\ =\ (Vector3)\{10.f,\ 5.f,\ 16.7f\};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ worldPos\ =\ Vector3Add(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Vector3RotateByAxisAngle(localPos,\ upAxis,\ yaw)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dGeomID\ liftEnd\ =\ \mbox{\hyperlink{raylibODE_8c_a37e31d3074a98d5f5a40096dc9b342f7}{CreateBoxGeom}}(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{2.f,.1f,4.f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ worldPos}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_tilt;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_final;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dRFromAxisAndAngle(R\_tilt,\ 1,\ 0,\ 0,\ -\/(M\_PI/16.f)\ *\ 7.f);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMultiply0(R\_final,\ R\_yaw,\ R\_tilt,\ 3,\ 3,\ 3);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dGeomSetRotation(liftEnd,\ R\_final);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ liftEnd);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Rail\ 1}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ localPos\ =\ (Vector3)\{9.2f,\ 2.f,\ 12.f\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ worldPos\ =\ Vector3Add(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Vector3RotateByAxisAngle(localPos,\ upAxis,\ yaw)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dGeomID\ liftRail1\ =\ \mbox{\hyperlink{raylibODE_8c_a37e31d3074a98d5f5a40096dc9b342f7}{CreateBoxGeom}}(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{.1f,.8f,13.f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ worldPos}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_tilt;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_final;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dRFromAxisAndAngle(R\_tilt,\ 1,\ 0,\ 0,\ -\/(M\_PI/16.f)\ *\ 3.5f);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMultiply0(R\_final,\ R\_yaw,\ R\_tilt,\ 3,\ 3,\ 3);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dGeomSetRotation(liftRail1,\ R\_final);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ liftRail1);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ Rail\ 2}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ localPos\ =\ (Vector3)\{10.8f,\ 2.f,\ 12.f\};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Vector3\ worldPos\ =\ Vector3Add(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ position,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ Vector3RotateByAxisAngle(localPos,\ upAxis,\ yaw)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dGeomID\ liftRail2\ =\ \mbox{\hyperlink{raylibODE_8c_a37e31d3074a98d5f5a40096dc9b342f7}{CreateBoxGeom}}(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ physCtx,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ graphics,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (Vector3)\{.1f,.8f,13.f\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ worldPos}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_tilt;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMatrix3\ R\_final;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dRFromAxisAndAngle(R\_tilt,\ 1,\ 0,\ 0,\ -\/(M\_PI/16.f)\ *\ 3.5f);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dMultiply0(R\_final,\ R\_yaw,\ R\_tilt,\ 3,\ 3,\ 3);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dGeomSetRotation(liftRail2,\ R\_final);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{clist_8c_a264922774fdf767e31797fe81f2231be}{clistAddNode}}(physCtx-\/>\mbox{\hyperlink{structPhysicsContext_aa88cec7da4225aa5c1f2bbdabe55b35d}{statics}},\ liftRail2);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ mp;}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 